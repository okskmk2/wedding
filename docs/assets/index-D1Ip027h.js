(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function tc(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const De={},$r=[],ln=()=>{},B_=()=>!1,Bo=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),nc=t=>t.startsWith("onUpdate:"),yt=Object.assign,rc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},j_=Object.prototype.hasOwnProperty,be=(t,e)=>j_.call(t,e),le=Array.isArray,Hr=t=>pi(t)==="[object Map]",jo=t=>pi(t)==="[object Set]",sh=t=>pi(t)==="[object Date]",de=t=>typeof t=="function",et=t=>typeof t=="string",hn=t=>typeof t=="symbol",ke=t=>t!==null&&typeof t=="object",kd=t=>(ke(t)||de(t))&&de(t.then)&&de(t.catch),xd=Object.prototype.toString,pi=t=>xd.call(t),$_=t=>pi(t).slice(8,-1),Md=t=>pi(t)==="[object Object]",sc=t=>et(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xs=tc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$o=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},H_=/-(\w)/g,Wn=$o(t=>t.replace(H_,(e,n)=>n?n.toUpperCase():"")),q_=/\B([A-Z])/g,wr=$o(t=>t.replace(q_,"-$1").toLowerCase()),Fd=$o(t=>t.charAt(0).toUpperCase()+t.slice(1)),Va=$o(t=>t?`on${Fd(t)}`:""),Un=(t,e)=>!Object.is(t,e),Zi=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ud=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},fo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let ih;const Ho=()=>ih||(ih=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function qo(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=et(r)?z_(r):qo(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(et(t)||ke(t))return t}const W_=/;(?![^(]*\))/g,K_=/:([^]+)/,G_=/\/\*[^]*?\*\//g;function z_(t){const e={};return t.replace(G_,"").split(W_).forEach(n=>{if(n){const r=n.split(K_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ic(t){let e="";if(et(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=ic(t[n]);r&&(e+=r+" ")}else if(ke(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Q_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Y_=tc(Q_);function Bd(t){return!!t||t===""}function X_(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Wo(t[r],e[r]);return n}function Wo(t,e){if(t===e)return!0;let n=sh(t),r=sh(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=hn(t),r=hn(e),n||r)return t===e;if(n=le(t),r=le(e),n||r)return n&&r?X_(t,e):!1;if(n=ke(t),r=ke(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!Wo(t[o],e[o]))return!1}}return String(t)===String(e)}function J_(t,e){return t.findIndex(n=>Wo(n,e))}const jd=t=>!!(t&&t.__v_isRef===!0),Ne=t=>et(t)?t:t==null?"":le(t)||ke(t)&&(t.toString===xd||!de(t.toString))?jd(t)?Ne(t.value):JSON.stringify(t,$d,2):String(t),$d=(t,e)=>jd(e)?$d(t,e.value):Hr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[ka(r,i)+" =>"]=s,n),{})}:jo(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>ka(n))}:hn(e)?ka(e):ke(e)&&!le(e)&&!Md(e)?String(e):e,ka=(t,e="")=>{var n;return hn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vt;class Hd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Vt,!e&&Vt&&(this.index=(Vt.scopes||(Vt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Vt;try{return Vt=this,e()}finally{Vt=n}}}on(){Vt=this}off(){Vt=this.parent}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Z_(t){return new Hd(t)}function ey(){return Vt}let Oe;const xa=new WeakSet;class qd{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Vt&&Vt.active&&Vt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xa.has(this)&&(xa.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Kd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,oh(this),Gd(this);const e=Oe,n=Qt;Oe=this,Qt=!0;try{return this.fn()}finally{zd(this),Oe=e,Qt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)lc(e);this.deps=this.depsTail=void 0,oh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xa.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ol(this)&&this.run()}get dirty(){return ol(this)}}let Wd=0,Ms,Fs;function Kd(t,e=!1){if(t.flags|=8,e){t.next=Fs,Fs=t;return}t.next=Ms,Ms=t}function oc(){Wd++}function ac(){if(--Wd>0)return;if(Fs){let e=Fs;for(Fs=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Ms;){let e=Ms;for(Ms=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Gd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function zd(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),lc(r),ty(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ol(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Qd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Qd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===zs))return;t.globalVersion=zs;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!ol(t)){t.flags&=-3;return}const n=Oe,r=Qt;Oe=t,Qt=!0;try{Gd(t);const s=t.fn(t._value);(e.version===0||Un(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Oe=n,Qt=r,zd(t),t.flags&=-3}}function lc(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)lc(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ty(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Qt=!0;const Yd=[];function Jn(){Yd.push(Qt),Qt=!1}function Zn(){const t=Yd.pop();Qt=t===void 0?!0:t}function oh(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Oe;Oe=void 0;try{e()}finally{Oe=n}}}let zs=0;class ny{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cc{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Oe||!Qt||Oe===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Oe)n=this.activeLink=new ny(Oe,this),Oe.deps?(n.prevDep=Oe.depsTail,Oe.depsTail.nextDep=n,Oe.depsTail=n):Oe.deps=Oe.depsTail=n,Xd(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Oe.depsTail,n.nextDep=void 0,Oe.depsTail.nextDep=n,Oe.depsTail=n,Oe.deps===n&&(Oe.deps=r)}return n}trigger(e){this.version++,zs++,this.notify(e)}notify(e){oc();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ac()}}}function Xd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Xd(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const al=new WeakMap,_r=Symbol(""),ll=Symbol(""),Qs=Symbol("");function mt(t,e,n){if(Qt&&Oe){let r=al.get(t);r||al.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new cc),s.map=r,s.key=n),s.track()}}function vn(t,e,n,r,s,i){const o=al.get(t);if(!o){zs++;return}const l=c=>{c&&c.trigger()};if(oc(),e==="clear")o.forEach(l);else{const c=le(t),h=c&&sc(n);if(c&&n==="length"){const f=Number(r);o.forEach((m,g)=>{(g==="length"||g===Qs||!hn(g)&&g>=f)&&l(m)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(Qs)),e){case"add":c?h&&l(o.get("length")):(l(o.get(_r)),Hr(t)&&l(o.get(ll)));break;case"delete":c||(l(o.get(_r)),Hr(t)&&l(o.get(ll)));break;case"set":Hr(t)&&l(o.get(_r));break}}ac()}function Lr(t){const e=we(t);return e===t?e:(mt(e,"iterate",Qs),Yt(t)?e:e.map(At))}function uc(t){return mt(t=we(t),"iterate",Qs),t}const ry={__proto__:null,[Symbol.iterator](){return Ma(this,Symbol.iterator,At)},concat(...t){return Lr(this).concat(...t.map(e=>le(e)?Lr(e):e))},entries(){return Ma(this,"entries",t=>(t[1]=At(t[1]),t))},every(t,e){return yn(this,"every",t,e,void 0,arguments)},filter(t,e){return yn(this,"filter",t,e,n=>n.map(At),arguments)},find(t,e){return yn(this,"find",t,e,At,arguments)},findIndex(t,e){return yn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return yn(this,"findLast",t,e,At,arguments)},findLastIndex(t,e){return yn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return yn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Fa(this,"includes",t)},indexOf(...t){return Fa(this,"indexOf",t)},join(t){return Lr(this).join(t)},lastIndexOf(...t){return Fa(this,"lastIndexOf",t)},map(t,e){return yn(this,"map",t,e,void 0,arguments)},pop(){return Ss(this,"pop")},push(...t){return Ss(this,"push",t)},reduce(t,...e){return ah(this,"reduce",t,e)},reduceRight(t,...e){return ah(this,"reduceRight",t,e)},shift(){return Ss(this,"shift")},some(t,e){return yn(this,"some",t,e,void 0,arguments)},splice(...t){return Ss(this,"splice",t)},toReversed(){return Lr(this).toReversed()},toSorted(t){return Lr(this).toSorted(t)},toSpliced(...t){return Lr(this).toSpliced(...t)},unshift(...t){return Ss(this,"unshift",t)},values(){return Ma(this,"values",At)}};function Ma(t,e,n){const r=uc(t),s=r[e]();return r!==t&&!Yt(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const sy=Array.prototype;function yn(t,e,n,r,s,i){const o=uc(t),l=o!==t&&!Yt(t),c=o[e];if(c!==sy[e]){const m=c.apply(t,i);return l?At(m):m}let h=n;o!==t&&(l?h=function(m,g){return n.call(this,At(m),g,t)}:n.length>2&&(h=function(m,g){return n.call(this,m,g,t)}));const f=c.call(o,h,r);return l&&s?s(f):f}function ah(t,e,n,r){const s=uc(t);let i=n;return s!==t&&(Yt(t)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,t)}):i=function(o,l,c){return n.call(this,o,At(l),c,t)}),s[e](i,...r)}function Fa(t,e,n){const r=we(t);mt(r,"iterate",Qs);const s=r[e](...n);return(s===-1||s===!1)&&mc(n[0])?(n[0]=we(n[0]),r[e](...n)):s}function Ss(t,e,n=[]){Jn(),oc();const r=we(t)[e].apply(t,n);return ac(),Zn(),r}const iy=tc("__proto__,__v_isRef,__isVue"),Jd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hn));function oy(t){hn(t)||(t=String(t));const e=we(this);return mt(e,"has",t),e.hasOwnProperty(t)}class Zd{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?gy:rm:i?nm:tm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=le(e);if(!s){let c;if(o&&(c=ry[n]))return c;if(n==="hasOwnProperty")return oy}const l=Reflect.get(e,n,lt(e)?e:r);return(hn(n)?Jd.has(n):iy(n))||(s||mt(e,"get",n),i)?l:lt(l)?o&&sc(n)?l:l.value:ke(l)?s?sm(l):fc(l):l}}class em extends Zd{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=Er(i);if(!Yt(r)&&!Er(r)&&(i=we(i),r=we(r)),!le(e)&&lt(i)&&!lt(r))return c?!1:(i.value=r,!0)}const o=le(e)&&sc(n)?Number(n)<e.length:be(e,n),l=Reflect.set(e,n,r,lt(e)?e:s);return e===we(s)&&(o?Un(r,i)&&vn(e,"set",n,r):vn(e,"add",n,r)),l}deleteProperty(e,n){const r=be(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&vn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!hn(n)||!Jd.has(n))&&mt(e,"has",n),r}ownKeys(e){return mt(e,"iterate",le(e)?"length":_r),Reflect.ownKeys(e)}}class ay extends Zd{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ly=new em,cy=new ay,uy=new em(!0);const cl=t=>t,ji=t=>Reflect.getPrototypeOf(t);function hy(t,e,n){return function(...r){const s=this.__v_raw,i=we(s),o=Hr(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=s[t](...r),f=n?cl:e?ul:At;return!e&&mt(i,"iterate",c?ll:_r),{next(){const{value:m,done:g}=h.next();return g?{value:m,done:g}:{value:l?[f(m[0]),f(m[1])]:f(m),done:g}},[Symbol.iterator](){return this}}}}function $i(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function fy(t,e){const n={get(s){const i=this.__v_raw,o=we(i),l=we(s);t||(Un(s,l)&&mt(o,"get",s),mt(o,"get",l));const{has:c}=ji(o),h=e?cl:t?ul:At;if(c.call(o,s))return h(i.get(s));if(c.call(o,l))return h(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&mt(we(s),"iterate",_r),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=we(i),l=we(s);return t||(Un(s,l)&&mt(o,"has",s),mt(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=we(l),h=e?cl:t?ul:At;return!t&&mt(c,"iterate",_r),l.forEach((f,m)=>s.call(i,h(f),h(m),o))}};return yt(n,t?{add:$i("add"),set:$i("set"),delete:$i("delete"),clear:$i("clear")}:{add(s){!e&&!Yt(s)&&!Er(s)&&(s=we(s));const i=we(this);return ji(i).has.call(i,s)||(i.add(s),vn(i,"add",s,s)),this},set(s,i){!e&&!Yt(i)&&!Er(i)&&(i=we(i));const o=we(this),{has:l,get:c}=ji(o);let h=l.call(o,s);h||(s=we(s),h=l.call(o,s));const f=c.call(o,s);return o.set(s,i),h?Un(i,f)&&vn(o,"set",s,i):vn(o,"add",s,i),this},delete(s){const i=we(this),{has:o,get:l}=ji(i);let c=o.call(i,s);c||(s=we(s),c=o.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&vn(i,"delete",s,void 0),h},clear(){const s=we(this),i=s.size!==0,o=s.clear();return i&&vn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=hy(s,t,e)}),n}function hc(t,e){const n=fy(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(be(n,s)&&s in r?n:r,s,i)}const dy={get:hc(!1,!1)},my={get:hc(!1,!0)},py={get:hc(!0,!1)};const tm=new WeakMap,nm=new WeakMap,rm=new WeakMap,gy=new WeakMap;function _y(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yy(t){return t.__v_skip||!Object.isExtensible(t)?0:_y($_(t))}function fc(t){return Er(t)?t:dc(t,!1,ly,dy,tm)}function Ey(t){return dc(t,!1,uy,my,nm)}function sm(t){return dc(t,!0,cy,py,rm)}function dc(t,e,n,r,s){if(!ke(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=yy(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return s.set(t,l),l}function Us(t){return Er(t)?Us(t.__v_raw):!!(t&&t.__v_isReactive)}function Er(t){return!!(t&&t.__v_isReadonly)}function Yt(t){return!!(t&&t.__v_isShallow)}function mc(t){return t?!!t.__v_raw:!1}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function Ty(t){return!be(t,"__v_skip")&&Object.isExtensible(t)&&Ud(t,"__v_skip",!0),t}const At=t=>ke(t)?fc(t):t,ul=t=>ke(t)?sm(t):t;function lt(t){return t?t.__v_isRef===!0:!1}function vy(t){return im(t,!1)}function Ay(t){return im(t,!0)}function im(t,e){return lt(t)?t:new Iy(t,e)}class Iy{constructor(e,n){this.dep=new cc,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:we(e),this._value=n?e:At(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||Yt(e)||Er(e);e=r?e:we(e),Un(e,n)&&(this._rawValue=e,this._value=r?e:At(e),this.dep.trigger())}}function wy(t){return lt(t)?t.value:t}const by={get:(t,e,n)=>e==="__v_raw"?t:wy(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return lt(s)&&!lt(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function om(t){return Us(t)?t:new Proxy(t,by)}class Ry{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new cc(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=zs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Oe!==this)return Kd(this,!0),!0}get value(){const e=this.dep.track();return Qd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Sy(t,e,n=!1){let r,s;return de(t)?r=t:(r=t.get,s=t.set),new Ry(r,s,n)}const Hi={},mo=new WeakMap;let ur;function Cy(t,e=!1,n=ur){if(n){let r=mo.get(n);r||mo.set(n,r=[]),r.push(t)}}function Py(t,e,n=De){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,h=V=>s?V:Yt(V)||s===!1||s===0?An(V,1):An(V);let f,m,g,I,C=!1,D=!1;if(lt(t)?(m=()=>t.value,C=Yt(t)):Us(t)?(m=()=>h(t),C=!0):le(t)?(D=!0,C=t.some(V=>Us(V)||Yt(V)),m=()=>t.map(V=>{if(lt(V))return V.value;if(Us(V))return h(V);if(de(V))return c?c(V,2):V()})):de(t)?e?m=c?()=>c(t,2):t:m=()=>{if(g){Jn();try{g()}finally{Zn()}}const V=ur;ur=f;try{return c?c(t,3,[I]):t(I)}finally{ur=V}}:m=ln,e&&s){const V=m,q=s===!0?1/0:s;m=()=>An(V(),q)}const P=ey(),b=()=>{f.stop(),P&&P.active&&rc(P.effects,f)};if(i&&e){const V=e;e=(...q)=>{V(...q),b()}}let x=D?new Array(t.length).fill(Hi):Hi;const U=V=>{if(!(!(f.flags&1)||!f.dirty&&!V))if(e){const q=f.run();if(s||C||(D?q.some((z,y)=>Un(z,x[y])):Un(q,x))){g&&g();const z=ur;ur=f;try{const y=[q,x===Hi?void 0:D&&x[0]===Hi?[]:x,I];c?c(e,3,y):e(...y),x=q}finally{ur=z}}}else f.run()};return l&&l(U),f=new qd(m),f.scheduler=o?()=>o(U,!1):U,I=V=>Cy(V,!1,f),g=f.onStop=()=>{const V=mo.get(f);if(V){if(c)c(V,4);else for(const q of V)q();mo.delete(f)}},e?r?U(!0):x=f.run():o?o(U.bind(null,!0),!0):f.run(),b.pause=f.pause.bind(f),b.resume=f.resume.bind(f),b.stop=b,b}function An(t,e=1/0,n){if(e<=0||!ke(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,lt(t))An(t.value,e,n);else if(le(t))for(let r=0;r<t.length;r++)An(t[r],e,n);else if(jo(t)||Hr(t))t.forEach(r=>{An(r,e,n)});else if(Md(t)){for(const r in t)An(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&An(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gi(t,e,n,r){try{return r?t(...r):t()}catch(s){Ko(s,e,n)}}function fn(t,e,n,r){if(de(t)){const s=gi(t,e,n,r);return s&&kd(s)&&s.catch(i=>{Ko(i,e,n)}),s}if(le(t)){const s=[];for(let i=0;i<t.length;i++)s.push(fn(t[i],e,n,r));return s}}function Ko(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||De;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const f=l.ec;if(f){for(let m=0;m<f.length;m++)if(f[m](t,c,h)===!1)return}l=l.parent}if(i){Jn(),gi(i,null,10,[t,c,h]),Zn();return}}Ny(t,n,s,r,o)}function Ny(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const It=[];let sn=-1;const qr=[];let xn=null,kr=0;const am=Promise.resolve();let po=null;function lm(t){const e=po||am;return t?e.then(this?t.bind(this):t):e}function Dy(t){let e=sn+1,n=It.length;for(;e<n;){const r=e+n>>>1,s=It[r],i=Ys(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function pc(t){if(!(t.flags&1)){const e=Ys(t),n=It[It.length-1];!n||!(t.flags&2)&&e>=Ys(n)?It.push(t):It.splice(Dy(e),0,t),t.flags|=1,cm()}}function cm(){po||(po=am.then(hm))}function Oy(t){le(t)?qr.push(...t):xn&&t.id===-1?xn.splice(kr+1,0,t):t.flags&1||(qr.push(t),t.flags|=1),cm()}function lh(t,e,n=sn+1){for(;n<It.length;n++){const r=It[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;It.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function um(t){if(qr.length){const e=[...new Set(qr)].sort((n,r)=>Ys(n)-Ys(r));if(qr.length=0,xn){xn.push(...e);return}for(xn=e,kr=0;kr<xn.length;kr++){const n=xn[kr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}xn=null,kr=0}}const Ys=t=>t.id==null?t.flags&2?-1:1/0:t.id;function hm(t){try{for(sn=0;sn<It.length;sn++){const e=It[sn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),gi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;sn<It.length;sn++){const e=It[sn];e&&(e.flags&=-2)}sn=-1,It.length=0,um(),po=null,(It.length||qr.length)&&hm()}}let kt=null,fm=null;function go(t){const e=kt;return kt=t,fm=t&&t.type.__scopeId||null,e}function Ly(t,e=kt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&_h(-1);const i=go(e);let o;try{o=t(...s)}finally{go(i),r._d&&_h(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ua(t,e){if(kt===null)return t;const n=Qo(kt),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,c=De]=e[s];i&&(de(i)&&(i={mounted:i,updated:i}),i.deep&&An(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function lr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(Jn(),fn(c,n,8,[t.el,l,t,e]),Zn())}}const Vy=Symbol("_vte"),ky=t=>t.__isTeleport;function gc(t,e){t.shapeFlag&6&&t.component?(t.transition=e,gc(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function _c(t,e){return de(t)?yt({name:t.name},e,{setup:t}):t}function dm(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function _o(t,e,n,r,s=!1){if(le(t)){t.forEach((C,D)=>_o(C,e&&(le(e)?e[D]:e),n,r,s));return}if(Bs(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&_o(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?Qo(r.component):r.el,o=s?null:i,{i:l,r:c}=t,h=e&&e.r,f=l.refs===De?l.refs={}:l.refs,m=l.setupState,g=we(m),I=m===De?()=>!1:C=>be(g,C);if(h!=null&&h!==c&&(et(h)?(f[h]=null,I(h)&&(m[h]=null)):lt(h)&&(h.value=null)),de(c))gi(c,l,12,[o,f]);else{const C=et(c),D=lt(c);if(C||D){const P=()=>{if(t.f){const b=C?I(c)?m[c]:f[c]:c.value;s?le(b)&&rc(b,i):le(b)?b.includes(i)||b.push(i):C?(f[c]=[i],I(c)&&(m[c]=f[c])):(c.value=[i],t.k&&(f[t.k]=c.value))}else C?(f[c]=o,I(c)&&(m[c]=o)):D&&(c.value=o,t.k&&(f[t.k]=o))};o?(P.id=-1,Lt(P,n)):P()}}}Ho().requestIdleCallback;Ho().cancelIdleCallback;const Bs=t=>!!t.type.__asyncLoader,mm=t=>t.type.__isKeepAlive;function xy(t,e){pm(t,"a",e)}function My(t,e){pm(t,"da",e)}function pm(t,e,n=gt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Go(e,r,n),n){let s=n.parent;for(;s&&s.parent;)mm(s.parent.vnode)&&Fy(r,e,n,s),s=s.parent}}function Fy(t,e,n,r){const s=Go(e,t,r,!0);yc(()=>{rc(r[e],s)},n)}function Go(t,e,n=gt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Jn();const l=yi(n),c=fn(e,n,t,o);return l(),Zn(),c});return r?s.unshift(i):s.push(i),i}}const Pn=t=>(e,n=gt)=>{(!Zs||t==="sp")&&Go(t,(...r)=>e(...r),n)},Uy=Pn("bm"),gm=Pn("m"),By=Pn("bu"),jy=Pn("u"),$y=Pn("bum"),yc=Pn("um"),Hy=Pn("sp"),qy=Pn("rtg"),Wy=Pn("rtc");function Ky(t,e=gt){Go("ec",t,e)}const Gy=Symbol.for("v-ndc"),hl=t=>t?Mm(t)?Qo(t):hl(t.parent):null,js=yt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>hl(t.parent),$root:t=>hl(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ym(t),$forceUpdate:t=>t.f||(t.f=()=>{pc(t.update)}),$nextTick:t=>t.n||(t.n=lm.bind(t.proxy)),$watch:t=>pE.bind(t)}),Ba=(t,e)=>t!==De&&!t.__isScriptSetup&&be(t,e),zy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=t;let h;if(e[0]!=="$"){const I=o[e];if(I!==void 0)switch(I){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ba(r,e))return o[e]=1,r[e];if(s!==De&&be(s,e))return o[e]=2,s[e];if((h=t.propsOptions[0])&&be(h,e))return o[e]=3,i[e];if(n!==De&&be(n,e))return o[e]=4,n[e];fl&&(o[e]=0)}}const f=js[e];let m,g;if(f)return e==="$attrs"&&mt(t.attrs,"get",""),f(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(n!==De&&be(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,be(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ba(s,e)?(s[e]=n,!0):r!==De&&be(r,e)?(r[e]=n,!0):be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==De&&be(t,o)||Ba(e,o)||(l=i[0])&&be(l,o)||be(r,o)||be(js,o)||be(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:be(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function ch(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let fl=!0;function Qy(t){const e=ym(t),n=t.proxy,r=t.ctx;fl=!1,e.beforeCreate&&uh(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:h,created:f,beforeMount:m,mounted:g,beforeUpdate:I,updated:C,activated:D,deactivated:P,beforeDestroy:b,beforeUnmount:x,destroyed:U,unmounted:V,render:q,renderTracked:z,renderTriggered:y,errorCaptured:T,serverPrefetch:v,expose:R,inheritAttrs:N,components:k,directives:A,filters:nt}=e;if(h&&Yy(h,r,null),o)for(const Te in o){const pe=o[Te];de(pe)&&(r[Te]=pe.bind(n))}if(s){const Te=s.call(n,n);ke(Te)&&(t.data=fc(Te))}if(fl=!0,i)for(const Te in i){const pe=i[Te],qe=de(pe)?pe.bind(n,n):de(pe.get)?pe.get.bind(n,n):ln,Bt=!de(pe)&&de(pe.set)?pe.set.bind(n):ln,wt=xr({get:qe,set:Bt});Object.defineProperty(r,Te,{enumerable:!0,configurable:!0,get:()=>wt.value,set:Fe=>wt.value=Fe})}if(l)for(const Te in l)_m(l[Te],r,n,Te);if(c){const Te=de(c)?c.call(n):c;Reflect.ownKeys(Te).forEach(pe=>{nE(pe,Te[pe])})}f&&uh(f,t,"c");function He(Te,pe){le(pe)?pe.forEach(qe=>Te(qe.bind(n))):pe&&Te(pe.bind(n))}if(He(Uy,m),He(gm,g),He(By,I),He(jy,C),He(xy,D),He(My,P),He(Ky,T),He(Wy,z),He(qy,y),He($y,x),He(yc,V),He(Hy,v),le(R))if(R.length){const Te=t.exposed||(t.exposed={});R.forEach(pe=>{Object.defineProperty(Te,pe,{get:()=>n[pe],set:qe=>n[pe]=qe})})}else t.exposed||(t.exposed={});q&&t.render===ln&&(t.render=q),N!=null&&(t.inheritAttrs=N),k&&(t.components=k),A&&(t.directives=A),v&&dm(t)}function Yy(t,e,n=ln){le(t)&&(t=dl(t));for(const r in t){const s=t[r];let i;ke(s)?"default"in s?i=$s(s.from||r,s.default,!0):i=$s(s.from||r):i=$s(s),lt(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function uh(t,e,n){fn(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function _m(t,e,n,r){let s=r.includes(".")?Om(n,r):()=>n[r];if(et(t)){const i=e[t];de(i)&&Kr(s,i)}else if(de(t))Kr(s,t.bind(n));else if(ke(t))if(le(t))t.forEach(i=>_m(i,e,n,r));else{const i=de(t.handler)?t.handler.bind(n):e[t.handler];de(i)&&Kr(s,i,t)}}function ym(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(h=>yo(c,h,o,!0)),yo(c,e,o)),ke(e)&&i.set(e,c),c}function yo(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&yo(t,i,n,!0),s&&s.forEach(o=>yo(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=Xy[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Xy={data:hh,props:fh,emits:fh,methods:Ds,computed:Ds,beforeCreate:Tt,created:Tt,beforeMount:Tt,mounted:Tt,beforeUpdate:Tt,updated:Tt,beforeDestroy:Tt,beforeUnmount:Tt,destroyed:Tt,unmounted:Tt,activated:Tt,deactivated:Tt,errorCaptured:Tt,serverPrefetch:Tt,components:Ds,directives:Ds,watch:Zy,provide:hh,inject:Jy};function hh(t,e){return e?t?function(){return yt(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function Jy(t,e){return Ds(dl(t),dl(e))}function dl(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Tt(t,e){return t?[...new Set([].concat(t,e))]:e}function Ds(t,e){return t?yt(Object.create(null),t,e):e}function fh(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:yt(Object.create(null),ch(t),ch(e??{})):e}function Zy(t,e){if(!t)return e;if(!e)return t;const n=yt(Object.create(null),t);for(const r in e)n[r]=Tt(t[r],e[r]);return n}function Em(){return{app:null,config:{isNativeTag:B_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eE=0;function tE(t,e){return function(r,s=null){de(r)||(r=yt({},r)),s!=null&&!ke(s)&&(s=null);const i=Em(),o=new WeakSet,l=[];let c=!1;const h=i.app={_uid:eE++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:ME,get config(){return i.config},set config(f){},use(f,...m){return o.has(f)||(f&&de(f.install)?(o.add(f),f.install(h,...m)):de(f)&&(o.add(f),f(h,...m))),h},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),h},component(f,m){return m?(i.components[f]=m,h):i.components[f]},directive(f,m){return m?(i.directives[f]=m,h):i.directives[f]},mount(f,m,g){if(!c){const I=h._ceVNode||Ct(r,s);return I.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),t(I,f,g),c=!0,h._container=f,f.__vue_app__=h,Qo(I.component)}},onUnmount(f){l.push(f)},unmount(){c&&(fn(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(f,m){return i.provides[f]=m,h},runWithContext(f){const m=Wr;Wr=h;try{return f()}finally{Wr=m}}};return h}}let Wr=null;function nE(t,e){if(gt){let n=gt.provides;const r=gt.parent&&gt.parent.provides;r===n&&(n=gt.provides=Object.create(r)),n[t]=e}}function $s(t,e,n=!1){const r=gt||kt;if(r||Wr){const s=Wr?Wr._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&de(e)?e.call(r&&r.proxy):e}}const Tm={},vm=()=>Object.create(Tm),Am=t=>Object.getPrototypeOf(t)===Tm;function rE(t,e,n,r=!1){const s={},i=vm();t.propsDefaults=Object.create(null),Im(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Ey(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function sE(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=we(s),[c]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let m=0;m<f.length;m++){let g=f[m];if(zo(t.emitsOptions,g))continue;const I=e[g];if(c)if(be(i,g))I!==i[g]&&(i[g]=I,h=!0);else{const C=Wn(g);s[C]=ml(c,l,C,I,t,!1)}else I!==i[g]&&(i[g]=I,h=!0)}}}else{Im(t,e,s,i)&&(h=!0);let f;for(const m in l)(!e||!be(e,m)&&((f=wr(m))===m||!be(e,f)))&&(c?n&&(n[m]!==void 0||n[f]!==void 0)&&(s[m]=ml(c,l,m,void 0,t,!0)):delete s[m]);if(i!==l)for(const m in i)(!e||!be(e,m))&&(delete i[m],h=!0)}h&&vn(t.attrs,"set","")}function Im(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(xs(c))continue;const h=e[c];let f;s&&be(s,f=Wn(c))?!i||!i.includes(f)?n[f]=h:(l||(l={}))[f]=h:zo(t.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,o=!0)}if(i){const c=we(n),h=l||De;for(let f=0;f<i.length;f++){const m=i[f];n[m]=ml(s,c,m,h[m],t,!be(h,m))}}return o}function ml(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=be(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&de(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const f=yi(s);r=h[n]=c.call(null,e),f()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===wr(n))&&(r=!0))}return r}const iE=new WeakMap;function wm(t,e,n=!1){const r=n?iE:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let c=!1;if(!de(t)){const f=m=>{c=!0;const[g,I]=wm(m,e,!0);yt(o,g),I&&l.push(...I)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!c)return ke(t)&&r.set(t,$r),$r;if(le(i))for(let f=0;f<i.length;f++){const m=Wn(i[f]);dh(m)&&(o[m]=De)}else if(i)for(const f in i){const m=Wn(f);if(dh(m)){const g=i[f],I=o[m]=le(g)||de(g)?{type:g}:yt({},g),C=I.type;let D=!1,P=!0;if(le(C))for(let b=0;b<C.length;++b){const x=C[b],U=de(x)&&x.name;if(U==="Boolean"){D=!0;break}else U==="String"&&(P=!1)}else D=de(C)&&C.name==="Boolean";I[0]=D,I[1]=P,(D||be(I,"default"))&&l.push(m)}}const h=[o,l];return ke(t)&&r.set(t,h),h}function dh(t){return t[0]!=="$"&&!xs(t)}const bm=t=>t[0]==="_"||t==="$stable",Ec=t=>le(t)?t.map(an):[an(t)],oE=(t,e,n)=>{if(e._n)return e;const r=Ly((...s)=>Ec(e(...s)),n);return r._c=!1,r},Rm=(t,e,n)=>{const r=t._ctx;for(const s in t){if(bm(s))continue;const i=t[s];if(de(i))e[s]=oE(s,i,r);else if(i!=null){const o=Ec(i);e[s]=()=>o}}},Sm=(t,e)=>{const n=Ec(e);t.slots.default=()=>n},Cm=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},aE=(t,e,n)=>{const r=t.slots=vm();if(t.vnode.shapeFlag&32){const s=e._;s?(Cm(r,e,n),n&&Ud(r,"_",s,!0)):Rm(e,r)}else e&&Sm(t,e)},lE=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=De;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:Cm(s,e,n):(i=!e.$stable,Rm(e,s)),o=e}else e&&(Sm(t,e),o={default:1});if(i)for(const l in s)!bm(l)&&o[l]==null&&delete s[l]},Lt=AE;function cE(t){return uE(t)}function uE(t,e){const n=Ho();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:h,setElementText:f,parentNode:m,nextSibling:g,setScopeId:I=ln,insertStaticContent:C}=t,D=(w,S,B,Q=null,G=null,Y=null,_=void 0,E=null,L=!!S.dynamicChildren)=>{if(w===S)return;w&&!Cs(w,S)&&(Q=Dt(w),Fe(w,G,Y,!0),w=null),S.patchFlag===-2&&(L=!1,S.dynamicChildren=null);const{type:F,ref:ee,shapeFlag:W}=S;switch(F){case _i:P(w,S,B,Q);break;case Tr:b(w,S,B,Q);break;case $a:w==null&&x(S,B,Q,_);break;case Kt:k(w,S,B,Q,G,Y,_,E,L);break;default:W&1?q(w,S,B,Q,G,Y,_,E,L):W&6?A(w,S,B,Q,G,Y,_,E,L):(W&64||W&128)&&F.process(w,S,B,Q,G,Y,_,E,L,bt)}ee!=null&&G&&_o(ee,w&&w.ref,Y,S||w,!S)},P=(w,S,B,Q)=>{if(w==null)r(S.el=l(S.children),B,Q);else{const G=S.el=w.el;S.children!==w.children&&h(G,S.children)}},b=(w,S,B,Q)=>{w==null?r(S.el=c(S.children||""),B,Q):S.el=w.el},x=(w,S,B,Q)=>{[w.el,w.anchor]=C(w.children,S,B,Q,w.el,w.anchor)},U=({el:w,anchor:S},B,Q)=>{let G;for(;w&&w!==S;)G=g(w),r(w,B,Q),w=G;r(S,B,Q)},V=({el:w,anchor:S})=>{let B;for(;w&&w!==S;)B=g(w),s(w),w=B;s(S)},q=(w,S,B,Q,G,Y,_,E,L)=>{S.type==="svg"?_="svg":S.type==="math"&&(_="mathml"),w==null?z(S,B,Q,G,Y,_,E,L):v(w,S,G,Y,_,E,L)},z=(w,S,B,Q,G,Y,_,E)=>{let L,F;const{props:ee,shapeFlag:W,transition:O,dirs:j}=w;if(L=w.el=o(w.type,Y,ee&&ee.is,ee),W&8?f(L,w.children):W&16&&T(w.children,L,null,Q,G,ja(w,Y),_,E),j&&lr(w,null,Q,"created"),y(L,w,w.scopeId,_,Q),ee){for(const se in ee)se!=="value"&&!xs(se)&&i(L,se,null,ee[se],Y,Q);"value"in ee&&i(L,"value",null,ee.value,Y),(F=ee.onVnodeBeforeMount)&&tn(F,Q,w)}j&&lr(w,null,Q,"beforeMount");const Z=hE(G,O);Z&&O.beforeEnter(L),r(L,S,B),((F=ee&&ee.onVnodeMounted)||Z||j)&&Lt(()=>{F&&tn(F,Q,w),Z&&O.enter(L),j&&lr(w,null,Q,"mounted")},G)},y=(w,S,B,Q,G)=>{if(B&&I(w,B),Q)for(let Y=0;Y<Q.length;Y++)I(w,Q[Y]);if(G){let Y=G.subTree;if(S===Y||Vm(Y.type)&&(Y.ssContent===S||Y.ssFallback===S)){const _=G.vnode;y(w,_,_.scopeId,_.slotScopeIds,G.parent)}}},T=(w,S,B,Q,G,Y,_,E,L=0)=>{for(let F=L;F<w.length;F++){const ee=w[F]=E?Mn(w[F]):an(w[F]);D(null,ee,S,B,Q,G,Y,_,E)}},v=(w,S,B,Q,G,Y,_)=>{const E=S.el=w.el;let{patchFlag:L,dynamicChildren:F,dirs:ee}=S;L|=w.patchFlag&16;const W=w.props||De,O=S.props||De;let j;if(B&&cr(B,!1),(j=O.onVnodeBeforeUpdate)&&tn(j,B,S,w),ee&&lr(S,w,B,"beforeUpdate"),B&&cr(B,!0),(W.innerHTML&&O.innerHTML==null||W.textContent&&O.textContent==null)&&f(E,""),F?R(w.dynamicChildren,F,E,B,Q,ja(S,G),Y):_||pe(w,S,E,null,B,Q,ja(S,G),Y,!1),L>0){if(L&16)N(E,W,O,B,G);else if(L&2&&W.class!==O.class&&i(E,"class",null,O.class,G),L&4&&i(E,"style",W.style,O.style,G),L&8){const Z=S.dynamicProps;for(let se=0;se<Z.length;se++){const he=Z[se],We=W[he],xe=O[he];(xe!==We||he==="value")&&i(E,he,We,xe,G,B)}}L&1&&w.children!==S.children&&f(E,S.children)}else!_&&F==null&&N(E,W,O,B,G);((j=O.onVnodeUpdated)||ee)&&Lt(()=>{j&&tn(j,B,S,w),ee&&lr(S,w,B,"updated")},Q)},R=(w,S,B,Q,G,Y,_)=>{for(let E=0;E<S.length;E++){const L=w[E],F=S[E],ee=L.el&&(L.type===Kt||!Cs(L,F)||L.shapeFlag&70)?m(L.el):B;D(L,F,ee,null,Q,G,Y,_,!0)}},N=(w,S,B,Q,G)=>{if(S!==B){if(S!==De)for(const Y in S)!xs(Y)&&!(Y in B)&&i(w,Y,S[Y],null,G,Q);for(const Y in B){if(xs(Y))continue;const _=B[Y],E=S[Y];_!==E&&Y!=="value"&&i(w,Y,E,_,G,Q)}"value"in B&&i(w,"value",S.value,B.value,G)}},k=(w,S,B,Q,G,Y,_,E,L)=>{const F=S.el=w?w.el:l(""),ee=S.anchor=w?w.anchor:l("");let{patchFlag:W,dynamicChildren:O,slotScopeIds:j}=S;j&&(E=E?E.concat(j):j),w==null?(r(F,B,Q),r(ee,B,Q),T(S.children||[],B,ee,G,Y,_,E,L)):W>0&&W&64&&O&&w.dynamicChildren?(R(w.dynamicChildren,O,B,G,Y,_,E),(S.key!=null||G&&S===G.subTree)&&Pm(w,S,!0)):pe(w,S,B,ee,G,Y,_,E,L)},A=(w,S,B,Q,G,Y,_,E,L)=>{S.slotScopeIds=E,w==null?S.shapeFlag&512?G.ctx.activate(S,B,Q,_,L):nt(S,B,Q,G,Y,_,L):Ut(w,S,L)},nt=(w,S,B,Q,G,Y,_)=>{const E=w.component=DE(w,Q,G);if(mm(w)&&(E.ctx.renderer=bt),OE(E,!1,_),E.asyncDep){if(G&&G.registerDep(E,He,_),!w.el){const L=E.subTree=Ct(Tr);b(null,L,S,B)}}else He(E,w,S,B,G,Y,_)},Ut=(w,S,B)=>{const Q=S.component=w.component;if(TE(w,S,B))if(Q.asyncDep&&!Q.asyncResolved){Te(Q,S,B);return}else Q.next=S,Q.update();else S.el=w.el,Q.vnode=S},He=(w,S,B,Q,G,Y,_)=>{const E=()=>{if(w.isMounted){let{next:W,bu:O,u:j,parent:Z,vnode:se}=w;{const rt=Nm(w);if(rt){W&&(W.el=se.el,Te(w,W,_)),rt.asyncDep.then(()=>{w.isUnmounted||E()});return}}let he=W,We;cr(w,!1),W?(W.el=se.el,Te(w,W,_)):W=se,O&&Zi(O),(We=W.props&&W.props.onVnodeBeforeUpdate)&&tn(We,Z,W,se),cr(w,!0);const xe=ph(w),Rt=w.subTree;w.subTree=xe,D(Rt,xe,m(Rt.el),Dt(Rt),w,G,Y),W.el=xe.el,he===null&&vE(w,xe.el),j&&Lt(j,G),(We=W.props&&W.props.onVnodeUpdated)&&Lt(()=>tn(We,Z,W,se),G)}else{let W;const{el:O,props:j}=S,{bm:Z,m:se,parent:he,root:We,type:xe}=w,Rt=Bs(S);cr(w,!1),Z&&Zi(Z),!Rt&&(W=j&&j.onVnodeBeforeMount)&&tn(W,he,S),cr(w,!0);{We.ce&&We.ce._injectChildStyle(xe);const rt=w.subTree=ph(w);D(null,rt,B,Q,w,G,Y),S.el=rt.el}if(se&&Lt(se,G),!Rt&&(W=j&&j.onVnodeMounted)){const rt=S;Lt(()=>tn(W,he,rt),G)}(S.shapeFlag&256||he&&Bs(he.vnode)&&he.vnode.shapeFlag&256)&&w.a&&Lt(w.a,G),w.isMounted=!0,S=B=Q=null}};w.scope.on();const L=w.effect=new qd(E);w.scope.off();const F=w.update=L.run.bind(L),ee=w.job=L.runIfDirty.bind(L);ee.i=w,ee.id=w.uid,L.scheduler=()=>pc(ee),cr(w,!0),F()},Te=(w,S,B)=>{S.component=w;const Q=w.vnode.props;w.vnode=S,w.next=null,sE(w,S.props,Q,B),lE(w,S.children,B),Jn(),lh(w),Zn()},pe=(w,S,B,Q,G,Y,_,E,L=!1)=>{const F=w&&w.children,ee=w?w.shapeFlag:0,W=S.children,{patchFlag:O,shapeFlag:j}=S;if(O>0){if(O&128){Bt(F,W,B,Q,G,Y,_,E,L);return}else if(O&256){qe(F,W,B,Q,G,Y,_,E,L);return}}j&8?(ee&16&&qt(F,G,Y),W!==F&&f(B,W)):ee&16?j&16?Bt(F,W,B,Q,G,Y,_,E,L):qt(F,G,Y,!0):(ee&8&&f(B,""),j&16&&T(W,B,Q,G,Y,_,E,L))},qe=(w,S,B,Q,G,Y,_,E,L)=>{w=w||$r,S=S||$r;const F=w.length,ee=S.length,W=Math.min(F,ee);let O;for(O=0;O<W;O++){const j=S[O]=L?Mn(S[O]):an(S[O]);D(w[O],j,B,null,G,Y,_,E,L)}F>ee?qt(w,G,Y,!0,!1,W):T(S,B,Q,G,Y,_,E,L,W)},Bt=(w,S,B,Q,G,Y,_,E,L)=>{let F=0;const ee=S.length;let W=w.length-1,O=ee-1;for(;F<=W&&F<=O;){const j=w[F],Z=S[F]=L?Mn(S[F]):an(S[F]);if(Cs(j,Z))D(j,Z,B,null,G,Y,_,E,L);else break;F++}for(;F<=W&&F<=O;){const j=w[W],Z=S[O]=L?Mn(S[O]):an(S[O]);if(Cs(j,Z))D(j,Z,B,null,G,Y,_,E,L);else break;W--,O--}if(F>W){if(F<=O){const j=O+1,Z=j<ee?S[j].el:Q;for(;F<=O;)D(null,S[F]=L?Mn(S[F]):an(S[F]),B,Z,G,Y,_,E,L),F++}}else if(F>O)for(;F<=W;)Fe(w[F],G,Y,!0),F++;else{const j=F,Z=F,se=new Map;for(F=Z;F<=O;F++){const st=S[F]=L?Mn(S[F]):an(S[F]);st.key!=null&&se.set(st.key,F)}let he,We=0;const xe=O-Z+1;let Rt=!1,rt=0;const Dn=new Array(xe);for(F=0;F<xe;F++)Dn[F]=0;for(F=j;F<=W;F++){const st=w[F];if(We>=xe){Fe(st,G,Y,!0);continue}let jt;if(st.key!=null)jt=se.get(st.key);else for(he=Z;he<=O;he++)if(Dn[he-Z]===0&&Cs(st,S[he])){jt=he;break}jt===void 0?Fe(st,G,Y,!0):(Dn[jt-Z]=F+1,jt>=rt?rt=jt:Rt=!0,D(st,S[jt],B,null,G,Y,_,E,L),We++)}const ms=Rt?fE(Dn):$r;for(he=ms.length-1,F=xe-1;F>=0;F--){const st=Z+F,jt=S[st],bi=st+1<ee?S[st+1].el:Q;Dn[F]===0?D(null,jt,B,bi,G,Y,_,E,L):Rt&&(he<0||F!==ms[he]?wt(jt,B,bi,2):he--)}}},wt=(w,S,B,Q,G=null)=>{const{el:Y,type:_,transition:E,children:L,shapeFlag:F}=w;if(F&6){wt(w.component.subTree,S,B,Q);return}if(F&128){w.suspense.move(S,B,Q);return}if(F&64){_.move(w,S,B,bt);return}if(_===Kt){r(Y,S,B);for(let W=0;W<L.length;W++)wt(L[W],S,B,Q);r(w.anchor,S,B);return}if(_===$a){U(w,S,B);return}if(Q!==2&&F&1&&E)if(Q===0)E.beforeEnter(Y),r(Y,S,B),Lt(()=>E.enter(Y),G);else{const{leave:W,delayLeave:O,afterLeave:j}=E,Z=()=>r(Y,S,B),se=()=>{W(Y,()=>{Z(),j&&j()})};O?O(Y,Z,se):se()}else r(Y,S,B)},Fe=(w,S,B,Q=!1,G=!1)=>{const{type:Y,props:_,ref:E,children:L,dynamicChildren:F,shapeFlag:ee,patchFlag:W,dirs:O,cacheIndex:j}=w;if(W===-2&&(G=!1),E!=null&&_o(E,null,B,w,!0),j!=null&&(S.renderCache[j]=void 0),ee&256){S.ctx.deactivate(w);return}const Z=ee&1&&O,se=!Bs(w);let he;if(se&&(he=_&&_.onVnodeBeforeUnmount)&&tn(he,S,w),ee&6)Zt(w.component,B,Q);else{if(ee&128){w.suspense.unmount(B,Q);return}Z&&lr(w,null,S,"beforeUnmount"),ee&64?w.type.remove(w,S,B,bt,Q):F&&!F.hasOnce&&(Y!==Kt||W>0&&W&64)?qt(F,S,B,!1,!0):(Y===Kt&&W&384||!G&&ee&16)&&qt(L,S,B),Q&&Ue(w)}(se&&(he=_&&_.onVnodeUnmounted)||Z)&&Lt(()=>{he&&tn(he,S,w),Z&&lr(w,null,S,"unmounted")},B)},Ue=w=>{const{type:S,el:B,anchor:Q,transition:G}=w;if(S===Kt){rr(B,Q);return}if(S===$a){V(w);return}const Y=()=>{s(B),G&&!G.persisted&&G.afterLeave&&G.afterLeave()};if(w.shapeFlag&1&&G&&!G.persisted){const{leave:_,delayLeave:E}=G,L=()=>_(B,Y);E?E(w.el,Y,L):L()}else Y()},rr=(w,S)=>{let B;for(;w!==S;)B=g(w),s(w),w=B;s(S)},Zt=(w,S,B)=>{const{bum:Q,scope:G,job:Y,subTree:_,um:E,m:L,a:F}=w;mh(L),mh(F),Q&&Zi(Q),G.stop(),Y&&(Y.flags|=8,Fe(_,w,S,B)),E&&Lt(E,S),Lt(()=>{w.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&w.asyncDep&&!w.asyncResolved&&w.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},qt=(w,S,B,Q=!1,G=!1,Y=0)=>{for(let _=Y;_<w.length;_++)Fe(w[_],S,B,Q,G)},Dt=w=>{if(w.shapeFlag&6)return Dt(w.component.subTree);if(w.shapeFlag&128)return w.suspense.next();const S=g(w.anchor||w.el),B=S&&S[Vy];return B?g(B):S};let en=!1;const Nn=(w,S,B)=>{w==null?S._vnode&&Fe(S._vnode,null,null,!0):D(S._vnode||null,w,S,null,null,null,B),S._vnode=w,en||(en=!0,lh(),um(),en=!1)},bt={p:D,um:Fe,m:wt,r:Ue,mt:nt,mc:T,pc:pe,pbc:R,n:Dt,o:t};return{render:Nn,hydrate:void 0,createApp:tE(Nn)}}function ja({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function cr({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function hE(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Pm(t,e,n=!1){const r=t.children,s=e.children;if(le(r)&&le(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Mn(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Pm(o,l)),l.type===_i&&(l.el=o.el)}}function fE(t){const e=t.slice(),n=[0];let r,s,i,o,l;const c=t.length;for(r=0;r<c;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<h?i=l+1:o=l;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Nm(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Nm(e)}function mh(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const dE=Symbol.for("v-scx"),mE=()=>$s(dE);function Kr(t,e,n){return Dm(t,e,n)}function Dm(t,e,n=De){const{immediate:r,deep:s,flush:i,once:o}=n,l=yt({},n),c=e&&r||!e&&i!=="post";let h;if(Zs){if(i==="sync"){const I=mE();h=I.__watcherHandles||(I.__watcherHandles=[])}else if(!c){const I=()=>{};return I.stop=ln,I.resume=ln,I.pause=ln,I}}const f=gt;l.call=(I,C,D)=>fn(I,f,C,D);let m=!1;i==="post"?l.scheduler=I=>{Lt(I,f&&f.suspense)}:i!=="sync"&&(m=!0,l.scheduler=(I,C)=>{C?I():pc(I)}),l.augmentJob=I=>{e&&(I.flags|=4),m&&(I.flags|=2,f&&(I.id=f.uid,I.i=f))};const g=Py(t,e,l);return Zs&&(h?h.push(g):c&&g()),g}function pE(t,e,n){const r=this.proxy,s=et(t)?t.includes(".")?Om(r,t):()=>r[t]:t.bind(r,r);let i;de(e)?i=e:(i=e.handler,n=e);const o=yi(this),l=Dm(s,i.bind(r),n);return o(),l}function Om(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const gE=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Wn(e)}Modifiers`]||t[`${wr(e)}Modifiers`];function _E(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||De;let s=n;const i=e.startsWith("update:"),o=i&&gE(r,e.slice(7));o&&(o.trim&&(s=n.map(f=>et(f)?f.trim():f)),o.number&&(s=n.map(fo)));let l,c=r[l=Va(e)]||r[l=Va(Wn(e))];!c&&i&&(c=r[l=Va(wr(e))]),c&&fn(c,t,6,s);const h=r[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,fn(h,t,6,s)}}function Lm(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!de(t)){const c=h=>{const f=Lm(h,e,!0);f&&(l=!0,yt(o,f))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(ke(t)&&r.set(t,null),null):(le(i)?i.forEach(c=>o[c]=null):yt(o,i),ke(t)&&r.set(t,o),o)}function zo(t,e){return!t||!Bo(e)?!1:(e=e.slice(2).replace(/Once$/,""),be(t,e[0].toLowerCase()+e.slice(1))||be(t,wr(e))||be(t,e))}function ph(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:h,renderCache:f,props:m,data:g,setupState:I,ctx:C,inheritAttrs:D}=t,P=go(t);let b,x;try{if(n.shapeFlag&4){const V=s||r,q=V;b=an(h.call(q,V,f,m,I,g,C)),x=l}else{const V=e;b=an(V.length>1?V(m,{attrs:l,slots:o,emit:c}):V(m,null)),x=e.props?l:yE(l)}}catch(V){Hs.length=0,Ko(V,t,1),b=Ct(Tr)}let U=b;if(x&&D!==!1){const V=Object.keys(x),{shapeFlag:q}=U;V.length&&q&7&&(i&&V.some(nc)&&(x=EE(x,i)),U=Yr(U,x,!1,!0))}return n.dirs&&(U=Yr(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&gc(U,n.transition),b=U,go(P),b}const yE=t=>{let e;for(const n in t)(n==="class"||n==="style"||Bo(n))&&((e||(e={}))[n]=t[n]);return e},EE=(t,e)=>{const n={};for(const r in t)(!nc(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function TE(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:c}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?gh(r,o,h):!!o;if(c&8){const f=e.dynamicProps;for(let m=0;m<f.length;m++){const g=f[m];if(o[g]!==r[g]&&!zo(h,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?gh(r,o,h):!0:!!o;return!1}function gh(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!zo(n,i))return!0}return!1}function vE({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const Vm=t=>t.__isSuspense;function AE(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):Oy(t)}const Kt=Symbol.for("v-fgt"),_i=Symbol.for("v-txt"),Tr=Symbol.for("v-cmt"),$a=Symbol.for("v-stc"),Hs=[];let xt=null;function hr(t=!1){Hs.push(xt=t?null:[])}function IE(){Hs.pop(),xt=Hs[Hs.length-1]||null}let Xs=1;function _h(t,e=!1){Xs+=t,t<0&&xt&&e&&(xt.hasOnce=!0)}function km(t){return t.dynamicChildren=Xs>0?xt||$r:null,IE(),Xs>0&&xt&&xt.push(t),t}function Vr(t,e,n,r,s,i){return km(te(t,e,n,r,s,i,!0))}function wE(t,e,n,r,s){return km(Ct(t,e,n,r,s,!0))}function Eo(t){return t?t.__v_isVNode===!0:!1}function Cs(t,e){return t.type===e.type&&t.key===e.key}const xm=({key:t})=>t??null,eo=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?et(t)||lt(t)||de(t)?{i:kt,r:t,k:e,f:!!n}:t:null);function te(t,e=null,n=null,r=0,s=null,i=t===Kt?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&xm(e),ref:e&&eo(e),scopeId:fm,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:kt};return l?(Tc(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=et(n)?8:16),Xs>0&&!o&&xt&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&xt.push(c),c}const Ct=bE;function bE(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Gy)&&(t=Tr),Eo(t)){const l=Yr(t,e,!0);return n&&Tc(l,n),Xs>0&&!i&&xt&&(l.shapeFlag&6?xt[xt.indexOf(t)]=l:xt.push(l)),l.patchFlag=-2,l}if(xE(t)&&(t=t.__vccOpts),e){e=RE(e);let{class:l,style:c}=e;l&&!et(l)&&(e.class=ic(l)),ke(c)&&(mc(c)&&!le(c)&&(c=yt({},c)),e.style=qo(c))}const o=et(t)?1:Vm(t)?128:ky(t)?64:ke(t)?4:de(t)?2:0;return te(t,e,n,r,s,o,i,!0)}function RE(t){return t?mc(t)||Am(t)?yt({},t):t:null}function Yr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=t,h=e?CE(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&xm(h),ref:e&&e.ref?n&&i?le(i)?i.concat(eo(e)):[i,eo(e)]:eo(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Kt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Yr(t.ssContent),ssFallback:t.ssFallback&&Yr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&gc(f,c.clone(f)),f}function Os(t=" ",e=0){return Ct(_i,null,t,e)}function SE(t="",e=!1){return e?(hr(),wE(Tr,null,t)):Ct(Tr,null,t)}function an(t){return t==null||typeof t=="boolean"?Ct(Tr):le(t)?Ct(Kt,null,t.slice()):Eo(t)?Mn(t):Ct(_i,null,String(t))}function Mn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Yr(t)}function Tc(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Tc(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!Am(e)?e._ctx=kt:s===3&&kt&&(kt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:kt},n=32):(e=String(e),r&64?(n=16,e=[Os(e)]):n=8);t.children=e,t.shapeFlag|=n}function CE(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=ic([e.class,r.class]));else if(s==="style")e.style=qo([e.style,r.style]);else if(Bo(s)){const i=e[s],o=r[s];o&&i!==o&&!(le(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function tn(t,e,n,r=null){fn(t,e,7,[n,r])}const PE=Em();let NE=0;function DE(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||PE,i={uid:NE++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wm(r,s),emitsOptions:Lm(r,s),emit:null,emitted:null,propsDefaults:De,inheritAttrs:r.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=_E.bind(null,i),t.ce&&t.ce(i),i}let gt=null;const Js=()=>gt||kt;let To,pl;{const t=Ho(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};To=e("__VUE_INSTANCE_SETTERS__",n=>gt=n),pl=e("__VUE_SSR_SETTERS__",n=>Zs=n)}const yi=t=>{const e=gt;return To(t),t.scope.on(),()=>{t.scope.off(),To(e)}},yh=()=>{gt&&gt.scope.off(),To(null)};function Mm(t){return t.vnode.shapeFlag&4}let Zs=!1;function OE(t,e=!1,n=!1){e&&pl(e);const{props:r,children:s}=t.vnode,i=Mm(t);rE(t,r,i,e),aE(t,s,n);const o=i?LE(t,e):void 0;return e&&pl(!1),o}function LE(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zy);const{setup:r}=n;if(r){Jn();const s=t.setupContext=r.length>1?kE(t):null,i=yi(t),o=gi(r,t,0,[t.props,s]),l=kd(o);if(Zn(),i(),(l||t.sp)&&!Bs(t)&&dm(t),l){if(o.then(yh,yh),e)return o.then(c=>{Eh(t,c)}).catch(c=>{Ko(c,t,0)});t.asyncDep=o}else Eh(t,o)}else Fm(t)}function Eh(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ke(e)&&(t.setupState=om(e)),Fm(t)}function Fm(t,e,n){const r=t.type;t.render||(t.render=r.render||ln);{const s=yi(t);Jn();try{Qy(t)}finally{Zn(),s()}}}const VE={get(t,e){return mt(t,"get",""),t[e]}};function kE(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,VE),slots:t.slots,emit:t.emit,expose:e}}function Qo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(om(Ty(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in js)return js[n](t)},has(e,n){return n in e||n in js}})):t.proxy}function xE(t){return de(t)&&"__vccOpts"in t}const xr=(t,e)=>Sy(t,e,Zs);function Um(t,e,n){const r=arguments.length;return r===2?ke(e)&&!le(e)?Eo(e)?Ct(t,null,[e]):Ct(t,e):Ct(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Eo(n)&&(n=[n]),Ct(t,e,n))}const ME="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let gl;const Th=typeof window<"u"&&window.trustedTypes;if(Th)try{gl=Th.createPolicy("vue",{createHTML:t=>t})}catch{}const Bm=gl?t=>gl.createHTML(t):t=>t,FE="http://www.w3.org/2000/svg",UE="http://www.w3.org/1998/Math/MathML",Tn=typeof document<"u"?document:null,vh=Tn&&Tn.createElement("template"),BE={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Tn.createElementNS(FE,t):e==="mathml"?Tn.createElementNS(UE,t):n?Tn.createElement(t,{is:n}):Tn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Tn.createTextNode(t),createComment:t=>Tn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Tn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{vh.innerHTML=Bm(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=vh.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},jE=Symbol("_vtc");function $E(t,e,n){const r=t[jE];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ah=Symbol("_vod"),HE=Symbol("_vsh"),qE=Symbol(""),WE=/(^|;)\s*display\s*:/;function KE(t,e,n){const r=t.style,s=et(n);let i=!1;if(n&&!s){if(e)if(et(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&to(r,l,"")}else for(const o in e)n[o]==null&&to(r,o,"");for(const o in n)o==="display"&&(i=!0),to(r,o,n[o])}else if(s){if(e!==n){const o=r[qE];o&&(n+=";"+o),r.cssText=n,i=WE.test(n)}}else e&&t.removeAttribute("style");Ah in t&&(t[Ah]=i?r.display:"",t[HE]&&(r.display="none"))}const Ih=/\s*!important$/;function to(t,e,n){if(le(n))n.forEach(r=>to(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=GE(t,e);Ih.test(n)?t.setProperty(wr(r),n.replace(Ih,""),"important"):t[r]=n}}const wh=["Webkit","Moz","ms"],Ha={};function GE(t,e){const n=Ha[e];if(n)return n;let r=Wn(e);if(r!=="filter"&&r in t)return Ha[e]=r;r=Fd(r);for(let s=0;s<wh.length;s++){const i=wh[s]+r;if(i in t)return Ha[e]=i}return e}const bh="http://www.w3.org/1999/xlink";function Rh(t,e,n,r,s,i=Y_(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(bh,e.slice(6,e.length)):t.setAttributeNS(bh,e,n):n==null||i&&!Bd(n)?t.removeAttribute(e):t.setAttribute(e,i?"":hn(n)?String(n):n)}function Sh(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Bm(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Bd(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function dr(t,e,n,r){t.addEventListener(e,n,r)}function zE(t,e,n,r){t.removeEventListener(e,n,r)}const Ch=Symbol("_vei");function QE(t,e,n,r,s=null){const i=t[Ch]||(t[Ch]={}),o=i[e];if(r&&o)o.value=r;else{const[l,c]=YE(e);if(r){const h=i[e]=ZE(r,s);dr(t,l,h,c)}else o&&(zE(t,l,o,c),i[e]=void 0)}}const Ph=/(?:Once|Passive|Capture)$/;function YE(t){let e;if(Ph.test(t)){e={};let r;for(;r=t.match(Ph);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wr(t.slice(2)),e]}let qa=0;const XE=Promise.resolve(),JE=()=>qa||(XE.then(()=>qa=0),qa=Date.now());function ZE(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;fn(eT(r,n.value),e,5,[r])};return n.value=t,n.attached=JE(),n}function eT(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Nh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,tT=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?$E(t,r,o):e==="style"?KE(t,n,r):Bo(e)?nc(e)||QE(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):nT(t,e,r,o))?(Sh(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Rh(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!et(r))?Sh(t,Wn(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Rh(t,e,r,o))};function nT(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Nh(e)&&de(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Nh(e)&&et(n)?!1:e in t}const vo=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?n=>Zi(e,n):e};function rT(t){t.target.composing=!0}function Dh(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Gr=Symbol("_assign"),Oh={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[Gr]=vo(s);const i=r||s.props&&s.props.type==="number";dr(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=fo(l)),t[Gr](l)}),n&&dr(t,"change",()=>{t.value=t.value.trim()}),e||(dr(t,"compositionstart",rT),dr(t,"compositionend",Dh),dr(t,"change",Dh))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[Gr]=vo(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?fo(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},sT={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=jo(e);dr(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?fo(Ao(o)):Ao(o));t[Gr](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,lm(()=>{t._assigning=!1})}),t[Gr]=vo(r)},mounted(t,{value:e}){Lh(t,e)},beforeUpdate(t,e,n){t[Gr]=vo(n)},updated(t,{value:e}){t._assigning||Lh(t,e)}};function Lh(t,e){const n=t.multiple,r=le(e);if(!(n&&!r&&!jo(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],l=Ao(o);if(n)if(r){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=J_(e,l)>-1}else o.selected=e.has(l);else if(Wo(Ao(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ao(t){return"_value"in t?t._value:t.value}const iT=yt({patchProp:tT},BE);let Vh;function oT(){return Vh||(Vh=cE(iT))}const aT=(...t)=>{const e=oT().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=cT(r);if(!s)return;const i=e._component;!de(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,lT(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function lT(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cT(t){return et(t)?document.querySelector(t):t}function jm(t,e){return function(){return t.apply(e,arguments)}}const{toString:uT}=Object.prototype,{getPrototypeOf:vc}=Object,Yo=(t=>e=>{const n=uT.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Jt=t=>(t=t.toLowerCase(),e=>Yo(e)===t),Xo=t=>e=>typeof e===t,{isArray:as}=Array,ei=Xo("undefined");function hT(t){return t!==null&&!ei(t)&&t.constructor!==null&&!ei(t.constructor)&&Mt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $m=Jt("ArrayBuffer");function fT(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$m(t.buffer),e}const dT=Xo("string"),Mt=Xo("function"),Hm=Xo("number"),Jo=t=>t!==null&&typeof t=="object",mT=t=>t===!0||t===!1,no=t=>{if(Yo(t)!=="object")return!1;const e=vc(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},pT=Jt("Date"),gT=Jt("File"),_T=Jt("Blob"),yT=Jt("FileList"),ET=t=>Jo(t)&&Mt(t.pipe),TT=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Mt(t.append)&&((e=Yo(t))==="formdata"||e==="object"&&Mt(t.toString)&&t.toString()==="[object FormData]"))},vT=Jt("URLSearchParams"),[AT,IT,wT,bT]=["ReadableStream","Request","Response","Headers"].map(Jt),RT=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ei(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),as(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let l;for(r=0;r<o;r++)l=i[r],e.call(null,t[l],l,t)}}function qm(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Wm=t=>!ei(t)&&t!==mr;function _l(){const{caseless:t}=Wm(this)&&this||{},e={},n=(r,s)=>{const i=t&&qm(e,s)||s;no(e[i])&&no(r)?e[i]=_l(e[i],r):no(r)?e[i]=_l({},r):as(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ei(arguments[r],n);return e}const ST=(t,e,n,{allOwnKeys:r}={})=>(Ei(e,(s,i)=>{n&&Mt(s)?t[i]=jm(s,n):t[i]=s},{allOwnKeys:r}),t),CT=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),PT=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NT=(t,e,n,r)=>{let s,i,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&vc(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},DT=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},OT=t=>{if(!t)return null;if(as(t))return t;let e=t.length;if(!Hm(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},LT=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vc(Uint8Array)),VT=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},kT=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},xT=Jt("HTMLFormElement"),MT=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),kh=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),FT=Jt("RegExp"),Km=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ei(n,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(r[i]=o||s)}),Object.defineProperties(t,r)},UT=t=>{Km(t,(e,n)=>{if(Mt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Mt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},BT=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return as(t)?r(t):r(String(t).split(e)),n},jT=()=>{},$T=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Wa="abcdefghijklmnopqrstuvwxyz",xh="0123456789",Gm={DIGIT:xh,ALPHA:Wa,ALPHA_DIGIT:Wa+Wa.toUpperCase()+xh},HT=(t=16,e=Gm.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function qT(t){return!!(t&&Mt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const WT=t=>{const e=new Array(10),n=(r,s)=>{if(Jo(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=as(r)?[]:{};return Ei(r,(o,l)=>{const c=n(o,s+1);!ei(c)&&(i[l]=c)}),e[s]=void 0,i}}return r};return n(t,0)},KT=Jt("AsyncFunction"),GT=t=>t&&(Jo(t)||Mt(t))&&Mt(t.then)&&Mt(t.catch),zm=((t,e)=>t?setImmediate:e?((n,r)=>(mr.addEventListener("message",({source:s,data:i})=>{s===mr&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),mr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mt(mr.postMessage)),zT=typeof queueMicrotask<"u"?queueMicrotask.bind(mr):typeof process<"u"&&process.nextTick||zm,H={isArray:as,isArrayBuffer:$m,isBuffer:hT,isFormData:TT,isArrayBufferView:fT,isString:dT,isNumber:Hm,isBoolean:mT,isObject:Jo,isPlainObject:no,isReadableStream:AT,isRequest:IT,isResponse:wT,isHeaders:bT,isUndefined:ei,isDate:pT,isFile:gT,isBlob:_T,isRegExp:FT,isFunction:Mt,isStream:ET,isURLSearchParams:vT,isTypedArray:LT,isFileList:yT,forEach:Ei,merge:_l,extend:ST,trim:RT,stripBOM:CT,inherits:PT,toFlatObject:NT,kindOf:Yo,kindOfTest:Jt,endsWith:DT,toArray:OT,forEachEntry:VT,matchAll:kT,isHTMLForm:xT,hasOwnProperty:kh,hasOwnProp:kh,reduceDescriptors:Km,freezeMethods:UT,toObjectSet:BT,toCamelCase:MT,noop:jT,toFiniteNumber:$T,findKey:qm,global:mr,isContextDefined:Wm,ALPHABET:Gm,generateString:HT,isSpecCompliantForm:qT,toJSONObject:WT,isAsyncFn:KT,isThenable:GT,setImmediate:zm,asap:zT};function fe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const Qm=fe.prototype,Ym={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Ym[t]={value:t}});Object.defineProperties(fe,Ym);Object.defineProperty(Qm,"isAxiosError",{value:!0});fe.from=(t,e,n,r,s,i)=>{const o=Object.create(Qm);return H.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),fe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const QT=null;function yl(t){return H.isPlainObject(t)||H.isArray(t)}function Xm(t){return H.endsWith(t,"[]")?t.slice(0,-2):t}function Mh(t,e,n){return t?t.concat(e).map(function(s,i){return s=Xm(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function YT(t){return H.isArray(t)&&!t.some(yl)}const XT=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function Zo(t,e,n){if(!H.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=H.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,P){return!H.isUndefined(P[D])});const r=n.metaTokens,s=n.visitor||f,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function h(C){if(C===null)return"";if(H.isDate(C))return C.toISOString();if(!c&&H.isBlob(C))throw new fe("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(C)||H.isTypedArray(C)?c&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function f(C,D,P){let b=C;if(C&&!P&&typeof C=="object"){if(H.endsWith(D,"{}"))D=r?D:D.slice(0,-2),C=JSON.stringify(C);else if(H.isArray(C)&&YT(C)||(H.isFileList(C)||H.endsWith(D,"[]"))&&(b=H.toArray(C)))return D=Xm(D),b.forEach(function(U,V){!(H.isUndefined(U)||U===null)&&e.append(o===!0?Mh([D],V,i):o===null?D:D+"[]",h(U))}),!1}return yl(C)?!0:(e.append(Mh(P,D,i),h(C)),!1)}const m=[],g=Object.assign(XT,{defaultVisitor:f,convertValue:h,isVisitable:yl});function I(C,D){if(!H.isUndefined(C)){if(m.indexOf(C)!==-1)throw Error("Circular reference detected in "+D.join("."));m.push(C),H.forEach(C,function(b,x){(!(H.isUndefined(b)||b===null)&&s.call(e,b,H.isString(x)?x.trim():x,D,g))===!0&&I(b,D?D.concat(x):[x])}),m.pop()}}if(!H.isObject(t))throw new TypeError("data must be an object");return I(t),e}function Fh(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ac(t,e){this._pairs=[],t&&Zo(t,this,e)}const Jm=Ac.prototype;Jm.append=function(e,n){this._pairs.push([e,n])};Jm.toString=function(e){const n=e?function(r){return e.call(this,r,Fh)}:Fh;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function JT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zm(t,e,n){if(!e)return t;const r=n&&n.encode||JT;H.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(e,n):i=H.isURLSearchParams(e)?e.toString():new Ac(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Uh{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const ep={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZT=typeof URLSearchParams<"u"?URLSearchParams:Ac,ev=typeof FormData<"u"?FormData:null,tv=typeof Blob<"u"?Blob:null,nv={isBrowser:!0,classes:{URLSearchParams:ZT,FormData:ev,Blob:tv},protocols:["http","https","file","blob","url","data"]},Ic=typeof window<"u"&&typeof document<"u",El=typeof navigator=="object"&&navigator||void 0,rv=Ic&&(!El||["ReactNative","NativeScript","NS"].indexOf(El.product)<0),sv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iv=Ic&&window.location.href||"http://localhost",ov=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ic,hasStandardBrowserEnv:rv,hasStandardBrowserWebWorkerEnv:sv,navigator:El,origin:iv},Symbol.toStringTag,{value:"Module"})),_t={...ov,...nv};function av(t,e){return Zo(t,new _t.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return _t.isNode&&H.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function lv(t){return H.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function cv(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function tp(t){function e(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=i>=n.length;return o=!o&&H.isArray(s)?s.length:o,c?(H.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!l):((!s[o]||!H.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&H.isArray(s[o])&&(s[o]=cv(s[o])),!l)}if(H.isFormData(t)&&H.isFunction(t.entries)){const n={};return H.forEachEntry(t,(r,s)=>{e(lv(r),s,n,0)}),n}return null}function uv(t,e,n){if(H.isString(t))try{return(e||JSON.parse)(t),H.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ti={transitional:ep,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=H.isObject(e);if(i&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return s?JSON.stringify(tp(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return av(e,this.formSerializer).toString();if((l=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Zo(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),uv(e)):e}],transformResponse:[function(e){const n=this.transitional||Ti.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?fe.from(l,fe.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_t.classes.FormData,Blob:_t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],t=>{Ti.headers[t]={}});const hv=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fv=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&hv[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Bh=Symbol("internals");function Ps(t){return t&&String(t).trim().toLowerCase()}function ro(t){return t===!1||t==null?t:H.isArray(t)?t.map(ro):String(t)}function dv(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const mv=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ka(t,e,n,r,s){if(H.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function pv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function gv(t,e){const n=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}let Pt=class{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(l,c,h){const f=Ps(c);if(!f)throw new Error("header name must be a non-empty string");const m=H.findKey(s,f);(!m||s[m]===void 0||h===!0||h===void 0&&s[m]!==!1)&&(s[m||c]=ro(l))}const o=(l,c)=>H.forEach(l,(h,f)=>i(h,f,c));if(H.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(H.isString(e)&&(e=e.trim())&&!mv(e))o(fv(e),n);else if(H.isHeaders(e))for(const[l,c]of e.entries())i(c,l,r);else e!=null&&i(n,e,r);return this}get(e,n){if(e=Ps(e),e){const r=H.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return dv(s);if(H.isFunction(n))return n.call(this,s,r);if(H.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ps(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ka(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Ps(o),o){const l=H.findKey(r,o);l&&(!n||Ka(r,r[l],l,n))&&(delete r[l],s=!0)}}return H.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Ka(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return H.forEach(this,(s,i)=>{const o=H.findKey(r,i);if(o){n[o]=ro(s),delete n[i];return}const l=e?pv(i):String(i).trim();l!==i&&delete n[i],n[l]=ro(s),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return H.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&H.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[Bh]=this[Bh]={accessors:{}}).accessors,s=this.prototype;function i(o){const l=Ps(o);r[l]||(gv(s,o),r[l]=!0)}return H.isArray(e)?e.forEach(i):i(e),this}};Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Pt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});H.freezeMethods(Pt);function Ga(t,e){const n=this||Ti,r=e||n,s=Pt.from(r.headers);let i=r.data;return H.forEach(t,function(l){i=l.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function np(t){return!!(t&&t.__CANCEL__)}function ls(t,e,n){fe.call(this,t??"canceled",fe.ERR_CANCELED,e,n),this.name="CanceledError"}H.inherits(ls,fe,{__CANCEL__:!0});function rp(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new fe("Request failed with status code "+n.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function _v(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function yv(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),f=r[i];o||(o=h),n[s]=c,r[s]=h;let m=i,g=0;for(;m!==s;)g+=n[m++],m=m%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),h-o<e)return;const I=f&&h-f;return I?Math.round(g*1e3/I):void 0}}function Ev(t,e){let n=0,r=1e3/e,s,i;const o=(h,f=Date.now())=>{n=f,s=null,i&&(clearTimeout(i),i=null),t.apply(null,h)};return[(...h)=>{const f=Date.now(),m=f-n;m>=r?o(h,f):(s=h,i||(i=setTimeout(()=>{i=null,o(s)},r-m)))},()=>s&&o(s)]}const Io=(t,e,n=3)=>{let r=0;const s=yv(50,250);return Ev(i=>{const o=i.loaded,l=i.lengthComputable?i.total:void 0,c=o-r,h=s(c),f=o<=l;r=o;const m={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:h||void 0,estimated:h&&l&&f?(l-o)/h:void 0,event:i,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(m)},n)},jh=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$h=t=>(...e)=>H.asap(()=>t(...e)),Tv=_t.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,_t.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(_t.origin),_t.navigator&&/(msie|trident)/i.test(_t.navigator.userAgent)):()=>!0,vv=_t.hasStandardBrowserEnv?{write(t,e,n,r,s,i){const o=[t+"="+encodeURIComponent(e)];H.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),H.isString(r)&&o.push("path="+r),H.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Av(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Iv(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function sp(t,e){return t&&!Av(e)?Iv(t,e):e}const Hh=t=>t instanceof Pt?{...t}:t;function vr(t,e){e=e||{};const n={};function r(h,f,m,g){return H.isPlainObject(h)&&H.isPlainObject(f)?H.merge.call({caseless:g},h,f):H.isPlainObject(f)?H.merge({},f):H.isArray(f)?f.slice():f}function s(h,f,m,g){if(H.isUndefined(f)){if(!H.isUndefined(h))return r(void 0,h,m,g)}else return r(h,f,m,g)}function i(h,f){if(!H.isUndefined(f))return r(void 0,f)}function o(h,f){if(H.isUndefined(f)){if(!H.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function l(h,f,m){if(m in e)return r(h,f);if(m in t)return r(void 0,h)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(h,f,m)=>s(Hh(h),Hh(f),m,!0)};return H.forEach(Object.keys(Object.assign({},t,e)),function(f){const m=c[f]||s,g=m(t[f],e[f],f);H.isUndefined(g)&&m!==l||(n[f]=g)}),n}const ip=t=>{const e=vr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:l}=e;e.headers=o=Pt.from(o),e.url=Zm(sp(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(H.isFormData(n)){if(_t.hasStandardBrowserEnv||_t.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[h,...f]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...f].join("; "))}}if(_t.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&Tv(e.url))){const h=s&&i&&vv.read(i);h&&o.set(s,h)}return e},wv=typeof XMLHttpRequest<"u",bv=wv&&function(t){return new Promise(function(n,r){const s=ip(t);let i=s.data;const o=Pt.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:h}=s,f,m,g,I,C;function D(){I&&I(),C&&C(),s.cancelToken&&s.cancelToken.unsubscribe(f),s.signal&&s.signal.removeEventListener("abort",f)}let P=new XMLHttpRequest;P.open(s.method.toUpperCase(),s.url,!0),P.timeout=s.timeout;function b(){if(!P)return;const U=Pt.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),q={data:!l||l==="text"||l==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:U,config:t,request:P};rp(function(y){n(y),D()},function(y){r(y),D()},q),P=null}"onloadend"in P?P.onloadend=b:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(b)},P.onabort=function(){P&&(r(new fe("Request aborted",fe.ECONNABORTED,t,P)),P=null)},P.onerror=function(){r(new fe("Network Error",fe.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let V=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const q=s.transitional||ep;s.timeoutErrorMessage&&(V=s.timeoutErrorMessage),r(new fe(V,q.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,t,P)),P=null},i===void 0&&o.setContentType(null),"setRequestHeader"in P&&H.forEach(o.toJSON(),function(V,q){P.setRequestHeader(q,V)}),H.isUndefined(s.withCredentials)||(P.withCredentials=!!s.withCredentials),l&&l!=="json"&&(P.responseType=s.responseType),h&&([g,C]=Io(h,!0),P.addEventListener("progress",g)),c&&P.upload&&([m,I]=Io(c),P.upload.addEventListener("progress",m),P.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(f=U=>{P&&(r(!U||U.type?new ls(null,t,P):U),P.abort(),P=null)},s.cancelToken&&s.cancelToken.subscribe(f),s.signal&&(s.signal.aborted?f():s.signal.addEventListener("abort",f)));const x=_v(s.url);if(x&&_t.protocols.indexOf(x)===-1){r(new fe("Unsupported protocol "+x+":",fe.ERR_BAD_REQUEST,t));return}P.send(i||null)})},Rv=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,s;const i=function(h){if(!s){s=!0,l();const f=h instanceof Error?h:this.reason;r.abort(f instanceof fe?f:new ls(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,i(new fe(`timeout ${e} of ms exceeded`,fe.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>H.asap(l),c}},Sv=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,s;for(;r<n;)s=r+e,yield t.slice(r,s),r=s},Cv=async function*(t,e){for await(const n of Pv(t))yield*Sv(n,e)},Pv=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},qh=(t,e,n,r)=>{const s=Cv(t,e);let i=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:h,value:f}=await s.next();if(h){l(),c.close();return}let m=f.byteLength;if(n){let g=i+=m;n(g)}c.enqueue(new Uint8Array(f))}catch(h){throw l(h),h}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},ea=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",op=ea&&typeof ReadableStream=="function",Nv=ea&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),ap=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Dv=op&&ap(()=>{let t=!1;const e=new Request(_t.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Wh=64*1024,Tl=op&&ap(()=>H.isReadableStream(new Response("").body)),wo={stream:Tl&&(t=>t.body)};ea&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wo[e]&&(wo[e]=H.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new fe(`Response type '${e}' is not supported`,fe.ERR_NOT_SUPPORT,r)})})})(new Response);const Ov=async t=>{if(t==null)return 0;if(H.isBlob(t))return t.size;if(H.isSpecCompliantForm(t))return(await new Request(_t.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(H.isArrayBufferView(t)||H.isArrayBuffer(t))return t.byteLength;if(H.isURLSearchParams(t)&&(t=t+""),H.isString(t))return(await Nv(t)).byteLength},Lv=async(t,e)=>{const n=H.toFiniteNumber(t.getContentLength());return n??Ov(e)},Vv=ea&&(async t=>{let{url:e,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:h,headers:f,withCredentials:m="same-origin",fetchOptions:g}=ip(t);h=h?(h+"").toLowerCase():"text";let I=Rv([s,i&&i.toAbortSignal()],o),C;const D=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let P;try{if(c&&Dv&&n!=="get"&&n!=="head"&&(P=await Lv(f,r))!==0){let q=new Request(e,{method:"POST",body:r,duplex:"half"}),z;if(H.isFormData(r)&&(z=q.headers.get("content-type"))&&f.setContentType(z),q.body){const[y,T]=jh(P,Io($h(c)));r=qh(q.body,Wh,y,T)}}H.isString(m)||(m=m?"include":"omit");const b="credentials"in Request.prototype;C=new Request(e,{...g,signal:I,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:b?m:void 0});let x=await fetch(C);const U=Tl&&(h==="stream"||h==="response");if(Tl&&(l||U&&D)){const q={};["status","statusText","headers"].forEach(v=>{q[v]=x[v]});const z=H.toFiniteNumber(x.headers.get("content-length")),[y,T]=l&&jh(z,Io($h(l),!0))||[];x=new Response(qh(x.body,Wh,y,()=>{T&&T(),D&&D()}),q)}h=h||"text";let V=await wo[H.findKey(wo,h)||"text"](x,t);return!U&&D&&D(),await new Promise((q,z)=>{rp(q,z,{data:V,headers:Pt.from(x.headers),status:x.status,statusText:x.statusText,config:t,request:C})})}catch(b){throw D&&D(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,t,C),{cause:b.cause||b}):fe.from(b,b&&b.code,t,C)}}),vl={http:QT,xhr:bv,fetch:Vv};H.forEach(vl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Kh=t=>`- ${t}`,kv=t=>H.isFunction(t)||t===null||t===!1,lp={getAdapter:t=>{t=H.isArray(t)?t:[t];const{length:e}=t;let n,r;const s={};for(let i=0;i<e;i++){n=t[i];let o;if(r=n,!kv(n)&&(r=vl[(o=String(n)).toLowerCase()],r===void 0))throw new fe(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(Kh).join(`
`):" "+Kh(i[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:vl};function za(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ls(null,t)}function Gh(t){return za(t),t.headers=Pt.from(t.headers),t.data=Ga.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lp.getAdapter(t.adapter||Ti.adapter)(t).then(function(r){return za(t),r.data=Ga.call(t,t.transformResponse,r),r.headers=Pt.from(r.headers),r},function(r){return np(r)||(za(t),r&&r.response&&(r.response.data=Ga.call(t,t.transformResponse,r.response),r.response.headers=Pt.from(r.response.headers))),Promise.reject(r)})}const cp="1.7.9",ta={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ta[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const zh={};ta.transitional=function(e,n,r){function s(i,o){return"[Axios v"+cp+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,l)=>{if(e===!1)throw new fe(s(o," has been removed"+(n?" in "+n:"")),fe.ERR_DEPRECATED);return n&&!zh[o]&&(zh[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,l):!0}};ta.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function xv(t,e,n){if(typeof t!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const l=t[i],c=l===void 0||o(l,i,t);if(c!==!0)throw new fe("option "+i+" must be "+c,fe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new fe("Unknown option "+i,fe.ERR_BAD_OPTION)}}const so={assertOptions:xv,validators:ta},nn=so.validators;let yr=class{constructor(e){this.defaults=e,this.interceptors={request:new Uh,response:new Uh}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=vr(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&so.assertOptions(r,{silentJSONParsing:nn.transitional(nn.boolean),forcedJSONParsing:nn.transitional(nn.boolean),clarifyTimeoutError:nn.transitional(nn.boolean)},!1),s!=null&&(H.isFunction(s)?n.paramsSerializer={serialize:s}:so.assertOptions(s,{encode:nn.function,serialize:nn.function},!0)),so.assertOptions(n,{baseUrl:nn.spelling("baseURL"),withXsrfToken:nn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&H.merge(i.common,i[n.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],C=>{delete i[C]}),n.headers=Pt.concat(o,i);const l=[];let c=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(c=c&&D.synchronous,l.unshift(D.fulfilled,D.rejected))});const h=[];this.interceptors.response.forEach(function(D){h.push(D.fulfilled,D.rejected)});let f,m=0,g;if(!c){const C=[Gh.bind(this),void 0];for(C.unshift.apply(C,l),C.push.apply(C,h),g=C.length,f=Promise.resolve(n);m<g;)f=f.then(C[m++],C[m++]);return f}g=l.length;let I=n;for(m=0;m<g;){const C=l[m++],D=l[m++];try{I=C(I)}catch(P){D.call(this,P);break}}try{f=Gh.call(this,I)}catch(C){return Promise.reject(C)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(e){e=vr(this.defaults,e);const n=sp(e.baseURL,e.url);return Zm(n,e.params,e.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(e){yr.prototype[e]=function(n,r){return this.request(vr(r||{},{method:e,url:n,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,l){return this.request(vr(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}yr.prototype[e]=n(),yr.prototype[e+"Form"]=n(!0)});let Mv=class up{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(l=>{r.subscribe(l),i=l}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,l){r.reason||(r.reason=new ls(i,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new up(function(s){e=s}),cancel:e}}};function Fv(t){return function(n){return t.apply(null,n)}}function Uv(t){return H.isObject(t)&&t.isAxiosError===!0}const Al={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Al).forEach(([t,e])=>{Al[e]=t});function hp(t){const e=new yr(t),n=jm(yr.prototype.request,e);return H.extend(n,yr.prototype,e,{allOwnKeys:!0}),H.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return hp(vr(t,s))},n}const $e=hp(Ti);$e.Axios=yr;$e.CanceledError=ls;$e.CancelToken=Mv;$e.isCancel=np;$e.VERSION=cp;$e.toFormData=Zo;$e.AxiosError=fe;$e.Cancel=$e.CanceledError;$e.all=function(e){return Promise.all(e)};$e.spread=Fv;$e.isAxiosError=Uv;$e.mergeConfig=vr;$e.AxiosHeaders=Pt;$e.formToJSON=t=>tp(H.isHTMLForm(t)?new FormData(t):t);$e.getAdapter=lp.getAdapter;$e.HttpStatusCode=Al;$e.default=$e;const{Axios:JC,AxiosError:ZC,CanceledError:eP,isCancel:tP,CancelToken:nP,VERSION:rP,all:sP,Cancel:iP,isAxiosError:oP,spread:aP,toFormData:lP,AxiosHeaders:cP,HttpStatusCode:uP,formToJSON:hP,getAdapter:fP,mergeConfig:dP}=$e,Bv="6QebjEJUs/oqGrwj8VHZIQ==vVT11eX2cbnT2W8P";async function jv(){return(await $e.get("https://api.ipify.org",{params:{format:"json"}})).data}async function $v(t){return(await $e.get("https://api.api-ninjas.com/v1/iplookup",{params:{address:t},headers:{"X-Api-Key":Bv}})).data}async function Hv(){const{ip:t}=await jv();return $v(t)}var Qh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qv=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,f=i>>2,m=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,I=h&63;c||(I=64,o||(g=64)),r.push(n[f],n[m],n[g],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qv(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||m==null)throw new Wv;const g=i<<2|l>>4;if(r.push(g),h!==64){const I=l<<4&240|h>>2;if(r.push(I),m!==64){const C=h<<6&192|m;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kv=function(t){const e=fp(t);return dp.encodeByteArray(e,!0)},bo=function(t){return Kv(t).replace(/\./g,"")},Gv=function(t){try{return dp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=()=>zv().__FIREBASE_DEFAULTS__,Yv=()=>{if(typeof process>"u"||typeof Qh>"u")return;const t=Qh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xv=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Gv(t[1]);return e&&JSON.parse(e)},wc=()=>{try{return Qv()||Yv()||Xv()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Jv=t=>{var e,n;return(n=(e=wc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Zv=t=>{const e=Jv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},mp=()=>{var t;return(t=wc())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bo(JSON.stringify(n)),bo(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rA(){var t;const e=(t=wc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sA(){return!rA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="FirebaseError";class cs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aA,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pp.prototype.create)}}class pp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?lA(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new cs(s,l,r)}}function lA(t,e){return t.replace(cA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const cA=/\{\$([^}]+)}/g;function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Yh(i)&&Yh(o)){if(!Il(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Yh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(t){return t&&t._delegate?t._delegate:t}class ni{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new eA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:hA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hA(t){return t===fr?void 0:t}function fA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const mA={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},pA=Ee.INFO,gA={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},_A=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=gA[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=pA,this._logHandler=_A,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const yA=(t,e)=>e.some(n=>t instanceof n);let Xh,Jh;function EA(){return Xh||(Xh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TA(){return Jh||(Jh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _p=new WeakMap,wl=new WeakMap,yp=new WeakMap,Qa=new WeakMap,bc=new WeakMap;function vA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Bn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_p.set(n,t)}).catch(()=>{}),bc.set(e,t),e}function AA(t){if(wl.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});wl.set(t,e)}let bl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yp.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IA(t){bl=t(bl)}function wA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ya(this),e,...n);return yp.set(r,e.sort?e.sort():[e]),Bn(r)}:TA().includes(t)?function(...e){return t.apply(Ya(this),e),Bn(_p.get(this))}:function(...e){return Bn(t.apply(Ya(this),e))}}function bA(t){return typeof t=="function"?wA(t):(t instanceof IDBTransaction&&AA(t),yA(t,EA())?new Proxy(t,bl):t)}function Bn(t){if(t instanceof IDBRequest)return vA(t);if(Qa.has(t))return Qa.get(t);const e=bA(t);return e!==t&&(Qa.set(t,e),bc.set(e,t)),e}const Ya=t=>bc.get(t);function RA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Bn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Bn(o.result),c.oldVersion,c.newVersion,Bn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const SA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Xa=new Map;function Zh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xa.get(e))return Xa.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=CA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||SA.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return Xa.set(e,i),i}IA(t=>({...t,get:(e,n,r)=>Zh(e,n)||t.get(e,n,r),has:(e,n)=>!!Zh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rl="@firebase/app",ef="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn=new gp("@firebase/app"),DA="@firebase/app-compat",OA="@firebase/analytics-compat",LA="@firebase/analytics",VA="@firebase/app-check-compat",kA="@firebase/app-check",xA="@firebase/auth",MA="@firebase/auth-compat",FA="@firebase/database",UA="@firebase/data-connect",BA="@firebase/database-compat",jA="@firebase/functions",$A="@firebase/functions-compat",HA="@firebase/installations",qA="@firebase/installations-compat",WA="@firebase/messaging",KA="@firebase/messaging-compat",GA="@firebase/performance",zA="@firebase/performance-compat",QA="@firebase/remote-config",YA="@firebase/remote-config-compat",XA="@firebase/storage",JA="@firebase/storage-compat",ZA="@firebase/firestore",eI="@firebase/vertexai",tI="@firebase/firestore-compat",nI="firebase",rI="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="[DEFAULT]",sI={[Rl]:"fire-core",[DA]:"fire-core-compat",[LA]:"fire-analytics",[OA]:"fire-analytics-compat",[kA]:"fire-app-check",[VA]:"fire-app-check-compat",[xA]:"fire-auth",[MA]:"fire-auth-compat",[FA]:"fire-rtdb",[UA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[jA]:"fire-fn",[$A]:"fire-fn-compat",[HA]:"fire-iid",[qA]:"fire-iid-compat",[WA]:"fire-fcm",[KA]:"fire-fcm-compat",[GA]:"fire-perf",[zA]:"fire-perf-compat",[QA]:"fire-rc",[YA]:"fire-rc-compat",[XA]:"fire-gcs",[JA]:"fire-gcs-compat",[ZA]:"fire-fst",[tI]:"fire-fst-compat",[eI]:"fire-vertex","fire-js":"fire-js",[nI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,iI=new Map,Cl=new Map;function tf(t,e){try{t.container.addComponent(e)}catch(n){Rn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if(Cl.has(e))return Rn.debug(`There were multiple attempts to register component ${e}.`),!1;Cl.set(e,t);for(const n of Ro.values())tf(n,t);for(const n of iI.values())tf(n,t);return!0}function oI(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function aI(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jn=new pp("app","Firebase",lI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=rI;function Ep(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sl,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw jn.create("bad-app-name",{appName:String(s)});if(n||(n=mp()),!n)throw jn.create("no-options");const i=Ro.get(s);if(i){if(Il(n,i.options)&&Il(r,i.config))return i;throw jn.create("duplicate-app",{appName:s})}const o=new dA(s);for(const c of Cl.values())o.addComponent(c);const l=new cI(n,r,o);return Ro.set(s,l),l}function hI(t=Sl){const e=Ro.get(t);if(!e&&t===Sl&&mp())return Ep();if(!e)throw jn.create("no-app",{appName:t});return e}function zr(t,e,n){var r;let s=(r=sI[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rn.warn(l.join(" "));return}So(new ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="firebase-heartbeat-database",dI=1,ri="firebase-heartbeat-store";let Ja=null;function Tp(){return Ja||(Ja=RA(fI,dI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ri)}catch(n){console.warn(n)}}}}).catch(t=>{throw jn.create("idb-open",{originalErrorMessage:t.message})})),Ja}async function mI(t){try{const n=(await Tp()).transaction(ri),r=await n.objectStore(ri).get(vp(t));return await n.done,r}catch(e){if(e instanceof cs)Rn.warn(e.message);else{const n=jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rn.warn(n.message)}}}async function nf(t,e){try{const r=(await Tp()).transaction(ri,"readwrite");await r.objectStore(ri).put(e,vp(t)),await r.done}catch(n){if(n instanceof cs)Rn.warn(n.message);else{const r=jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rn.warn(r.message)}}}function vp(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=1024,gI=30;class _I{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new EI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rf();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>gI){const o=TI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Rn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rf(),{heartbeatsToSend:r,unsentEntries:s}=yI(this._heartbeatsCache.heartbeats),i=bo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Rn.warn(n),""}}}function rf(){return new Date().toISOString().substring(0,10)}function yI(t,e=pI){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sf(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sf(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class EI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nf(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sf(t){return bo(JSON.stringify({version:2,heartbeats:t})).length}function TI(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(t){So(new ni("platform-logger",e=>new PA(e),"PRIVATE")),So(new ni("heartbeat",e=>new _I(e),"PRIVATE")),zr(Rl,ef,t),zr(Rl,ef,"esm2017"),zr("fire-js","")}vI("");var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $n,Ap;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(y,T){function v(){}v.prototype=T.prototype,y.D=T.prototype,y.prototype=new v,y.prototype.constructor=y,y.C=function(R,N,k){for(var A=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)A[nt-2]=arguments[nt];return T.prototype[N].apply(R,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(y,T,v){v||(v=0);var R=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)R[N]=T.charCodeAt(v++)|T.charCodeAt(v++)<<8|T.charCodeAt(v++)<<16|T.charCodeAt(v++)<<24;else for(N=0;16>N;++N)R[N]=T[v++]|T[v++]<<8|T[v++]<<16|T[v++]<<24;T=y.g[0],v=y.g[1],N=y.g[2];var k=y.g[3],A=T+(k^v&(N^k))+R[0]+3614090360&4294967295;T=v+(A<<7&4294967295|A>>>25),A=k+(N^T&(v^N))+R[1]+3905402710&4294967295,k=T+(A<<12&4294967295|A>>>20),A=N+(v^k&(T^v))+R[2]+606105819&4294967295,N=k+(A<<17&4294967295|A>>>15),A=v+(T^N&(k^T))+R[3]+3250441966&4294967295,v=N+(A<<22&4294967295|A>>>10),A=T+(k^v&(N^k))+R[4]+4118548399&4294967295,T=v+(A<<7&4294967295|A>>>25),A=k+(N^T&(v^N))+R[5]+1200080426&4294967295,k=T+(A<<12&4294967295|A>>>20),A=N+(v^k&(T^v))+R[6]+2821735955&4294967295,N=k+(A<<17&4294967295|A>>>15),A=v+(T^N&(k^T))+R[7]+4249261313&4294967295,v=N+(A<<22&4294967295|A>>>10),A=T+(k^v&(N^k))+R[8]+1770035416&4294967295,T=v+(A<<7&4294967295|A>>>25),A=k+(N^T&(v^N))+R[9]+2336552879&4294967295,k=T+(A<<12&4294967295|A>>>20),A=N+(v^k&(T^v))+R[10]+4294925233&4294967295,N=k+(A<<17&4294967295|A>>>15),A=v+(T^N&(k^T))+R[11]+2304563134&4294967295,v=N+(A<<22&4294967295|A>>>10),A=T+(k^v&(N^k))+R[12]+1804603682&4294967295,T=v+(A<<7&4294967295|A>>>25),A=k+(N^T&(v^N))+R[13]+4254626195&4294967295,k=T+(A<<12&4294967295|A>>>20),A=N+(v^k&(T^v))+R[14]+2792965006&4294967295,N=k+(A<<17&4294967295|A>>>15),A=v+(T^N&(k^T))+R[15]+1236535329&4294967295,v=N+(A<<22&4294967295|A>>>10),A=T+(N^k&(v^N))+R[1]+4129170786&4294967295,T=v+(A<<5&4294967295|A>>>27),A=k+(v^N&(T^v))+R[6]+3225465664&4294967295,k=T+(A<<9&4294967295|A>>>23),A=N+(T^v&(k^T))+R[11]+643717713&4294967295,N=k+(A<<14&4294967295|A>>>18),A=v+(k^T&(N^k))+R[0]+3921069994&4294967295,v=N+(A<<20&4294967295|A>>>12),A=T+(N^k&(v^N))+R[5]+3593408605&4294967295,T=v+(A<<5&4294967295|A>>>27),A=k+(v^N&(T^v))+R[10]+38016083&4294967295,k=T+(A<<9&4294967295|A>>>23),A=N+(T^v&(k^T))+R[15]+3634488961&4294967295,N=k+(A<<14&4294967295|A>>>18),A=v+(k^T&(N^k))+R[4]+3889429448&4294967295,v=N+(A<<20&4294967295|A>>>12),A=T+(N^k&(v^N))+R[9]+568446438&4294967295,T=v+(A<<5&4294967295|A>>>27),A=k+(v^N&(T^v))+R[14]+3275163606&4294967295,k=T+(A<<9&4294967295|A>>>23),A=N+(T^v&(k^T))+R[3]+4107603335&4294967295,N=k+(A<<14&4294967295|A>>>18),A=v+(k^T&(N^k))+R[8]+1163531501&4294967295,v=N+(A<<20&4294967295|A>>>12),A=T+(N^k&(v^N))+R[13]+2850285829&4294967295,T=v+(A<<5&4294967295|A>>>27),A=k+(v^N&(T^v))+R[2]+4243563512&4294967295,k=T+(A<<9&4294967295|A>>>23),A=N+(T^v&(k^T))+R[7]+1735328473&4294967295,N=k+(A<<14&4294967295|A>>>18),A=v+(k^T&(N^k))+R[12]+2368359562&4294967295,v=N+(A<<20&4294967295|A>>>12),A=T+(v^N^k)+R[5]+4294588738&4294967295,T=v+(A<<4&4294967295|A>>>28),A=k+(T^v^N)+R[8]+2272392833&4294967295,k=T+(A<<11&4294967295|A>>>21),A=N+(k^T^v)+R[11]+1839030562&4294967295,N=k+(A<<16&4294967295|A>>>16),A=v+(N^k^T)+R[14]+4259657740&4294967295,v=N+(A<<23&4294967295|A>>>9),A=T+(v^N^k)+R[1]+2763975236&4294967295,T=v+(A<<4&4294967295|A>>>28),A=k+(T^v^N)+R[4]+1272893353&4294967295,k=T+(A<<11&4294967295|A>>>21),A=N+(k^T^v)+R[7]+4139469664&4294967295,N=k+(A<<16&4294967295|A>>>16),A=v+(N^k^T)+R[10]+3200236656&4294967295,v=N+(A<<23&4294967295|A>>>9),A=T+(v^N^k)+R[13]+681279174&4294967295,T=v+(A<<4&4294967295|A>>>28),A=k+(T^v^N)+R[0]+3936430074&4294967295,k=T+(A<<11&4294967295|A>>>21),A=N+(k^T^v)+R[3]+3572445317&4294967295,N=k+(A<<16&4294967295|A>>>16),A=v+(N^k^T)+R[6]+76029189&4294967295,v=N+(A<<23&4294967295|A>>>9),A=T+(v^N^k)+R[9]+3654602809&4294967295,T=v+(A<<4&4294967295|A>>>28),A=k+(T^v^N)+R[12]+3873151461&4294967295,k=T+(A<<11&4294967295|A>>>21),A=N+(k^T^v)+R[15]+530742520&4294967295,N=k+(A<<16&4294967295|A>>>16),A=v+(N^k^T)+R[2]+3299628645&4294967295,v=N+(A<<23&4294967295|A>>>9),A=T+(N^(v|~k))+R[0]+4096336452&4294967295,T=v+(A<<6&4294967295|A>>>26),A=k+(v^(T|~N))+R[7]+1126891415&4294967295,k=T+(A<<10&4294967295|A>>>22),A=N+(T^(k|~v))+R[14]+2878612391&4294967295,N=k+(A<<15&4294967295|A>>>17),A=v+(k^(N|~T))+R[5]+4237533241&4294967295,v=N+(A<<21&4294967295|A>>>11),A=T+(N^(v|~k))+R[12]+1700485571&4294967295,T=v+(A<<6&4294967295|A>>>26),A=k+(v^(T|~N))+R[3]+2399980690&4294967295,k=T+(A<<10&4294967295|A>>>22),A=N+(T^(k|~v))+R[10]+4293915773&4294967295,N=k+(A<<15&4294967295|A>>>17),A=v+(k^(N|~T))+R[1]+2240044497&4294967295,v=N+(A<<21&4294967295|A>>>11),A=T+(N^(v|~k))+R[8]+1873313359&4294967295,T=v+(A<<6&4294967295|A>>>26),A=k+(v^(T|~N))+R[15]+4264355552&4294967295,k=T+(A<<10&4294967295|A>>>22),A=N+(T^(k|~v))+R[6]+2734768916&4294967295,N=k+(A<<15&4294967295|A>>>17),A=v+(k^(N|~T))+R[13]+1309151649&4294967295,v=N+(A<<21&4294967295|A>>>11),A=T+(N^(v|~k))+R[4]+4149444226&4294967295,T=v+(A<<6&4294967295|A>>>26),A=k+(v^(T|~N))+R[11]+3174756917&4294967295,k=T+(A<<10&4294967295|A>>>22),A=N+(T^(k|~v))+R[2]+718787259&4294967295,N=k+(A<<15&4294967295|A>>>17),A=v+(k^(N|~T))+R[9]+3951481745&4294967295,y.g[0]=y.g[0]+T&4294967295,y.g[1]=y.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,y.g[2]=y.g[2]+N&4294967295,y.g[3]=y.g[3]+k&4294967295}r.prototype.u=function(y,T){T===void 0&&(T=y.length);for(var v=T-this.blockSize,R=this.B,N=this.h,k=0;k<T;){if(N==0)for(;k<=v;)s(this,y,k),k+=this.blockSize;if(typeof y=="string"){for(;k<T;)if(R[N++]=y.charCodeAt(k++),N==this.blockSize){s(this,R),N=0;break}}else for(;k<T;)if(R[N++]=y[k++],N==this.blockSize){s(this,R),N=0;break}}this.h=N,this.o+=T},r.prototype.v=function(){var y=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);y[0]=128;for(var T=1;T<y.length-8;++T)y[T]=0;var v=8*this.o;for(T=y.length-8;T<y.length;++T)y[T]=v&255,v/=256;for(this.u(y),y=Array(16),T=v=0;4>T;++T)for(var R=0;32>R;R+=8)y[v++]=this.g[T]>>>R&255;return y};function i(y,T){var v=l;return Object.prototype.hasOwnProperty.call(v,y)?v[y]:v[y]=T(y)}function o(y,T){this.h=T;for(var v=[],R=!0,N=y.length-1;0<=N;N--){var k=y[N]|0;R&&k==T||(v[N]=k,R=!1)}this.g=v}var l={};function c(y){return-128<=y&&128>y?i(y,function(T){return new o([T|0],0>T?-1:0)}):new o([y|0],0>y?-1:0)}function h(y){if(isNaN(y)||!isFinite(y))return m;if(0>y)return P(h(-y));for(var T=[],v=1,R=0;y>=v;R++)T[R]=y/v|0,v*=4294967296;return new o(T,0)}function f(y,T){if(y.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y.charAt(0)=="-")return P(f(y.substring(1),T));if(0<=y.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=h(Math.pow(T,8)),R=m,N=0;N<y.length;N+=8){var k=Math.min(8,y.length-N),A=parseInt(y.substring(N,N+k),T);8>k?(k=h(Math.pow(T,k)),R=R.j(k).add(h(A))):(R=R.j(v),R=R.add(h(A)))}return R}var m=c(0),g=c(1),I=c(16777216);t=o.prototype,t.m=function(){if(D(this))return-P(this).m();for(var y=0,T=1,v=0;v<this.g.length;v++){var R=this.i(v);y+=(0<=R?R:4294967296+R)*T,T*=4294967296}return y},t.toString=function(y){if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C(this))return"0";if(D(this))return"-"+P(this).toString(y);for(var T=h(Math.pow(y,6)),v=this,R="";;){var N=V(v,T).g;v=b(v,N.j(T));var k=((0<v.g.length?v.g[0]:v.h)>>>0).toString(y);if(v=N,C(v))return k+R;for(;6>k.length;)k="0"+k;R=k+R}},t.i=function(y){return 0>y?0:y<this.g.length?this.g[y]:this.h};function C(y){if(y.h!=0)return!1;for(var T=0;T<y.g.length;T++)if(y.g[T]!=0)return!1;return!0}function D(y){return y.h==-1}t.l=function(y){return y=b(this,y),D(y)?-1:C(y)?0:1};function P(y){for(var T=y.g.length,v=[],R=0;R<T;R++)v[R]=~y.g[R];return new o(v,~y.h).add(g)}t.abs=function(){return D(this)?P(this):this},t.add=function(y){for(var T=Math.max(this.g.length,y.g.length),v=[],R=0,N=0;N<=T;N++){var k=R+(this.i(N)&65535)+(y.i(N)&65535),A=(k>>>16)+(this.i(N)>>>16)+(y.i(N)>>>16);R=A>>>16,k&=65535,A&=65535,v[N]=A<<16|k}return new o(v,v[v.length-1]&-2147483648?-1:0)};function b(y,T){return y.add(P(T))}t.j=function(y){if(C(this)||C(y))return m;if(D(this))return D(y)?P(this).j(P(y)):P(P(this).j(y));if(D(y))return P(this.j(P(y)));if(0>this.l(I)&&0>y.l(I))return h(this.m()*y.m());for(var T=this.g.length+y.g.length,v=[],R=0;R<2*T;R++)v[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<y.g.length;N++){var k=this.i(R)>>>16,A=this.i(R)&65535,nt=y.i(N)>>>16,Ut=y.i(N)&65535;v[2*R+2*N]+=A*Ut,x(v,2*R+2*N),v[2*R+2*N+1]+=k*Ut,x(v,2*R+2*N+1),v[2*R+2*N+1]+=A*nt,x(v,2*R+2*N+1),v[2*R+2*N+2]+=k*nt,x(v,2*R+2*N+2)}for(R=0;R<T;R++)v[R]=v[2*R+1]<<16|v[2*R];for(R=T;R<2*T;R++)v[R]=0;return new o(v,0)};function x(y,T){for(;(y[T]&65535)!=y[T];)y[T+1]+=y[T]>>>16,y[T]&=65535,T++}function U(y,T){this.g=y,this.h=T}function V(y,T){if(C(T))throw Error("division by zero");if(C(y))return new U(m,m);if(D(y))return T=V(P(y),T),new U(P(T.g),P(T.h));if(D(T))return T=V(y,P(T)),new U(P(T.g),T.h);if(30<y.g.length){if(D(y)||D(T))throw Error("slowDivide_ only works with positive integers.");for(var v=g,R=T;0>=R.l(y);)v=q(v),R=q(R);var N=z(v,1),k=z(R,1);for(R=z(R,2),v=z(v,2);!C(R);){var A=k.add(R);0>=A.l(y)&&(N=N.add(v),k=A),R=z(R,1),v=z(v,1)}return T=b(y,N.j(T)),new U(N,T)}for(N=m;0<=y.l(T);){for(v=Math.max(1,Math.floor(y.m()/T.m())),R=Math.ceil(Math.log(v)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),k=h(v),A=k.j(T);D(A)||0<A.l(y);)v-=R,k=h(v),A=k.j(T);C(k)&&(k=g),N=N.add(k),y=b(y,A)}return new U(N,y)}t.A=function(y){return V(this,y).h},t.and=function(y){for(var T=Math.max(this.g.length,y.g.length),v=[],R=0;R<T;R++)v[R]=this.i(R)&y.i(R);return new o(v,this.h&y.h)},t.or=function(y){for(var T=Math.max(this.g.length,y.g.length),v=[],R=0;R<T;R++)v[R]=this.i(R)|y.i(R);return new o(v,this.h|y.h)},t.xor=function(y){for(var T=Math.max(this.g.length,y.g.length),v=[],R=0;R<T;R++)v[R]=this.i(R)^y.i(R);return new o(v,this.h^y.h)};function q(y){for(var T=y.g.length+1,v=[],R=0;R<T;R++)v[R]=y.i(R)<<1|y.i(R-1)>>>31;return new o(v,y.h)}function z(y,T){var v=T>>5;T%=32;for(var R=y.g.length-v,N=[],k=0;k<R;k++)N[k]=0<T?y.i(k+v)>>>T|y.i(k+v+1)<<32-T:y.i(k+v);return new o(N,y.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Ap=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,$n=o}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ip,Ls,wp,io,Pl,bp,Rp,Sp;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,d){return a==Array.prototype||a==Object.prototype||(a[u]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof qi=="object"&&qi];for(var u=0;u<a.length;++u){var d=a[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(a,u){if(u)e:{var d=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var M=a[p];if(!(M in d))break e;d=d[M]}a=a[a.length-1],p=d[a],u=u(p),u!=p&&u!=null&&e(d,a,{configurable:!0,writable:!0,value:u})}}function i(a,u){a instanceof String&&(a+="");var d=0,p=!1,M={next:function(){if(!p&&d<a.length){var $=d++;return{value:u($,a[$]),done:!1}}return p=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(a){return a||function(){return i(this,function(u,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,d){return a.call.apply(a.bind,arguments)}function m(a,u,d){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,p),a.apply(u,M)}}return function(){return a.apply(u,arguments)}}function g(a,u,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function I(a,u){var d=Array.prototype.slice.call(arguments,1);return function(){var p=d.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function C(a,u){function d(){}d.prototype=u.prototype,a.aa=u.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(p,M,$){for(var J=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)J[Pe-2]=arguments[Pe];return u.prototype[M].apply(p,J)}}function D(a){const u=a.length;if(0<u){const d=Array(u);for(let p=0;p<u;p++)d[p]=a[p];return d}return[]}function P(a,u){for(let d=1;d<arguments.length;d++){const p=arguments[d];if(c(p)){const M=a.length||0,$=p.length||0;a.length=M+$;for(let J=0;J<$;J++)a[M+J]=p[J]}else a.push(p)}}class b{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function x(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var q=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function z(a,u,d){for(const p in a)u.call(d,a[p],p,a)}function y(a,u){for(const d in a)u.call(void 0,a[d],d,a)}function T(a){const u={};for(const d in a)u[d]=a[d];return u}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,u){let d,p;for(let M=1;M<arguments.length;M++){p=arguments[M];for(d in p)a[d]=p[d];for(let $=0;$<v.length;$++)d=v[$],Object.prototype.hasOwnProperty.call(p,d)&&(a[d]=p[d])}}function N(a){var u=1;a=a.split(":");const d=[];for(;0<u&&a.length;)d.push(a.shift()),u--;return a.length&&d.push(a.join(":")),d}function k(a){l.setTimeout(()=>{throw a},0)}function A(){var a=qe;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class nt{constructor(){this.h=this.g=null}add(u,d){const p=Ut.get();p.set(u,d),this.h?this.h.next=p:this.g=p,this.h=p}}var Ut=new b(()=>new He,a=>a.reset());class He{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,pe=!1,qe=new nt,Bt=()=>{const a=l.Promise.resolve(void 0);Te=()=>{a.then(wt)}};var wt=()=>{for(var a;a=A();){try{a.h.call(a.g)}catch(d){k(d)}var u=Ut;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}pe=!1};function Fe(){this.s=this.s,this.C=this.C}Fe.prototype.s=!1,Fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ue(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}Ue.prototype.h=function(){this.defaultPrevented=!0};var rr=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,u),l.removeEventListener("test",d,u)}catch{}return a}();function Zt(a,u){if(Ue.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(q){e:{try{V(u.nodeName);var M=!0;break e}catch{}M=!1}M||(u=null)}}else d=="mouseover"?u=a.fromElement:d=="mouseout"&&(u=a.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:qt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zt.aa.h.call(this)}}C(Zt,Ue);var qt={2:"touch",3:"pen",4:"mouse"};Zt.prototype.h=function(){Zt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),en=0;function Nn(a,u,d,p,M){this.listener=a,this.proxy=null,this.src=u,this.type=d,this.capture=!!p,this.ha=M,this.key=++en,this.da=this.fa=!1}function bt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function pn(a){this.src=a,this.g={},this.h=0}pn.prototype.add=function(a,u,d,p,M){var $=a.toString();a=this.g[$],a||(a=this.g[$]=[],this.h++);var J=S(a,u,p,M);return-1<J?(u=a[J],d||(u.fa=!1)):(u=new Nn(u,this.src,$,!!p,M),u.fa=d,a.push(u)),u};function w(a,u){var d=u.type;if(d in a.g){var p=a.g[d],M=Array.prototype.indexOf.call(p,u,void 0),$;($=0<=M)&&Array.prototype.splice.call(p,M,1),$&&(bt(u),a.g[d].length==0&&(delete a.g[d],a.h--))}}function S(a,u,d,p){for(var M=0;M<a.length;++M){var $=a[M];if(!$.da&&$.listener==u&&$.capture==!!d&&$.ha==p)return M}return-1}var B="closure_lm_"+(1e6*Math.random()|0),Q={};function G(a,u,d,p,M){if(Array.isArray(u)){for(var $=0;$<u.length;$++)G(a,u[$],d,p,M);return null}return d=j(d),a&&a[Dt]?a.K(u,d,h(p)?!!p.capture:!1,M):Y(a,u,d,!1,p,M)}function Y(a,u,d,p,M,$){if(!u)throw Error("Invalid event type");var J=h(M)?!!M.capture:!!M,Pe=W(a);if(Pe||(a[B]=Pe=new pn(a)),d=Pe.add(u,d,p,J,$),d.proxy)return d;if(p=_(),d.proxy=p,p.src=a,p.listener=d,a.addEventListener)rr||(M=J),M===void 0&&(M=!1),a.addEventListener(u.toString(),p,M);else if(a.attachEvent)a.attachEvent(F(u.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return d}function _(){function a(d){return u.call(a.src,a.listener,d)}const u=ee;return a}function E(a,u,d,p,M){if(Array.isArray(u))for(var $=0;$<u.length;$++)E(a,u[$],d,p,M);else p=h(p)?!!p.capture:!!p,d=j(d),a&&a[Dt]?(a=a.i,u=String(u).toString(),u in a.g&&($=a.g[u],d=S($,d,p,M),-1<d&&(bt($[d]),Array.prototype.splice.call($,d,1),$.length==0&&(delete a.g[u],a.h--)))):a&&(a=W(a))&&(u=a.g[u.toString()],a=-1,u&&(a=S(u,d,p,M)),(d=-1<a?u[a]:null)&&L(d))}function L(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Dt])w(u.i,a);else{var d=a.type,p=a.proxy;u.removeEventListener?u.removeEventListener(d,p,a.capture):u.detachEvent?u.detachEvent(F(d),p):u.addListener&&u.removeListener&&u.removeListener(p),(d=W(u))?(w(d,a),d.h==0&&(d.src=null,u[B]=null)):bt(a)}}}function F(a){return a in Q?Q[a]:Q[a]="on"+a}function ee(a,u){if(a.da)a=!0;else{u=new Zt(u,this);var d=a.listener,p=a.ha||a.src;a.fa&&L(a),a=d.call(p,u)}return a}function W(a){return a=a[B],a instanceof pn?a:null}var O="__closure_events_fn_"+(1e9*Math.random()>>>0);function j(a){return typeof a=="function"?a:(a[O]||(a[O]=function(u){return a.handleEvent(u)}),a[O])}function Z(){Fe.call(this),this.i=new pn(this),this.M=this,this.F=null}C(Z,Fe),Z.prototype[Dt]=!0,Z.prototype.removeEventListener=function(a,u,d,p){E(this,a,u,d,p)};function se(a,u){var d,p=a.F;if(p)for(d=[];p;p=p.F)d.push(p);if(a=a.M,p=u.type||u,typeof u=="string")u=new Ue(u,a);else if(u instanceof Ue)u.target=u.target||a;else{var M=u;u=new Ue(p,a),R(u,M)}if(M=!0,d)for(var $=d.length-1;0<=$;$--){var J=u.g=d[$];M=he(J,p,!0,u)&&M}if(J=u.g=a,M=he(J,p,!0,u)&&M,M=he(J,p,!1,u)&&M,d)for($=0;$<d.length;$++)J=u.g=d[$],M=he(J,p,!1,u)&&M}Z.prototype.N=function(){if(Z.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var d=a.g[u],p=0;p<d.length;p++)bt(d[p]);delete a.g[u],a.h--}}this.F=null},Z.prototype.K=function(a,u,d,p){return this.i.add(String(a),u,!1,d,p)},Z.prototype.L=function(a,u,d,p){return this.i.add(String(a),u,!0,d,p)};function he(a,u,d,p){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var M=!0,$=0;$<u.length;++$){var J=u[$];if(J&&!J.da&&J.capture==d){var Pe=J.listener,it=J.ha||J.src;J.fa&&w(a.i,J),M=Pe.call(it,p)!==!1&&M}}return M&&!p.defaultPrevented}function We(a,u,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(a,u||0)}function xe(a){a.g=We(()=>{a.g=null,a.i&&(a.i=!1,xe(a))},a.l);const u=a.h;a.h=null,a.m.apply(null,u)}class Rt extends Fe{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:xe(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(a){Fe.call(this),this.h=a,this.g={}}C(rt,Fe);var Dn=[];function ms(a){z(a.g,function(u,d){this.g.hasOwnProperty(d)&&L(u)},a),a.g={}}rt.prototype.N=function(){rt.aa.N.call(this),ms(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var st=l.JSON.stringify,jt=l.JSON.parse,bi=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Ea(){}Ea.prototype.h=null;function du(a){return a.h||(a.h=a.i())}function mu(){}var ps={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ta(){Ue.call(this,"d")}C(Ta,Ue);function va(){Ue.call(this,"c")}C(va,Ue);var sr={},pu=null;function Ri(){return pu=pu||new Z}sr.La="serverreachability";function gu(a){Ue.call(this,sr.La,a)}C(gu,Ue);function gs(a){const u=Ri();se(u,new gu(u))}sr.STAT_EVENT="statevent";function _u(a,u){Ue.call(this,sr.STAT_EVENT,a),this.stat=u}C(_u,Ue);function Et(a){const u=Ri();se(u,new _u(u,a))}sr.Ma="timingevent";function yu(a,u){Ue.call(this,sr.Ma,a),this.size=u}C(yu,Ue);function _s(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},u)}function ys(){this.g=!0}ys.prototype.xa=function(){this.g=!1};function __(a,u,d,p,M,$){a.info(function(){if(a.g)if($)for(var J="",Pe=$.split("&"),it=0;it<Pe.length;it++){var ve=Pe[it].split("=");if(1<ve.length){var ut=ve[0];ve=ve[1];var ht=ut.split("_");J=2<=ht.length&&ht[1]=="type"?J+(ut+"="+ve+"&"):J+(ut+"=redacted&")}}else J=null;else J=$;return"XMLHTTP REQ ("+p+") [attempt "+M+"]: "+u+`
`+d+`
`+J})}function y_(a,u,d,p,M,$,J){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+M+"]: "+u+`
`+d+`
`+$+" "+J})}function Pr(a,u,d,p){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+T_(a,d)+(p?" "+p:"")})}function E_(a,u){a.info(function(){return"TIMEOUT: "+u})}ys.prototype.info=function(){};function T_(a,u){if(!a.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var p=d[a];if(!(2>p.length)){var M=p[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var J=1;J<M.length;J++)M[J]=""}}}}return st(d)}catch{return u}}var Si={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Aa;function Ci(){}C(Ci,Ea),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},Aa=new Ci;function On(a,u,d,p){this.j=a,this.i=u,this.l=d,this.R=p||1,this.U=new rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tu}function Tu(){this.i=null,this.g="",this.h=!1}var vu={},Ia={};function wa(a,u,d){a.L=1,a.v=Oi(gn(u)),a.m=d,a.P=!0,Au(a,null)}function Au(a,u){a.F=Date.now(),Pi(a),a.A=gn(a.v);var d=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),xu(d.i,"t",p),a.C=0,d=a.j.J,a.h=new Tu,a.g=eh(a.j,d?u:null,!a.m),0<a.O&&(a.M=new Rt(g(a.Y,a,a.g),a.O)),u=a.U,d=a.g,p=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Dn[0]=M.toString()),M=Dn);for(var $=0;$<M.length;$++){var J=G(d,M[$],p||u.handleEvent,!1,u.h||u);if(!J)break;u.g[J.key]=J}u=a.H?T(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),gs(),__(a.i,a.u,a.A,a.l,a.R,a.m)}On.prototype.ca=function(a){a=a.target;const u=this.M;u&&_n(a)==3?u.j():this.Y(a)},On.prototype.Y=function(a){try{if(a==this.g)e:{const ht=_n(this.g);var u=this.g.Ba();const Or=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||ht!=4||u==7||(u==8||0>=Or?gs(3):gs(2)),ba(this);var d=this.g.Z();this.X=d;t:if(Iu(this)){var p=Hu(this.g);a="";var M=p.length,$=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ir(this),Es(this);var J="";break t}this.h.i=new l.TextDecoder}for(u=0;u<M;u++)this.h.h=!0,a+=this.h.i.decode(p[u],{stream:!($&&u==M-1)});p.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=d==200,y_(this.i,this.u,this.A,this.l,this.R,ht,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,it=this.g;if((Pe=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Pe)){var ve=Pe;break t}}ve=null}if(d=ve)Pr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ra(this,d);else{this.o=!1,this.s=3,Et(12),ir(this),Es(this);break e}}if(this.P){d=!0;let Wt;for(;!this.J&&this.C<J.length;)if(Wt=v_(this,J),Wt==Ia){ht==4&&(this.s=4,Et(14),d=!1),Pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Wt==vu){this.s=4,Et(15),Pr(this.i,this.l,J,"[Invalid Chunk]"),d=!1;break}else Pr(this.i,this.l,Wt,null),Ra(this,Wt);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||J.length!=0||this.h.h||(this.s=1,Et(16),d=!1),this.o=this.o&&d,!d)Pr(this.i,this.l,J,"[Invalid Chunked Response]"),ir(this),Es(this);else if(0<J.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Oa(ut),ut.M=!0,Et(11))}}else Pr(this.i,this.l,J,null),Ra(this,J);ht==4&&ir(this),this.o&&!this.J&&(ht==4?Yu(this.j,this):(this.o=!1,Pi(this)))}else F_(this.g),d==400&&0<J.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),ir(this),Es(this)}}}catch{}finally{}};function Iu(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function v_(a,u){var d=a.C,p=u.indexOf(`
`,d);return p==-1?Ia:(d=Number(u.substring(d,p)),isNaN(d)?vu:(p+=1,p+d>u.length?Ia:(u=u.slice(p,p+d),a.C=p+d,u)))}On.prototype.cancel=function(){this.J=!0,ir(this)};function Pi(a){a.S=Date.now()+a.I,wu(a,a.I)}function wu(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=_s(g(a.ba,a),u)}function ba(a){a.B&&(l.clearTimeout(a.B),a.B=null)}On.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(E_(this.i,this.A),this.L!=2&&(gs(),Et(17)),ir(this),this.s=2,Es(this)):wu(this,this.S-a)};function Es(a){a.j.G==0||a.J||Yu(a.j,a)}function ir(a){ba(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,ms(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Ra(a,u){try{var d=a.j;if(d.G!=0&&(d.g==a||Sa(d.h,a))){if(!a.K&&Sa(d.h,a)&&d.G==3){try{var p=d.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var M=p;if(M[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)Fi(d),xi(d);else break e;Da(d),Et(18)}}else d.za=M[1],0<d.za-d.T&&37500>M[2]&&d.F&&d.v==0&&!d.C&&(d.C=_s(g(d.Za,d),6e3));if(1>=Su(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else ar(d,11)}else if((a.K||d.g==a)&&Fi(d),!x(u))for(M=d.Da.g.parse(u),u=0;u<M.length;u++){let ve=M[u];if(d.T=ve[0],ve=ve[1],d.G==2)if(ve[0]=="c"){d.K=ve[1],d.ia=ve[2];const ut=ve[3];ut!=null&&(d.la=ut,d.j.info("VER="+d.la));const ht=ve[4];ht!=null&&(d.Aa=ht,d.j.info("SVER="+d.Aa));const Or=ve[5];Or!=null&&typeof Or=="number"&&0<Or&&(p=1.5*Or,d.L=p,d.j.info("backChannelRequestTimeoutMs_="+p)),p=d;const Wt=a.g;if(Wt){const Bi=Wt.g?Wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var $=p.h;$.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ca($,$.h),$.h=null))}if(p.D){const La=Wt.g?Wt.g.getResponseHeader("X-HTTP-Session-Id"):null;La&&(p.ya=La,Le(p.I,p.D,La))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),p=d;var J=a;if(p.qa=Zu(p,p.J?p.ia:null,p.W),J.K){Cu(p.h,J);var Pe=J,it=p.L;it&&(Pe.I=it),Pe.B&&(ba(Pe),Pi(Pe)),p.g=J}else zu(p);0<d.i.length&&Mi(d)}else ve[0]!="stop"&&ve[0]!="close"||ar(d,7);else d.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ar(d,7):Na(d):ve[0]!="noop"&&d.l&&d.l.ta(ve),d.v=0)}}gs(4)}catch{}}var A_=class{constructor(a,u){this.g=a,this.map=u}};function bu(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ru(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Su(a){return a.h?1:a.g?a.g.size:0}function Sa(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Ca(a,u){a.g?a.g.add(u):a.h=u}function Cu(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}bu.prototype.cancel=function(){if(this.i=Pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Pu(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(const d of a.g.values())u=u.concat(d.D);return u}return D(a.i)}function I_(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var u=[],d=a.length,p=0;p<d;p++)u.push(a[p]);return u}u=[],d=0;for(p in a)u[d++]=a[p];return u}function w_(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var u=[];a=a.length;for(var d=0;d<a;d++)u.push(d);return u}u=[],d=0;for(const p in a)u[d++]=p;return u}}}function Nu(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var d=w_(a),p=I_(a),M=p.length,$=0;$<M;$++)u.call(void 0,p[$],d&&d[$],a)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b_(a,u){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var p=a[d].indexOf("="),M=null;if(0<=p){var $=a[d].substring(0,p);M=a[d].substring(p+1)}else $=a[d];u($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function or(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof or){this.h=a.h,Ni(this,a.j),this.o=a.o,this.g=a.g,Di(this,a.s),this.l=a.l;var u=a.i,d=new As;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),Ou(this,d),this.m=a.m}else a&&(u=String(a).match(Du))?(this.h=!1,Ni(this,u[1]||"",!0),this.o=Ts(u[2]||""),this.g=Ts(u[3]||"",!0),Di(this,u[4]),this.l=Ts(u[5]||"",!0),Ou(this,u[6]||"",!0),this.m=Ts(u[7]||"")):(this.h=!1,this.i=new As(null,this.h))}or.prototype.toString=function(){var a=[],u=this.j;u&&a.push(vs(u,Lu,!0),":");var d=this.g;return(d||u=="file")&&(a.push("//"),(u=this.o)&&a.push(vs(u,Lu,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(vs(d,d.charAt(0)=="/"?C_:S_,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",vs(d,N_)),a.join("")};function gn(a){return new or(a)}function Ni(a,u,d){a.j=d?Ts(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function Di(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Ou(a,u,d){u instanceof As?(a.i=u,D_(a.i,a.h)):(d||(u=vs(u,P_)),a.i=new As(u,a.h))}function Le(a,u,d){a.i.set(u,d)}function Oi(a){return Le(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ts(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function vs(a,u,d){return typeof a=="string"?(a=encodeURI(a).replace(u,R_),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function R_(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lu=/[#\/\?@]/g,S_=/[#\?:]/g,C_=/[#\?]/g,P_=/[#\?@]/g,N_=/#/g;function As(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Ln(a){a.g||(a.g=new Map,a.h=0,a.i&&b_(a.i,function(u,d){a.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}t=As.prototype,t.add=function(a,u){Ln(this),this.i=null,a=Nr(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(u),this.h+=1,this};function Vu(a,u){Ln(a),u=Nr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function ku(a,u){return Ln(a),u=Nr(a,u),a.g.has(u)}t.forEach=function(a,u){Ln(this),this.g.forEach(function(d,p){d.forEach(function(M){a.call(u,M,p,this)},this)},this)},t.na=function(){Ln(this);const a=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let p=0;p<u.length;p++){const M=a[p];for(let $=0;$<M.length;$++)d.push(u[p])}return d},t.V=function(a){Ln(this);let u=[];if(typeof a=="string")ku(this,a)&&(u=u.concat(this.g.get(Nr(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)u=u.concat(a[d])}return u},t.set=function(a,u){return Ln(this),this.i=null,a=Nr(this,a),ku(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},t.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function xu(a,u,d){Vu(a,u),0<d.length&&(a.i=null,a.g.set(Nr(a,u),D(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var p=u[d];const $=encodeURIComponent(String(p)),J=this.V(p);for(p=0;p<J.length;p++){var M=$;J[p]!==""&&(M+="="+encodeURIComponent(String(J[p]))),a.push(M)}}return this.i=a.join("&")};function Nr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function D_(a,u){u&&!a.j&&(Ln(a),a.i=null,a.g.forEach(function(d,p){var M=p.toLowerCase();p!=M&&(Vu(this,p),xu(this,M,d))},a)),a.j=u}function O_(a,u){const d=new ys;if(l.Image){const p=new Image;p.onload=I(Vn,d,"TestLoadImage: loaded",!0,u,p),p.onerror=I(Vn,d,"TestLoadImage: error",!1,u,p),p.onabort=I(Vn,d,"TestLoadImage: abort",!1,u,p),p.ontimeout=I(Vn,d,"TestLoadImage: timeout",!1,u,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else u(!1)}function L_(a,u){const d=new ys,p=new AbortController,M=setTimeout(()=>{p.abort(),Vn(d,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:p.signal}).then($=>{clearTimeout(M),$.ok?Vn(d,"TestPingServer: ok",!0,u):Vn(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(M),Vn(d,"TestPingServer: error",!1,u)})}function Vn(a,u,d,p,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),p(d)}catch{}}function V_(){this.g=new bi}function k_(a,u,d){const p=d||"";try{Nu(a,function(M,$){let J=M;h(M)&&(J=st(M)),u.push(p+$+"="+encodeURIComponent(J))})}catch(M){throw u.push(p+"type="+encodeURIComponent("_badmap")),M}}function Li(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Li,Ea),Li.prototype.g=function(){return new Vi(this.l,this.j)},Li.prototype.i=function(a){return function(){return a}}({});function Vi(a,u){Z.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Vi,Z),t=Vi.prototype,t.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,ws(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mu(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mu(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Is(this):ws(this),this.readyState==3&&Mu(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Is(this))},t.Qa=function(a){this.g&&(this.response=a,Is(this))},t.ga=function(){this.g&&Is(this)};function Is(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ws(a)}t.setRequestHeader=function(a,u){this.u.append(a,u)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=u.next();return a.join(`\r
`)};function ws(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Fu(a){let u="";return z(a,function(d,p){u+=p,u+=":",u+=d,u+=`\r
`}),u}function Pa(a,u,d){e:{for(p in d){var p=!1;break e}p=!0}p||(d=Fu(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Le(a,u,d))}function je(a){Z.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(je,Z);var x_=/^https?$/i,M_=["POST","PUT"];t=je.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,u,d,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Aa.g(),this.v=this.o?du(this.o):du(Aa),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch($){Uu(this,$);return}if(a=d||"",d=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var M in p)d.set(M,p[M]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const $ of p.keys())d.set($,p.get($));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(d.keys()).find($=>$.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(M_,u,void 0))||p||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,J]of d)this.g.setRequestHeader($,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$u(this),this.u=!0,this.g.send(a),this.u=!1}catch($){Uu(this,$)}};function Uu(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Bu(a),ki(a)}function Bu(a){a.A||(a.A=!0,se(a,"complete"),se(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,se(this,"complete"),se(this,"abort"),ki(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ju(this):this.bb())},t.bb=function(){ju(this)};function ju(a){if(a.h&&typeof o<"u"&&(!a.v[1]||_n(a)!=4||a.Z()!=2)){if(a.u&&_n(a)==4)We(a.Ea,0,a);else if(se(a,"readystatechange"),_n(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var p;if(p=J===0){var M=String(a.D).match(Du)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),p=!x_.test(M?M.toLowerCase():"")}d=p}if(d)se(a,"complete"),se(a,"success");else{a.m=6;try{var $=2<_n(a)?a.g.statusText:""}catch{$=""}a.l=$+" ["+a.Z()+"]",Bu(a)}}finally{ki(a)}}}}function ki(a,u){if(a.g){$u(a);const d=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||se(a,"ready");try{d.onreadystatechange=p}catch{}}}function $u(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function _n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),jt(u)}};function Hu(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function F_(a){const u={};a=(a.g&&2<=_n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(x(a[p]))continue;var d=N(a[p]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const $=u[M]||[];u[M]=$,$.push(d)}y(u,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bs(a,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||u}function qu(a){this.Aa=0,this.i=[],this.j=new ys,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bs("baseRetryDelayMs",5e3,a),this.cb=bs("retryDelaySeedMs",1e4,a),this.Wa=bs("forwardChannelMaxRetries",2,a),this.wa=bs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new bu(a&&a.concurrentRequestLimit),this.Da=new V_,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=qu.prototype,t.la=8,t.G=1,t.connect=function(a,u,d,p){Et(0),this.W=a,this.H=u||{},d&&p!==void 0&&(this.H.OSID=d,this.H.OAID=p),this.F=this.X,this.I=Zu(this,null,this.W),Mi(this)};function Na(a){if(Wu(a),a.G==3){var u=a.U++,d=gn(a.I);if(Le(d,"SID",a.K),Le(d,"RID",u),Le(d,"TYPE","terminate"),Rs(a,d),u=new On(a,a.j,u),u.L=2,u.v=Oi(gn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=u.v,d=!0),d||(u.g=eh(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Pi(u)}Ju(a)}function xi(a){a.g&&(Oa(a),a.g.cancel(),a.g=null)}function Wu(a){xi(a),a.u&&(l.clearTimeout(a.u),a.u=null),Fi(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Mi(a){if(!Ru(a.h)&&!a.s){a.s=!0;var u=a.Ga;Te||Bt(),pe||(Te(),pe=!0),qe.add(u,a),a.B=0}}function U_(a,u){return Su(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=_s(g(a.Ga,a,u),Xu(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new On(this,this.j,a);let $=this.o;if(this.S&&($?($=T($),R($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var p=this.i[d];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=Gu(this,M,u),d=gn(this.I),Le(d,"RID",a),Le(d,"CVER",22),this.D&&Le(d,"X-HTTP-Session-Id",this.D),Rs(this,d),$&&(this.O?u="headers="+encodeURIComponent(String(Fu($)))+"&"+u:this.m&&Pa(d,this.m,$)),Ca(this.h,M),this.Ua&&Le(d,"TYPE","init"),this.P?(Le(d,"$req",u),Le(d,"SID","null"),M.T=!0,wa(M,d,null)):wa(M,d,u),this.G=2}}else this.G==3&&(a?Ku(this,a):this.i.length==0||Ru(this.h)||Ku(this))};function Ku(a,u){var d;u?d=u.l:d=a.U++;const p=gn(a.I);Le(p,"SID",a.K),Le(p,"RID",d),Le(p,"AID",a.T),Rs(a,p),a.m&&a.o&&Pa(p,a.m,a.o),d=new On(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Gu(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ca(a.h,d),wa(d,p,u)}function Rs(a,u){a.H&&z(a.H,function(d,p){Le(u,p,d)}),a.l&&Nu({},function(d,p){Le(u,p,d)})}function Gu(a,u,d){d=Math.min(a.i.length,d);var p=a.l?g(a.l.Na,a.l,a):null;e:{var M=a.i;let $=-1;for(;;){const J=["count="+d];$==-1?0<d?($=M[0].g,J.push("ofs="+$)):$=0:J.push("ofs="+$);let Pe=!0;for(let it=0;it<d;it++){let ve=M[it].g;const ut=M[it].map;if(ve-=$,0>ve)$=Math.max(0,M[it].g-100),Pe=!1;else try{k_(ut,J,"req"+ve+"_")}catch{p&&p(ut)}}if(Pe){p=J.join("&");break e}}}return a=a.i.splice(0,d),u.D=a,p}function zu(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;Te||Bt(),pe||(Te(),pe=!0),qe.add(u,a),a.v=0}}function Da(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=_s(g(a.Fa,a),Xu(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=_s(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),xi(this),Qu(this))};function Oa(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Qu(a){a.g=new On(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=gn(a.qa);Le(u,"RID","rpc"),Le(u,"SID",a.K),Le(u,"AID",a.T),Le(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Le(u,"TO",a.ja),Le(u,"TYPE","xmlhttp"),Rs(a,u),a.m&&a.o&&Pa(u,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=Oi(gn(u)),d.m=null,d.P=!0,Au(d,a)}t.Za=function(){this.C!=null&&(this.C=null,xi(this),Da(this),Et(19))};function Fi(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Yu(a,u){var d=null;if(a.g==u){Fi(a),Oa(a),a.g=null;var p=2}else if(Sa(a.h,u))d=u.D,Cu(a.h,u),p=1;else return;if(a.G!=0){if(u.o)if(p==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var M=a.B;p=Ri(),se(p,new yu(p,d)),Mi(a)}else zu(a);else if(M=u.s,M==3||M==0&&0<u.X||!(p==1&&U_(a,u)||p==2&&Da(a)))switch(d&&0<d.length&&(u=a.h,u.i=u.i.concat(d)),M){case 1:ar(a,5);break;case 4:ar(a,10);break;case 3:ar(a,6);break;default:ar(a,2)}}}function Xu(a,u){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*u}function ar(a,u){if(a.j.info("Error code "+u),u==2){var d=g(a.fb,a),p=a.Xa;const M=!p;p=new or(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ni(p,"https"),Oi(p),M?O_(p.toString(),d):L_(p.toString(),d)}else Et(2);a.G=0,a.l&&a.l.sa(u),Ju(a),Wu(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Ju(a){if(a.G=0,a.ka=[],a.l){const u=Pu(a.h);(u.length!=0||a.i.length!=0)&&(P(a.ka,u),P(a.ka,a.i),a.h.i.length=0,D(a.i),a.i.length=0),a.l.ra()}}function Zu(a,u,d){var p=d instanceof or?gn(d):new or(d);if(p.g!="")u&&(p.g=u+"."+p.g),Di(p,p.s);else{var M=l.location;p=M.protocol,u=u?u+"."+M.hostname:M.hostname,M=+M.port;var $=new or(null);p&&Ni($,p),u&&($.g=u),M&&Di($,M),d&&($.l=d),p=$}return d=a.D,u=a.ya,d&&u&&Le(p,d,u),Le(p,"VER",a.la),Rs(a,p),p}function eh(a,u,d){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new je(new Li({eb:d})):new je(a.pa),u.Ha(a.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}t=th.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ui(){}Ui.prototype.g=function(a,u){return new Ot(a,u)};function Ot(a,u){Z.call(this),this.g=new qu(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!x(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!x(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Dr(this)}C(Ot,Z),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Na(this.g)},Ot.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=st(a),a=d);u.i.push(new A_(u.Ya++,a)),u.G==3&&Mi(u)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Na(this.g),delete this.g,Ot.aa.N.call(this)};function nh(a){Ta.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(const d in u){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}C(nh,Ta);function rh(){va.call(this),this.status=1}C(rh,va);function Dr(a){this.g=a}C(Dr,th),Dr.prototype.ua=function(){se(this.g,"a")},Dr.prototype.ta=function(a){se(this.g,new nh(a))},Dr.prototype.sa=function(a){se(this.g,new rh)},Dr.prototype.ra=function(){se(this.g,"b")},Ui.prototype.createWebChannel=Ui.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,Sp=function(){return new Ui},Rp=function(){return Ri()},bp=sr,Pl={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Si.NO_ERROR=0,Si.TIMEOUT=8,Si.HTTP_ERROR=6,io=Si,Eu.COMPLETE="complete",wp=Eu,mu.EventType=ps,ps.OPEN="a",ps.CLOSE="b",ps.ERROR="c",ps.MESSAGE="d",Z.prototype.listen=Z.prototype.K,Ls=mu,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Ip=je}).apply(typeof qi<"u"?qi:typeof self<"u"?self:typeof window<"u"?window:{});const af="@firebase/firestore",lf="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar=new gp("@firebase/firestore");function Mr(){return Ar.logLevel}function ne(t,...e){if(Ar.logLevel<=Ee.DEBUG){const n=e.map(Rc);Ar.debug(`Firestore (${us}): ${t}`,...n)}}function Sn(t,...e){if(Ar.logLevel<=Ee.ERROR){const n=e.map(Rc);Ar.error(`Firestore (${us}): ${t}`,...n)}}function Xr(t,...e){if(Ar.logLevel<=Ee.WARN){const n=e.map(Rc);Ar.warn(`Firestore (${us}): ${t}`,...n)}}function Rc(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t="Unexpected state"){const e=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: `+t;throw Sn(e),new Error(e)}function Re(t,e){t||ae()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends cs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class II{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class wI{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new Cp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new dt(e)}}class bI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class RI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new bI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cf{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,aI(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new cf(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new cf(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=CI(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function Jr(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf=-62135596800,hf=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hf);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<uf)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hf}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-uf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Xe(0,0))}static max(){return new ce(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="__name__";class on{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(),r===void 0?r=e.length-n:r>e.length-n&&ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return on.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof on?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=on.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=on.isNumericId(e),s=on.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?on.extractNumericId(e).compare(on.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $n.fromString(e.substring(4,e.length-2))}}class Me extends on{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const PI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class at extends on{construct(e,n,r){return new at(e,n,r)}static isValidIdentifier(e){return PI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ff}static keyField(){return new at([ff])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ie(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ie(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new at(n)}static emptyPath(){return new at([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Me.fromString(e))}static fromName(e){return new oe(Me.fromString(e).popFirst(5))}static empty(){return new oe(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Me(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=-1;function NI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ce.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Kn(s,oe.empty(),e)}function DI(t){return new Kn(t.readTime,t.key,si)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(ce.min(),oe.empty(),si)}static max(){return new Kn(ce.max(),oe.empty(),si)}}function OI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==LI)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,r)=>{n(e)})}static reject(e){return new K((n,r)=>{r(e)})}static waitFor(e){return new K((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=K.resolve(!1);for(const r of e)n=n.next(s=>s?K.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new K((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(f=>{o[h]=f,++l,l===i&&r(o)},f=>s(f))}})}static doWhile(e,n){return new K((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function kI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}na.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=-1;function ra(t){return t==null}function Co(t){return t===0&&1/t==-1/0}function xI(t){return typeof t=="number"&&Number.isInteger(t)&&!Co(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np="";function MI(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=df(e)),e=FI(t.get(n),e);return df(e)}function FI(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case Np:n+="";break;default:n+=i}}return n}function df(t){return t+Np+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function br(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Dp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.comparator=e,this.root=n||ot.EMPTY}insert(e,n){return new Be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ot.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wi(this.root,e,this.comparator,!0)}}class Wi{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ot.RED,this.left=s??ot.EMPTY,this.right=i??ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ae();const e=this.left.check();if(e!==this.right.check())throw ae();return e+(this.isRed()?0:1)}}ot.EMPTY=null,ot.RED=!0,ot.BLACK=!1;ot.EMPTY=new class{constructor(){this.size=0}get key(){throw ae()}get value(){throw ae()}get color(){throw ae()}get left(){throw ae()}get right(){throw ae()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pf(this.data.getIterator())}getIteratorFrom(e){return new pf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class pf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(at.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new Je(at.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Op("Invalid base64 string: "+i):i}}(e);return new ct(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ct.EMPTY_BYTE_STRING=new ct("");const UI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gn(t){if(Re(!!t),typeof t=="string"){let e=0;const n=UI.exec(t);if(Re(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zn(t){return typeof t=="string"?ct.fromBase64String(t):ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="server_timestamp",Vp="__type__",kp="__previous_value__",xp="__local_write_time__";function Cc(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Vp])===null||n===void 0?void 0:n.stringValue)===Lp}function sa(t){const e=t.mapValue.fields[kp];return Cc(e)?sa(e):e}function ii(t){const e=Gn(t.mapValue.fields[xp].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,r,s,i,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}const Nl="(default)";class oi{constructor(e,n){this.projectId=e,this.database=n||Nl}static empty(){return new oi("","")}get isDefaultDatabase(){return this.database===Nl}isEqual(e){return e instanceof oi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="__type__",jI="__max__",Ki={mapValue:{}},Fp="__vector__",Po="value";function Qn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cc(t)?4:HI(t)?9007199254740991:$I(t)?10:11:ae()}function dn(t,e){if(t===e)return!0;const n=Qn(t);if(n!==Qn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ii(t).isEqual(ii(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gn(s.timestampValue),l=Gn(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return zn(s.bytesValue).isEqual(zn(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ke(s.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ke(s.integerValue)===Ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ke(s.doubleValue),l=Ke(i.doubleValue);return o===l?Co(o)===Co(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return Jr(t.arrayValue.values||[],e.arrayValue.values||[],dn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(mf(o)!==mf(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!dn(o[c],l[c])))return!1;return!0}(t,e);default:return ae()}}function ai(t,e){return(t.values||[]).find(n=>dn(n,e))!==void 0}function Zr(t,e){if(t===e)return 0;const n=Qn(t),r=Qn(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Ke(i.integerValue||i.doubleValue),c=Ke(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return gf(t.timestampValue,e.timestampValue);case 4:return gf(ii(t),ii(e));case 5:return _e(t.stringValue,e.stringValue);case 6:return function(i,o){const l=zn(i),c=zn(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const f=_e(l[h],c[h]);if(f!==0)return f}return _e(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=_e(Ke(i.latitude),Ke(o.latitude));return l!==0?l:_e(Ke(i.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _f(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,h,f;const m=i.fields||{},g=o.fields||{},I=(l=m[Po])===null||l===void 0?void 0:l.arrayValue,C=(c=g[Po])===null||c===void 0?void 0:c.arrayValue,D=_e(((h=I==null?void 0:I.values)===null||h===void 0?void 0:h.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return D!==0?D:_f(I,C)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ki.mapValue&&o===Ki.mapValue)return 0;if(i===Ki.mapValue)return 1;if(o===Ki.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=o.fields||{},f=Object.keys(h);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const g=_e(c[m],f[m]);if(g!==0)return g;const I=Zr(l[c[m]],h[f[m]]);if(I!==0)return I}return _e(c.length,f.length)}(t.mapValue,e.mapValue);default:throw ae()}}function gf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Gn(t),r=Gn(e),s=_e(n.seconds,r.seconds);return s!==0?s:_e(n.nanos,r.nanos)}function _f(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Zr(n[s],r[s]);if(i)return i}return _e(n.length,r.length)}function es(t){return Dl(t)}function Dl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zn(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Dl(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Dl(n.fields[o])}`;return s+"}"}(t.mapValue):ae()}function oo(t){switch(Qn(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sa(t);return e?16+oo(e):16;case 5:return 2*t.stringValue.length;case 6:return zn(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+oo(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return br(r.fields,(i,o)=>{s+=i.length+oo(o)}),s}(t.mapValue);default:throw ae()}}function Ol(t){return!!t&&"integerValue"in t}function Pc(t){return!!t&&"arrayValue"in t}function yf(t){return!!t&&"nullValue"in t}function Ef(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ao(t){return!!t&&"mapValue"in t}function $I(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mp])===null||n===void 0?void 0:n.stringValue)===Fp}function qs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return br(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=qs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=qs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.value=e}static empty(){return new Ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ao(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=qs(n)}setAll(e){let n=at.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=qs(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ao(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ao(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){br(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ht(qs(this.value))}}function Up(t){const e=[];return br(t.fields,(n,r)=>{const s=new at([n]);if(ao(r)){const i=Up(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new pt(e,0,ce.min(),ce.min(),ce.min(),Ht.empty(),0)}static newFoundDocument(e,n,r,s){return new pt(e,1,n,ce.min(),r,s,0)}static newNoDocument(e,n){return new pt(e,2,n,ce.min(),ce.min(),Ht.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,ce.min(),ce.min(),Ht.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n){this.position=e,this.inclusive=n}}function Tf(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Zr(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function vf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!dn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n="asc"){this.field=e,this.dir=n}}function qI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{}class Ye extends Bp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new KI(e,n,r):n==="array-contains"?new QI(e,r):n==="in"?new YI(e,r):n==="not-in"?new XI(e,r):n==="array-contains-any"?new JI(e,r):new Ye(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new GI(e,r):new zI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zr(n,this.value)):n!==null&&Qn(this.value)===Qn(n)&&this.matchesComparison(Zr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends Bp{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mn(e,n)}matches(e){return jp(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jp(t){return t.op==="and"}function $p(t){return WI(t)&&jp(t)}function WI(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Ll(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+es(t.value);if($p(t))return t.filters.map(e=>Ll(e)).join(",");{const e=t.filters.map(n=>Ll(n)).join(",");return`${t.op}(${e})`}}function Hp(t,e){return t instanceof Ye?function(r,s){return s instanceof Ye&&r.op===s.op&&r.field.isEqual(s.field)&&dn(r.value,s.value)}(t,e):t instanceof mn?function(r,s){return s instanceof mn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&Hp(o,s.filters[l]),!0):!1}(t,e):void ae()}function qp(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${es(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(qp).join(" ,")+"}"}(t):"Filter"}class KI extends Ye{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class GI extends Ye{constructor(e,n){super(e,"in",n),this.keys=Wp("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zI extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=Wp("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wp(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class QI extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pc(n)&&ai(n.arrayValue,this.value)}}class YI extends Ye{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ai(this.value.arrayValue,n)}}class XI extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(ai(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ai(this.value.arrayValue,n)}}class JI extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ai(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.le=null}}function Af(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ZI(t,e,n,r,s,i,o)}function Nc(t){const e=ue(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ll(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ra(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>es(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>es(r)).join(",")),e.le=n}return e.le}function Dc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Hp(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vf(t.startAt,e.startAt)&&vf(t.endAt,e.endAt)}function Vl(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ew(t,e,n,r,s,i,o,l){return new ia(t,e,n,r,s,i,o,l)}function Kp(t){return new ia(t)}function If(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tw(t){return t.collectionGroup!==null}function Ws(t){const e=ue(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Je(at.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new Do(i,r))}),n.has(at.keyField().canonicalString())||e.he.push(new Do(at.keyField(),r))}return e.he}function cn(t){const e=ue(t);return e.Pe||(e.Pe=nw(e,Ws(t))),e.Pe}function nw(t,e){if(t.limitType==="F")return Af(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Do(s.field,i)});const n=t.endAt?new No(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new No(t.startAt.position,t.startAt.inclusive):null;return Af(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function kl(t,e,n){return new ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oa(t,e){return Dc(cn(t),cn(e))&&t.limitType===e.limitType}function Gp(t){return`${Nc(cn(t))}|lt:${t.limitType}`}function Fr(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>qp(s)).join(", ")}]`),ra(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>es(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>es(s)).join(",")),`Target(${r})`}(cn(t))}; limitType=${t.limitType})`}function aa(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ws(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const h=Tf(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,Ws(r),s)||r.endAt&&!function(o,l,c){const h=Tf(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,Ws(r),s))}(t,e)}function rw(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zp(t){return(e,n)=>{let r=!1;for(const s of Ws(t)){const i=sw(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function sw(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),h=l.data.field(i);return c!==null&&h!==null?Zr(c,h):ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return Dp(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=new Be(oe.comparator);function Cn(){return iw}const Qp=new Be(oe.comparator);function Vs(...t){let e=Qp;for(const n of t)e=e.insert(n.key,n);return e}function Yp(t){let e=Qp;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function pr(){return Ks()}function Xp(){return Ks()}function Ks(){return new Rr(t=>t.toString(),(t,e)=>t.isEqual(e))}const ow=new Be(oe.comparator),aw=new Je(oe.comparator);function ge(...t){let e=aw;for(const n of t)e=e.add(n);return e}const lw=new Je(_e);function cw(){return lw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Co(e)?"-0":e}}function Jp(t){return{integerValue:""+t}}function uw(t,e){return xI(e)?Jp(e):Oc(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}function hw(t,e,n){return t instanceof li?function(s,i){const o={fields:{[Vp]:{stringValue:Lp},[xp]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Cc(i)&&(i=sa(i)),i&&(o.fields[kp]=i),{mapValue:o}}(n,e):t instanceof ci?eg(t,e):t instanceof ui?tg(t,e):function(s,i){const o=Zp(s,i),l=wf(o)+wf(s.Ie);return Ol(o)&&Ol(s.Ie)?Jp(l):Oc(s.serializer,l)}(t,e)}function fw(t,e,n){return t instanceof ci?eg(t,e):t instanceof ui?tg(t,e):n}function Zp(t,e){return t instanceof Oo?function(r){return Ol(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class li extends la{}class ci extends la{constructor(e){super(),this.elements=e}}function eg(t,e){const n=ng(e);for(const r of t.elements)n.some(s=>dn(s,r))||n.push(r);return{arrayValue:{values:n}}}class ui extends la{constructor(e){super(),this.elements=e}}function tg(t,e){let n=ng(e);for(const r of t.elements)n=n.filter(s=>!dn(s,r));return{arrayValue:{values:n}}}class Oo extends la{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function wf(t){return Ke(t.integerValue||t.doubleValue)}function ng(t){return Pc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n){this.field=e,this.transform=n}}function mw(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ci&&s instanceof ci||r instanceof ui&&s instanceof ui?Jr(r.elements,s.elements,dn):r instanceof Oo&&s instanceof Oo?dn(r.Ie,s.Ie):r instanceof li&&s instanceof li}(t.transform,e.transform)}class pw{constructor(e,n){this.version=e,this.transformResults=n}}class bn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ca{}function rg(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ig(t.key,bn.none()):new vi(t.key,t.data,bn.none());{const n=t.data,r=Ht.empty();let s=new Je(at.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Sr(t.key,r,new Gt(s.toArray()),bn.none())}}function gw(t,e,n){t instanceof vi?function(s,i,o){const l=s.value.clone(),c=Rf(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Sr?function(s,i,o){if(!lo(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Rf(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(sg(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gs(t,e,n,r){return t instanceof vi?function(i,o,l,c){if(!lo(i.precondition,o))return l;const h=i.value.clone(),f=Sf(i.fieldTransforms,c,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Sr?function(i,o,l,c){if(!lo(i.precondition,o))return l;const h=Sf(i.fieldTransforms,c,o),f=o.data;return f.setAll(sg(i)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return lo(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function _w(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Zp(r.transform,s||null);i!=null&&(n===null&&(n=Ht.empty()),n.set(r.field,i))}return n||null}function bf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Jr(r,s,(i,o)=>mw(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vi extends ca{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Sr extends ca{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Rf(t,e,n){const r=new Map;Re(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,fw(o,l,n[s]))}return r}function Sf(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,hw(i,o,e))}return r}class ig extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yw extends ca{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gw(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xp();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=rg(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Jr(this.mutations,e.mutations,(n,r)=>bf(n,r))&&Jr(this.baseMutations,e.baseMutations,(n,r)=>bf(n,r))}}class Lc{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Re(e.mutations.length===r.length);let s=function(){return ow}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Lc(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,ye;function Aw(t){switch(t){case X.OK:return ae();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ae()}}function og(t){if(t===void 0)return Sn("GRPC error has no .code"),X.UNKNOWN;switch(t){case Ge.OK:return X.OK;case Ge.CANCELLED:return X.CANCELLED;case Ge.UNKNOWN:return X.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return X.INTERNAL;case Ge.UNAVAILABLE:return X.UNAVAILABLE;case Ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Ge.NOT_FOUND:return X.NOT_FOUND;case Ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Ge.ABORTED:return X.ABORTED;case Ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Ge.DATA_LOSS:return X.DATA_LOSS;default:return ae()}}(ye=Ge||(Ge={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=new $n([4294967295,4294967295],0);function Cf(t){const e=Iw().encode(t),n=new Ap;return n.update(e),new Uint8Array(n.digest())}function Pf(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $n([n,r],0),new $n([s,i],0)]}class Vc{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ks(`Invalid padding: ${n}`);if(r<0)throw new ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ks(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=$n.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply($n.fromNumber(r)));return s.compare(ww)===1&&(s=new $n([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Cf(e),[r,s]=Pf(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Vc(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ee===0)return;const n=Cf(e),[r,s]=Pf(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ai.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ua(ce.min(),s,new Be(_e),Cn(),ge())}}class Ai{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ai(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class ag{constructor(e,n){this.targetId=e,this.ge=n}}class lg{constructor(e,n,r=ct.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Nf{constructor(){this.pe=0,this.ye=Df(),this.we=ct.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ge(),n=ge(),r=ge();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae()}}),new Ai(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Df()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Re(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class bw{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Cn(),this.$e=Gi(),this.Ke=Gi(),this.Ue=new Be(_e)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Vl(i))if(r===0){const o=new oe(i.path);this.ze(n,o,pt.newNoDocument(o,ce.min()))}else Re(r===1);else{const o=this.et(n);if(o!==r){const l=this.tt(e),c=l?this.nt(l,e,o):1;if(c!==0){this.Ye(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=zn(r).toUint8Array()}catch(c){if(c instanceof Op)return Xr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Vc(o,s,i)}catch(c){return Xr(c instanceof ks?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const l=this.Xe(o);if(l){if(i.current&&Vl(l.target)){const c=new oe(l.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,pt.newNoDocument(c,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=ge();this.Ke.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Xe(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new ua(e,n,this.Ue,this.Qe,r);return this.Qe=Cn(),this.$e=Gi(),this.Ke=Gi(),this.Ue=new Be(_e),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Nf,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Je(_e),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Je(_e),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Nf),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Gi(){return new Be(oe.comparator)}function Df(){return new Be(oe.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},Sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Cw={and:"AND",or:"OR"};class Pw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xl(t,e){return t.useProto3Json||ra(e)?e:{value:e}}function Lo(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nw(t,e){return Lo(t,e.toTimestamp())}function un(t){return Re(!!t),ce.fromTimestamp(function(n){const r=Gn(n);return new Xe(r.seconds,r.nanos)}(t))}function kc(t,e){return Ml(t,e).canonicalString()}function Ml(t,e){const n=function(s){return new Me(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ug(t){const e=Me.fromString(t);return Re(pg(e)),e}function Fl(t,e){return kc(t.databaseId,e.path)}function Za(t,e){const n=ug(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(fg(n))}function hg(t,e){return kc(t.databaseId,e)}function Dw(t){const e=ug(t);return e.length===4?Me.emptyPath():fg(e)}function Ul(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fg(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Of(t,e,n){return{name:Fl(t,e),fields:n.value.mapValue.fields}}function Ow(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,f){return h.useProto3Json?(Re(f===void 0||typeof f=="string"),ct.fromBase64String(f||"")):(Re(f===void 0||f instanceof Buffer||f instanceof Uint8Array),ct.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?X.UNKNOWN:og(h.code);return new ie(f,h.message||"")}(o);n=new lg(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Za(t,r.document.name),i=un(r.document.updateTime),o=r.document.createTime?un(r.document.createTime):ce.min(),l=new Ht({mapValue:{fields:r.document.fields}}),c=pt.newFoundDocument(s,i,o,l),h=r.targetIds||[],f=r.removedTargetIds||[];n=new co(h,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Za(t,r.document),i=r.readTime?un(r.readTime):ce.min(),o=pt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new co([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Za(t,r.document),i=r.removedTargetIds||[];n=new co([],i,s,null)}else{if(!("filter"in e))return ae();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new vw(s,i),l=r.targetId;n=new ag(l,o)}}return n}function Lw(t,e){let n;if(e instanceof vi)n={update:Of(t,e.key,e.value)};else if(e instanceof ig)n={delete:Fl(t,e.key)};else if(e instanceof Sr)n={update:Of(t,e.key,e.data),updateMask:$w(e.fieldMask)};else{if(!(e instanceof yw))return ae();n={verify:Fl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof li)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ci)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ui)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Oo)return{fieldPath:o.field.canonicalString(),increment:l.Ie};throw ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Nw(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae()}(t,e.precondition)),n}function Vw(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?un(s.updateTime):un(i);return o.isEqual(ce.min())&&(o=un(i)),new pw(o,s.transformResults||[])}(n,e))):[]}function kw(t,e){return{documents:[hg(t,e.path)]}}function xw(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hg(t,s);const i=function(h){if(h.length!==0)return mg(mn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:Ur(g.field),direction:Uw(g.dir)}}(f))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=xl(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:s}}function Mw(t){let e=Dw(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Re(r===1);const f=n.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let i=[];n.where&&(i=function(m){const g=dg(m);return g instanceof mn&&$p(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(C){return new Do(Br(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,ra(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,I=m.values||[];return new No(I,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,I=m.values||[];return new No(I,g)}(n.endAt)),ew(e,s,o,i,l,"F",c,h)}function Fw(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dg(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Br(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Br(n.unaryFilter.field);return Ye.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Br(n.unaryFilter.field);return Ye.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Br(n.unaryFilter.field);return Ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ae()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Br(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>dg(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae()}}(n.compositeFilter.op))}(t):ae()}function Uw(t){return Rw[t]}function Bw(t){return Sw[t]}function jw(t){return Cw[t]}function Ur(t){return{fieldPath:t.canonicalString()}}function Br(t){return at.fromServerFormat(t.fieldPath)}function mg(t){return t instanceof Ye?function(n){if(n.op==="=="){if(Ef(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NAN"}};if(yf(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ef(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NAN"}};if(yf(n.value))return{unaryFilter:{field:Ur(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ur(n.field),op:Bw(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(s=>mg(s));return r.length===1?r[0]:{compositeFilter:{op:jw(n.op),filters:r}}}(t):ae()}function $w(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pg(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,s,i=ce.min(),o=ce.min(),l=ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Fn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.Tt=e}}function qw(t){const e=Mw({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.Tn=new Kw}addToCollectionParentIndex(e,n){return this.Tn.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Kn.min())}updateCollectionGroup(e,n,r){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class Kw{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Je(Me.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Je(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gg=41943040;class St{static withCacheSize(e){return new St(e,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St.DEFAULT_COLLECTION_PERCENTILE=10,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,St.DEFAULT=new St(gg,St.DEFAULT_COLLECTION_PERCENTILE,St.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),St.DISABLED=new St(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ts(0)}static Un(){return new ts(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf="LruGarbageCollector",Gw=1048576;function kf([t,e],[n,r]){const s=_e(t,n);return s===0?_e(e,r):s}class zw{constructor(e){this.Hn=e,this.buffer=new Je(kf),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kf(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Qw{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ne(Vf,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fs(n)?ne(Vf,"Ignoring IndexedDB error during garbage collection: ",n):await hs(n)}await this.er(3e5)})}}class Yw{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return K.resolve(na.ae);const r=new zw(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Lf)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lf):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,l,c,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Mr()<=Ee.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-f}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function Xw(t,e){return new Yw(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(){this.changes=new Rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?K.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gs(r.mutation,s,Gt.empty(),Xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const s=pr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Vs();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=pr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Cn();const o=Ks(),l=function(){return Ks()}();return n.forEach((c,h)=>{const f=r.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof Sr)?i=i.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Gs(f.mutation,h,f.mutation.getFieldMask(),Xe.now())):o.set(h.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,f)=>o.set(h,f)),n.forEach((h,f)=>{var m;return l.set(h,new Zw(f,(m=o.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Ks();let s=new Be((o,l)=>o-l),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let f=r.get(c)||Gt.empty();f=l.applyToLocalView(h,f),r.set(c,f);const m=(s.get(l.batchId)||ge()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,f=c.value,m=Xp();f.forEach(g=>{if(!i.has(g)){const I=rg(n.get(g),r.get(g));I!==null&&m.set(g,I),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,m))}return K.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):K.resolve(pr());let l=si,c=i;return o.next(h=>K.forEach(h,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(f)?K.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,ge())).next(f=>({batchId:l,changes:Yp(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=Vs();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Vs();return this.indexManager.getCollectionParents(e,i).next(l=>K.forEach(l,c=>{const h=function(m,g){return new ia(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(f=>{f.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,pt.newInvalidDocument(f)))});let l=Vs();return o.forEach((c,h)=>{const f=i.get(c);f!==void 0&&Gs(f.mutation,h,Gt.empty(),Xe.now()),aa(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return K.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:un(s.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:qw(s.bundledQuery),readTime:un(s.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.overlays=new Be(oe.comparator),this.Rr=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pr();return K.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),K.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),K.resolve()}getOverlaysForCollection(e,n,r){const s=pr(),i=n.length+1,o=new oe(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return K.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Be((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=i.get(h.largestBatchId);f===null&&(f=pr(),i=i.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=pr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=s)););return K.resolve(l)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Tw(n,r));let i=this.Rr.get(n);i===void 0&&(i=ge(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.Vr=new Je(tt.mr),this.gr=new Je(tt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new tt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new oe(new Me([])),r=new tt(n,e),s=new tt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new oe(new Me([])),r=new tt(n,e),s=new tt(n,e+1);let i=ge();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new tt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return oe.comparator(e.key,n.key)||_e(e.Cr,n.Cr)}static pr(e,n){return _e(e.Cr,n.Cr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Je(tt.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ew(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Mr=this.Mr.add(new tt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return K.resolve(o)}lookupMutationBatch(e,n){return K.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return K.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?Sc:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),s=new tt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const l=this.Or(o.Cr);i.push(l)}),K.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(_e);return n.forEach(s=>{const i=new tt(s,0),o=new tt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],l=>{r=r.add(l.Cr)})}),K.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new tt(new oe(i),0);let l=new Je(_e);return this.Mr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.Cr)),!0)},o),K.resolve(this.Br(l))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Re(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return K.forEach(n.mutations,s=>{const i=new tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new tt(n,0),s=this.Mr.firstAfterOrEqual(r);return K.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.kr=e,this.docs=function(){return new Be(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return K.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=Cn();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pt.newInvalidDocument(s))}),K.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Cn();const o=n.path,l=new oe(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:f}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||OI(DI(f),r)<=0||(s.has(f.key)||aa(n,f))&&(i=i.insert(f.key,f.mutableCopy()))}return K.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae()}qr(e,n){return K.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ob(this)}getSize(e){return K.resolve(this.size)}}class ob extends Jw{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),K.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.persistence=e,this.Qr=new Rr(n=>Nc(n),Dc),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.$r=0,this.Kr=new xc,this.targetCount=0,this.Ur=ts.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),K.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new ts(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.zn(n),K.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),K.waitFor(i).next(()=>s)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return K.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),K.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),K.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),K.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return K.resolve(r)}containsKey(e,n){return K.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new na(0),this.zr=!1,this.zr=!0,this.jr=new rb,this.referenceDelegate=e(this),this.Hr=new ab(this),this.indexManager=new Ww,this.remoteDocumentCache=function(s){return new ib(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Hw(n),this.Yr=new tb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new nb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new sb(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new lb(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return K.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class lb extends VI{constructor(e){super(),this.currentSequenceNumber=e}}class Mc{constructor(e){this.persistence=e,this.ti=new xc,this.ni=null}static ri(e){return new Mc(e)}get ii(){if(this.ni)return this.ni;throw ae()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),K.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),K.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,r=>{const s=oe.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,ce.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return K.or([()=>K.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Vo{constructor(e,n){this.persistence=e,this.oi=new Rr(r=>MI(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Xw(this,n)}static ri(e,n){return new Vo(e,n)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return K.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?K.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ce.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),K.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),K.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oo(e.data.value)),n}ar(e,n,r){return K.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return K.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=ge(),s=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Fc(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return sA()?8:kI(nA())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new cb;return this._s(e,n,o).next(l=>{if(i.result=l,this.Xi)return this.us(e,n,o,l.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Mr()<=Ee.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Fr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(Mr()<=Ee.DEBUG&&ne("QueryEngine","Query:",Fr(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Mr()<=Ee.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Fr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cn(n))):K.resolve())}rs(e,n){if(If(n))return K.resolve(null);let r=cn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=kl(n,null,"F"),r=cn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ge(...i);return this.ns.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.cs(n,l);return this.ls(n,h,o,c.readTime)?this.rs(e,kl(n,null,"F")):this.hs(e,h,n,c)}))})))}ss(e,n,r,s){return If(n)||s.isEqual(ce.min())?K.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?K.resolve(null):(Mr()<=Ee.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fr(n)),this.hs(e,o,n,NI(s,si)).next(l=>l))})}cs(e,n){let r=new Je(zp(e));return n.forEach((s,i)=>{aa(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Mr()<=Ee.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Fr(n)),this.ns.getDocumentsMatchingQuery(e,n,Kn.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc="LocalStore",hb=3e8;class fb{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new Be(_e),this.Is=new Rr(i=>Nc(i),Dc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eb(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function db(t,e,n,r){return new fb(t,e,n,r)}async function yg(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=ge();for(const h of s){o.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}for(const h of i){l.push(h.batchId);for(const f of h.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Rs:h,removedBatchIds:o,addedBatchIds:l}))})})}function mb(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,c,h,f){const m=h.batch,g=m.keys();let I=K.resolve();return g.forEach(C=>{I=I.next(()=>f.getEntry(c,C)).next(D=>{const P=h.docVersions.get(C);Re(P!==null),D.version.compareTo(P)<0&&(m.applyToRemoteDocument(D,h),D.isValidDocument()&&(D.setReadTime(h.commitVersion),f.addEntry(D)))})}),I.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=ge();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Eg(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function pb(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const l=[];e.targetChanges.forEach((f,m)=>{const g=s.get(m);if(!g)return;l.push(n.Hr.removeMatchingKeys(i,f.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(i,f.addedDocuments,m)));let I=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?I=I.withResumeToken(ct.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,r)),s=s.insert(m,I),function(D,P,b){return D.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=hb?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,I,f)&&l.push(n.Hr.updateTargetData(i,I))});let c=Cn(),h=ge();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(gb(i,o,e.documentUpdates).next(f=>{c=f.Vs,h=f.fs})),!r.isEqual(ce.min())){const f=n.Hr.getLastRemoteSnapshotVersion(i).next(m=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return K.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.Ts=s,i))}function gb(t,e,n){let r=ge(),s=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Cn();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ce.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):ne(Uc,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Vs:o,fs:s}})}function _b(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yb(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,K.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Fn(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Bl(t,e,n){const r=ue(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fs(o))throw o;ne(Uc,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function xf(t,e,n){const r=ue(t);let s=ce.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,f){const m=ue(c),g=m.Is.get(f);return g!==void 0?K.resolve(m.Ts.get(g)):m.Hr.getTargetData(h,f)}(r,o,cn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:ce.min(),n?i:ge())).next(l=>(Eb(r,rw(e),l),{documents:l,gs:i})))}function Eb(t,e,n){let r=t.Es.get(e)||ce.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class Mf{constructor(){this.activeTargetIds=cw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tb{constructor(){this.ho=new Mf,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Mf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="ConnectivityMonitor";class Uf{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ne(Ff,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ne(Ff,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zi=null;function jl(){return zi===null?zi=function(){return 268435456+Math.round(2147483648*Math.random())}():zi++,"0x"+zi.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="RestConnection",Ab={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ib{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Nl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=jl(),l=this.bo(e,n.toUriEncodedString());ne(el,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,s,i),this.vo(e,l,c,r).then(h=>(ne(el,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Xr(el,`RPC '${e}' ${o} failed with error: `,h,"url: ",l,"request:",r),h})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+us}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=Ab[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft="WebChannelConnection";class bb extends Ib{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=jl();return new Promise((o,l)=>{const c=new Ip;c.setWithCredentials(!0),c.listenOnce(wp.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case io.NO_ERROR:const f=c.getResponseJson();ne(ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),o(f);break;case io.TIMEOUT:ne(ft,`RPC '${e}' ${i} timed out`),l(new ie(X.DEADLINE_EXCEEDED,"Request time out"));break;case io.HTTP_ERROR:const m=c.getStatus();if(ne(ft,`RPC '${e}' ${i} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const I=g==null?void 0:g.error;if(I&&I.status&&I.message){const C=function(P){const b=P.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(b)>=0?b:X.UNKNOWN}(I.status);l(new ie(C,I.message))}else l(new ie(X.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ie(X.UNAVAILABLE,"Connection failed."));break;default:ae()}}finally{ne(ft,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);ne(ft,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",h,r,15)})}Wo(e,n,r){const s=jl(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Sp(),l=Rp(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=i.join("");ne(ft,`Creating RPC '${e}' stream ${s}: ${f}`,c);const m=o.createWebChannel(f,c);let g=!1,I=!1;const C=new wb({Fo:P=>{I?ne(ft,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(g||(ne(ft,`Opening RPC '${e}' stream ${s} transport.`),m.open(),g=!0),ne(ft,`RPC '${e}' stream ${s} sending:`,P),m.send(P))},Mo:()=>m.close()}),D=(P,b,x)=>{P.listen(b,U=>{try{x(U)}catch(V){setTimeout(()=>{throw V},0)}})};return D(m,Ls.EventType.OPEN,()=>{I||(ne(ft,`RPC '${e}' stream ${s} transport opened.`),C.Qo())}),D(m,Ls.EventType.CLOSE,()=>{I||(I=!0,ne(ft,`RPC '${e}' stream ${s} transport closed`),C.Ko())}),D(m,Ls.EventType.ERROR,P=>{I||(I=!0,Xr(ft,`RPC '${e}' stream ${s} transport errored:`,P),C.Ko(new ie(X.UNAVAILABLE,"The operation could not be completed")))}),D(m,Ls.EventType.MESSAGE,P=>{var b;if(!I){const x=P.data[0];Re(!!x);const U=x,V=(U==null?void 0:U.error)||((b=U[0])===null||b===void 0?void 0:b.error);if(V){ne(ft,`RPC '${e}' stream ${s} received error:`,V);const q=V.status;let z=function(v){const R=Ge[v];if(R!==void 0)return og(R)}(q),y=V.message;z===void 0&&(z=X.INTERNAL,y="Unknown error status: "+q+" with message "+V.message),I=!0,C.Ko(new ie(z,y)),m.close()}else ne(ft,`RPC '${e}' stream ${s} received:`,x),C.Uo(x)}}),D(l,bp.STAT_EVENT,P=>{P.stat===Pl.PROXY?ne(ft,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===Pl.NOPROXY&&ne(ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.$o()},0),C}}function tl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(t){return new Pw(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="PersistentStream";class vg{constructor(e,n,r,s,i,o,l,c){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Tg(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Sn(n.toString()),Sn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new ie(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ne(Bf,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ne(Bf,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rb extends vg{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Ow(this.serializer,e),r=function(i){if(!("targetChange"in i))return ce.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?un(o.readTime):ce.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Ul(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Vl(c)?{documents:kw(i,c)}:{query:xw(i,c).ht},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=cg(i,o.resumeToken);const h=xl(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ce.min())>0){l.readTime=Lo(i,o.snapshotVersion.toTimestamp());const h=xl(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=Fw(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Ul(this.serializer),n.removeTarget=e,this.I_(n)}}class Sb extends vg{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Vw(e.writeResults,e.commitTime),r=un(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Ul(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Lw(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{}class Pb extends Cb{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,Ml(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(X.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Co(e,Ml(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(X.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Nb{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sn(n),this.N_=!1):ne("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="RemoteStore";class Db{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{Cr(this)&&(ne(Ir,"Restarting streams for network reachability change."),await async function(c){const h=ue(c);h.W_.add(4),await Ii(h),h.j_.set("Unknown"),h.W_.delete(4),await fa(h)}(this))})}),this.j_=new Nb(r,s)}}async function fa(t){if(Cr(t))for(const e of t.G_)await e(!0)}async function Ii(t){for(const e of t.G_)await e(!1)}function Ag(t,e){const n=ue(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Hc(n)?$c(n):ds(n).c_()&&jc(n,e))}function Bc(t,e){const n=ue(t),r=ds(n);n.U_.delete(e),r.c_()&&Ig(n,e),n.U_.size===0&&(r.c_()?r.P_():Cr(n)&&n.j_.set("Unknown"))}function jc(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ds(t).y_(e)}function Ig(t,e){t.H_.Ne(e),ds(t).w_(e)}function $c(t){t.H_=new bw({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ds(t).start(),t.j_.B_()}function Hc(t){return Cr(t)&&!ds(t).u_()&&t.U_.size>0}function Cr(t){return ue(t).W_.size===0}function wg(t){t.H_=void 0}async function Ob(t){t.j_.set("Online")}async function Lb(t){t.U_.forEach((e,n)=>{jc(t,e)})}async function Vb(t,e){wg(t),Hc(t)?(t.j_.q_(e),$c(t)):t.j_.set("Unknown")}async function kb(t,e,n){if(t.j_.set("Online"),e instanceof lg&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.U_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.U_.delete(l),s.H_.removeTarget(l))}(t,e)}catch(r){ne(Ir,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ko(t,r)}else if(e instanceof co?t.H_.We(e):e instanceof ag?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ce.min()))try{const r=await Eg(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.H_.ot(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const f=i.U_.get(h);f&&i.U_.set(h,f.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const f=i.U_.get(c);if(!f)return;i.U_.set(c,f.withResumeToken(ct.EMPTY_BYTE_STRING,f.snapshotVersion)),Ig(i,c);const m=new Fn(f.target,c,h,f.sequenceNumber);jc(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ne(Ir,"Failed to raise snapshot:",r),await ko(t,r)}}async function ko(t,e,n){if(!fs(e))throw e;t.W_.add(1),await Ii(t),t.j_.set("Offline"),n||(n=()=>Eg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(Ir,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await fa(t)})}function bg(t,e){return e().catch(n=>ko(t,n,e))}async function da(t){const e=ue(t),n=Yn(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Sc;for(;xb(e);)try{const s=await _b(e.localStore,r);if(s===null){e.K_.length===0&&n.P_();break}r=s.batchId,Mb(e,s)}catch(s){await ko(e,s)}Rg(e)&&Sg(e)}function xb(t){return Cr(t)&&t.K_.length<10}function Mb(t,e){t.K_.push(e);const n=Yn(t);n.c_()&&n.S_&&n.b_(e.mutations)}function Rg(t){return Cr(t)&&!Yn(t).u_()&&t.K_.length>0}function Sg(t){Yn(t).start()}async function Fb(t){Yn(t).C_()}async function Ub(t){const e=Yn(t);for(const n of t.K_)e.b_(n.mutations)}async function Bb(t,e,n){const r=t.K_.shift(),s=Lc.from(r,e,n);await bg(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await da(t)}async function jb(t,e){e&&Yn(t).S_&&await async function(r,s){if(function(o){return Aw(o)&&o!==X.ABORTED}(s.code)){const i=r.K_.shift();Yn(r).h_(),await bg(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await da(r)}}(t,e),Rg(t)&&Sg(t)}async function jf(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),ne(Ir,"RemoteStore received new credentials");const r=Cr(n);n.W_.add(3),await Ii(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await fa(n)}async function $b(t,e){const n=ue(t);e?(n.W_.delete(2),await fa(n)):e||(n.W_.add(2),await Ii(n),n.j_.set("Unknown"))}function ds(t){return t.J_||(t.J_=function(n,r,s){const i=ue(n);return i.M_(),new Rb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:Ob.bind(null,t),No:Lb.bind(null,t),Lo:Vb.bind(null,t),p_:kb.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Hc(t)?$c(t):t.j_.set("Unknown")):(await t.J_.stop(),wg(t))})),t.J_}function Yn(t){return t.Y_||(t.Y_=function(n,r,s){const i=ue(n);return i.M_(),new Sb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Fb.bind(null,t),Lo:jb.bind(null,t),D_:Ub.bind(null,t),v_:Bb.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await da(t)):(await t.Y_.stop(),t.K_.length>0&&(ne(Ir,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new qc(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wc(t,e){if(Sn("AsyncQueue",`${e}: ${t}`),fs(t))return new ie(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{static emptySet(e){return new Qr(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Vs(),this.sortedSet=new Be(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this.Z_=new Be(oe.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ns{constructor(e,n,r,s,i,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new ns(e,n,Qr.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class qb{constructor(){this.queries=Hf(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=Hf(),i.forEach((o,l)=>{for(const c of l.ta)c.onError(r)})})(this,new ie(X.ABORTED,"Firestore shutting down"))}}function Hf(){return new Rr(t=>Gp(t),oa)}async function Wb(t,e){const n=ue(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new Hb,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Wc(o,`Initialization of query '${Fr(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&Kc(n)}async function Kb(t,e){const n=ue(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Gb(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.ta)l.oa(s)&&(r=!0);o.ea=s}}r&&Kc(n)}function zb(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function Kc(t){t.ia.forEach(e=>{e.next()})}var $l,qf;(qf=$l||($l={}))._a="default",qf.Cache="cache";class Qb{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ns(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ns.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==$l.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.key=e}}class Pg{constructor(e){this.key=e}}class Yb{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ge(),this.mutatedKeys=ge(),this.ya=zp(e),this.wa=new Qr(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new $f,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,m)=>{const g=s.get(f),I=aa(this.query,m)?m:null,C=!!g&&this.mutatedKeys.has(g.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;g&&I?g.data.isEqual(I.data)?C!==D&&(r.track({type:3,doc:I}),P=!0):this.va(g,I)||(r.track({type:2,doc:I}),P=!0,(c&&this.ya(I,c)>0||h&&this.ya(I,h)<0)&&(l=!0)):!g&&I?(r.track({type:0,doc:I}),P=!0):g&&!I&&(r.track({type:1,doc:g}),P=!0,(c||h)&&(l=!0)),P&&(I?(o=o.add(I),i=D?i.add(f):i.delete(f)):(o=o.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{wa:o,Da:r,ls:l,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((f,m)=>function(I,C){const D=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae()}};return D(I)-D(C)}(f.type,m.type)||this.ya(f.doc,m.doc)),this.Ca(r),s=s!=null&&s;const l=n&&!s?this.Fa():[],c=this.pa.size===0&&this.current&&!s?1:0,h=c!==this.ga;return this.ga=c,o.length!==0||h?{snapshot:new ns(this.query,e.wa,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new $f,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ge(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new Pg(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new Cg(r))}),n}Oa(e){this.fa=e.gs,this.pa=ge();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ns.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Gc="SyncEngine";class Xb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Jb{constructor(e){this.key=e,this.Ba=!1}}class Zb{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new Rr(l=>Gp(l),oa),this.qa=new Map,this.Qa=new Set,this.$a=new Be(oe.comparator),this.Ka=new Map,this.Ua=new xc,this.Wa={},this.Ga=new Map,this.za=ts.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function eR(t,e,n=!0){const r=kg(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await Ng(r,e,n,!0),s}async function tR(t,e){const n=kg(t);await Ng(n,e,!0,!1)}async function Ng(t,e,n,r){const s=await yb(t.localStore,cn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await nR(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Ag(t.remoteStore,s),l}async function nR(t,e,n,r,s){t.Ha=(m,g,I)=>async function(D,P,b,x){let U=P.view.ba(b);U.ls&&(U=await xf(D.localStore,P.query,!1).then(({documents:y})=>P.view.ba(y,U)));const V=x&&x.targetChanges.get(P.targetId),q=x&&x.targetMismatches.get(P.targetId)!=null,z=P.view.applyChanges(U,D.isPrimaryClient,V,q);return Kf(D,P.targetId,z.Ma),z.snapshot}(t,m,g,I);const i=await xf(t.localStore,e,!0),o=new Yb(e,i.gs),l=o.ba(i.documents),c=Ai.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,c);Kf(t,n,h.Ma);const f=new Xb(e,n,o);return t.ka.set(e,f),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),h.snapshot}async function rR(t,e,n){const r=ue(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!oa(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Bl(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Bc(r.remoteStore,s.targetId),Hl(r,s.targetId)}).catch(hs)):(Hl(r,s.targetId),await Bl(r.localStore,s.targetId,!0))}async function sR(t,e){const n=ue(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bc(n.remoteStore,r.targetId))}async function iR(t,e,n){const r=fR(t);try{const s=await function(o,l){const c=ue(o),h=Xe.now(),f=l.reduce((I,C)=>I.add(C.key),ge());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",I=>{let C=Cn(),D=ge();return c.ds.getEntries(I,f).next(P=>{C=P,C.forEach((b,x)=>{x.isValidDocument()||(D=D.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(I,C)).next(P=>{m=P;const b=[];for(const x of l){const U=_w(x,m.get(x.key).overlayedDocument);U!=null&&b.push(new Sr(x.key,U,Up(U.value.mapValue),bn.exists(!0)))}return c.mutationQueue.addMutationBatch(I,h,b,l)}).next(P=>{g=P;const b=P.applyToLocalDocumentSet(m,D);return c.documentOverlayCache.saveOverlays(I,P.batchId,b)})}).then(()=>({batchId:g.batchId,changes:Yp(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let h=o.Wa[o.currentUser.toKey()];h||(h=new Be(_e)),h=h.insert(l,c),o.Wa[o.currentUser.toKey()]=h}(r,s.batchId,n),await wi(r,s.changes),await da(r.remoteStore)}catch(s){const i=Wc(s,"Failed to persist write");n.reject(i)}}async function Dg(t,e){const n=ue(t);try{const r=await pb(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ka.get(i);o&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Re(o.Ba):s.removedDocuments.size>0&&(Re(o.Ba),o.Ba=!1))}),await wi(n,r,e)}catch(r){await hs(r)}}function Wf(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const l=o.view.sa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=ue(o);c.onlineState=l;let h=!1;c.queries.forEach((f,m)=>{for(const g of m.ta)g.sa(l)&&(h=!0)}),h&&Kc(c)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function oR(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ka.get(e),i=s&&s.key;if(i){let o=new Be(oe.comparator);o=o.insert(i,pt.newNoDocument(i,ce.min()));const l=ge().add(i),c=new ua(ce.min(),new Map,new Be(_e),o,l);await Dg(r,c),r.$a=r.$a.remove(i),r.Ka.delete(e),zc(r)}else await Bl(r.localStore,e,!1).then(()=>Hl(r,e,n)).catch(hs)}async function aR(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await mb(n.localStore,e);Lg(n,r,null),Og(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wi(n,s)}catch(s){await hs(s)}}async function lR(t,e,n){const r=ue(t);try{const s=await function(o,l){const c=ue(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(Re(m!==null),f=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>c.localDocuments.getDocuments(h,f))})}(r.localStore,e);Lg(r,e,n),Og(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wi(r,s)}catch(s){await hs(s)}}function Og(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function Lg(t,e,n){const r=ue(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function Hl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||Vg(t,r)})}function Vg(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Bc(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),zc(t))}function Kf(t,e,n){for(const r of n)r instanceof Cg?(t.Ua.addReference(r.key,e),cR(t,r)):r instanceof Pg?(ne(Gc,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||Vg(t,r.key)):ae()}function cR(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(ne(Gc,"New document in limbo: "+n),t.Qa.add(r),zc(t))}function zc(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new oe(Me.fromString(e)),r=t.za.next();t.Ka.set(r,new Jb(n)),t.$a=t.$a.insert(n,r),Ag(t.remoteStore,new Fn(cn(Kp(n.path)),r,"TargetPurposeLimboResolution",na.ae))}}async function wi(t,e,n){const r=ue(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((l,c)=>{o.push(r.Ha(c,e,n).then(h=>{var f;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){s.push(h);const m=Fc.Yi(c.targetId,h);i.push(m)}}))}),await Promise.all(o),r.La.p_(s),await async function(c,h){const f=ue(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>K.forEach(h,g=>K.forEach(g.Hi,I=>f.persistence.referenceDelegate.addReference(m,g.targetId,I)).next(()=>K.forEach(g.Ji,I=>f.persistence.referenceDelegate.removeReference(m,g.targetId,I)))))}catch(m){if(!fs(m))throw m;ne(Uc,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const I=f.Ts.get(g),C=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(C);f.Ts=f.Ts.insert(g,D)}}}(r.localStore,i))}async function uR(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){ne(Gc,"User change. New user:",e.toKey());const r=await yg(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(l=>{l.forEach(c=>{c.reject(new ie(X.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wi(n,r.Rs)}}function hR(t,e){const n=ue(t),r=n.Ka.get(e);if(r&&r.Ba)return ge().add(r.key);{let s=ge();const i=n.qa.get(e);if(!i)return s;for(const o of i){const l=n.ka.get(o);s=s.unionWith(l.view.Sa)}return s}}function kg(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oR.bind(null,e),e.La.p_=Gb.bind(null,e.eventManager),e.La.Ja=zb.bind(null,e.eventManager),e}function fR(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lR.bind(null,e),e}class xo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ha(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return db(this.persistence,new ub,e.initialUser,this.serializer)}Xa(e){return new _g(Mc.ri,this.serializer)}Za(e){return new Tb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xo.provider={build:()=>new xo};class dR extends xo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Re(this.persistence.referenceDelegate instanceof Vo);const r=this.persistence.referenceDelegate.garbageCollector;return new Qw(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?St.withCacheSize(this.cacheSizeBytes):St.DEFAULT;return new _g(r=>Vo.ri(r,n),this.serializer)}}class ql{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Wf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=uR.bind(null,this.syncEngine),await $b(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qb}()}createDatastore(e){const n=ha(e.databaseInfo.databaseId),r=function(i){return new bb(i)}(e.databaseInfo);return function(i,o,l,c){return new Pb(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new Db(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Wf(this.syncEngine,n,0),function(){return Uf.D()?new Uf:new vb}())}createSyncEngine(e,n){return function(s,i,o,l,c,h,f){const m=new Zb(s,i,o,l,c,h);return f&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);ne(Ir,"RemoteStore shutting down."),i.W_.add(5),await Ii(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ql.provider={build:()=>new ql};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Sn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="FirestoreClient";class pR{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dt.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne(Xn,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(Xn,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wc(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function nl(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Xn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yg(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Gf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gR(t);ne(Xn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jf(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>jf(e.remoteStore,s)),t._onlineComponents=e}async function gR(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Xn,"Using user provided OfflineComponentProvider");try{await nl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Xr("Error using user provided cache. Falling back to memory cache: "+n),await nl(t,new xo)}}else ne(Xn,"Using default OfflineComponentProvider"),await nl(t,new dR(void 0));return t._offlineComponents}async function xg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Xn,"Using user provided OnlineComponentProvider"),await Gf(t,t._uninitializedComponentsProvider._online)):(ne(Xn,"Using default OnlineComponentProvider"),await Gf(t,new ql))),t._onlineComponents}function _R(t){return xg(t).then(e=>e.syncEngine)}async function yR(t){const e=await xg(t),n=e.eventManager;return n.onListen=eR.bind(null,e.syncEngine),n.onUnlisten=rR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=sR.bind(null,e.syncEngine),n}function ER(t,e,n={}){const r=new Hn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,h){const f=new mR({next:g=>{f.su(),o.enqueueAndForget(()=>Kb(i,m)),g.fromCache&&c.source==="server"?h.reject(new ie(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new Qb(l,f,{includeMetadataChanges:!0,Ta:!0});return Wb(i,m)}(await yR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e,n){if(!n)throw new ie(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TR(t,e,n,r){if(e===!0&&r===!0)throw new ie(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Qf(t){if(!oe.isDocumentKey(t))throw new ie(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Yf(t){if(oe.isDocumentKey(t))throw new ie(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae()}function Mo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qc(t);throw new ie(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="firestore.googleapis.com",Xf=!0;class Jf{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ug,this.ssl=Xf}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Xf;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gg;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Gw)throw new ie(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Mg((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ma{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new AI;switch(r.type){case"firstParty":return new RI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zf.get(n);r&&(ne("ComponentProvider","Removing Datastore"),zf.delete(n),r.terminate())}(this),Promise.resolve()}}function vR(t,e,n,r={}){var s;const i=(t=Mo(t,ma))._getSettings(),o=`${e}:${n}`;if(i.host!==Ug&&i.host!==o&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=dt.MOCK_USER;else{l=tA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ie(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new dt(h)}t._authCredentials=new II(new Cp(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class qn extends pa{constructor(e,n,r){super(e,n,Kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new oe(e))}withConverter(e){return new qn(this.firestore,e,this._path)}}function Bg(t,e,...n){if(t=ti(t),Fg("collection","path",e),t instanceof ma){const r=Me.fromString(e,...n);return Yf(r),new qn(t,null,r)}{if(!(t instanceof Xt||t instanceof qn))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Yf(r),new qn(t.firestore,null,r)}}function AR(t,e,...n){if(t=ti(t),arguments.length===1&&(e=Pp.newId()),Fg("doc","path",e),t instanceof ma){const r=Me.fromString(e,...n);return Qf(r),new Xt(t,null,new oe(r))}{if(!(t instanceof Xt||t instanceof qn))throw new ie(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Qf(r),new Xt(t.firestore,t instanceof qn?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="AsyncQueue";class ed{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Tg(this,"async_queue_retry"),this.Su=()=>{const r=tl();r&&ne(Zf,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=tl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=tl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fs(e))throw e;ne(Zf,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Sn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=qc.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Yc extends ma{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new ed,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ed(e),this._firestoreClient=void 0,await e}}}function IR(t,e){const n=typeof t=="object"?t:hI(),r=typeof t=="string"?t:e,s=oI(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Zv("firestore");i&&vR(s,...i)}return s}function jg(t){if(t._terminated)throw new ie(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||wR(t),t._firestoreClient}function wR(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,h,f){return new BI(l,c,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Mg(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pR(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(ct.fromBase64String(e))}catch(n){throw new ie(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=/^__.*__$/;class RR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new vi(e,this.data,n,this.fieldTransforms)}}function $g(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae()}}class tu{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new tu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Fo(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if($g(this.Lu)&&bR.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class SR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ha(e)}ju(e,n,r,s=!1){return new tu({Lu:e,methodName:n,zu:r,path:at.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CR(t){const e=t._freezeSettings(),n=ha(t._databaseId);return new SR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PR(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);Kg("Data must be an object, but it was:",o,r);const l=qg(r,o);let c,h;if(i.merge)c=new Gt(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const f=[];for(const m of i.mergeFields){const g=NR(e,m,n);if(!o.contains(g))throw new ie(X.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);OR(f,g)||f.push(g)}c=new Gt(f),h=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=o.fieldTransforms;return new RR(new Ht(l),c,h)}class nu extends Jc{_toFieldTransform(e){return new dw(e.path,new li)}isEqual(e){return e instanceof nu}}function Hg(t,e){if(Wg(t=ti(t)))return Kg("Unsupported field value:",e,t),qg(t,e);if(t instanceof Jc)return function(r,s){if(!$g(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Hg(l,s.Uu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uw(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xe.fromDate(r);return{timestampValue:Lo(s.serializer,i)}}if(r instanceof Xe){const i=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lo(s.serializer,i)}}if(r instanceof Zc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof rs)return{bytesValue:cg(s.serializer,r._byteString)};if(r instanceof Xt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kc(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof eu)return function(o,l){return{mapValue:{fields:{[Mp]:{stringValue:Fp},[Po]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Wu("VectorValues must only contain numeric values.");return Oc(l.serializer,h)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${Qc(r)}`)}(t,e)}function qg(t,e){const n={};return Dp(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(t,(r,s)=>{const i=Hg(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Wg(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Zc||t instanceof rs||t instanceof Xt||t instanceof Jc||t instanceof eu)}function Kg(t,e,n){if(!Wg(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Qc(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function NR(t,e,n){if((e=ti(e))instanceof Xc)return e._internalPath;if(typeof e=="string")return Gg(t,e);throw Fo("Field path arguments must be of type string or ",t,!1,void 0,n)}const DR=new RegExp("[~\\*/\\[\\]]");function Gg(t,e,n){if(e.search(DR)>=0)throw Fo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xc(...e.split("."))._internalPath}catch{throw Fo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fo(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ie(X.INVALID_ARGUMENT,l+t+c)}function OR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Qg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LR extends zg{data(){return super.data()}}function Qg(t,e){return typeof e=="string"?Gg(t,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kR{convertValue(e,n="none"){switch(Qn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return br(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Po].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ke(o.doubleValue));return new eu(i)}convertGeoPoint(e){return new Zc(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sa(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ii(e));default:return null}}convertTimestamp(e){const n=Gn(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Re(pg(r));const s=new oi(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||Sn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class MR extends zg{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Qg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class uo extends MR{data(e={}){return super.data(e)}}class FR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new uo(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new uo(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Qi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new uo(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Qi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:UR(l.type),doc:c,oldIndex:h,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae()}}class BR extends kR{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function jR(t){t=Mo(t,pa);const e=Mo(t.firestore,Yc),n=jg(e),r=new BR(e);return VR(t._query),ER(n,t._query).then(s=>new FR(e,r,t,s))}function $R(t,e){const n=Mo(t.firestore,Yc),r=AR(t),s=xR(t.converter,e);return HR(n,[PR(CR(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}function HR(t,e){return function(r,s){const i=new Hn;return r.asyncQueue.enqueueAndForget(async()=>iR(await _R(r),s,i)),i.promise}(jg(t),e)}function qR(){return new nu("serverTimestamp")}(function(e,n=!0){(function(s){us=s})(uI),So(new ni("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Yc(new wI(r.getProvider("auth-internal")),new SI(o,r.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ie(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oi(h.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),zr(af,lf,e),zr(af,lf,"esm2017")})();var WR="firebase",KR="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr(WR,KR,"app");const GR={apiKey:"AIzaSyAu2j831MC-a7nh7PQeEUM0xfypoBfGdAg",authDomain:"baeun-sns-420604.firebaseapp.com",projectId:"baeun-sns-420604",storageBucket:"baeun-sns-420604.appspot.com",messagingSenderId:"527863136270",appId:"1:527863136270:web:f454fd8810e32456033c5f",measurementId:"G-DX87C6GY4X"},zR=Ep(GR),Yg=IR(zR,"wedding");async function QR(t){try{return(await jR(Bg(Yg,t))).docs.map(n=>({...n.data(),docId:n.id}))}catch(e){return console.error("Error fetching documents: ",e),[]}}const td=async(t,e,n)=>{const r={...e,timestamp:qR()};return await $R(Bg(Yg,t),r),r},YR="/wedding/assets/lefttop-BzZbg4Ww.png",XR="/wedding/assets/main-BiGoxQOG.png",JR="/wedding/assets/video_thumbnail-CPN9dsH1.png",ZR="/wedding/assets/wedding-CNgzqpA1.mp4",eS="/wedding/assets/middle-DpWe6-xb.png",tS="/wedding/assets/middlephoto-DPSDmDD8.png",nS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANQAAABDCAYAAADkvSvjAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAArMSURBVHgB7Z1tUttIE8d7ZJlQxYf4OUGUE+DnBDgngD0B5ATsDSAnCDlBkhOEnAA4AeYEOCdYb+1CUdia2f6PRo7iGCNLGlky/auijG3Jb5qe7um3IRLWQo/pvnr1sbO1dRtubV13t7Y+b29vRyS0moCEtXB3f39t4njcDYKBMuY9KXUTa33BT/VIEIT8dLvdozAMT+YfZ011ws8dk9BaQhK8EW5vD1Qc77q7V5PJZGj/U+pkOpm8++2EILgirQ9JaC0iUJ5gbXNKcbxnlLokY3osLAe8Tor4/zNjzIgPGZGwcYhAeQDOhQlrmngyeTv3VNTpdk9YQ31adJ7RGuunEQmtRQTKAyxMfUX0ZcFTIxay90+dx86JPRaqSxJai3j5PMDCtOvMutXOU+ogjuMrElqLCJQHDNGQhaq/yjlwYOA8/ndMQmtRJPigxwHb68CYP2aevWdAYFfH8TlrqO9UIeyG72sWbp45X7ODpMcXPMLjLLwjNjHHWqkfHAsbPjw8jEgojQiUPyL29H3jQfuVheps2YHOiXERPz6+pZIgA+Pu7u7QsFeRzc5IJabnUEOA5rQfm5gRJZo0UggoK3XeYYeJCJfQVODV+8za55Y1xZPxpfDVq4vOkufzAJMRAsyv81fY7X7kwPEerQY+65FNhep2L/j8AQlCQ/kpWGza8aA9SPP2EK/Cc9AseAwmGgYzbnEfjy97YRwDQYIQ8OvuUwWwcO513GeV/MLVEJOvXrC22uPg7gGbV8jhg5nVY9NszLdja5LxbfYEZ7ZBqIaK1zqG11jT6fQSz7HQ/clroGNeq52xWfmJKgYaiz/TIUIA/PpfSRCahM0w73aPrYkH0yoMT1gDvMlzLjQWBji0UarpoJXIORk8ErnPekqC0AQgDLNSjWLrmxlWKNmDCGFya7OV3PNFYWH+IkIlrBW7JkrWTLdBkkVeujTDCtPPTHWrPWD6UQ2IUAlrA4Mcg72s9y4Lv9bZgrKPyBYo1iRUMFfrei9BsCaZc19/pgqLBa2AhuG3J57uuXXOgPxjBVi8f4J3ZuubBcWDZXCu8Wta7oCAeYljvFf8wu3vHCKC4A8bD6pYmIBdh+UwHdnx8SeOpRqA6SfBX8Eb1iRLzLxKgXaCOZf3+LoGus3MEC0l+MCaZJ5iQnm1U0qdAx3CS9JURqiaVQf9Kri102rnJJ447/EpBKmlqcyvSD1UeXqGqB97SM3B4t8Yk6v8I4vS+pzPqySvbxmdTuc7f/cDEoSqQEswH2sngKwKHrRFBKO3yrqrDN2a3qctiIYqiQmCfWXMF/JBEPSDIPhBqzNWSo3y5gmWgTXUuI73aQsiUCVhYepPp1M/fSC07uet+P0NYy4ncTwgzyiiIX//iASLCFQ5ekWaseTFzJVyrHQu0c2qfS0KvY8xY5OUlwgkAlUKdlH3qcSg9wn6RFBS4u4XfP8gEIFyiECVRDW0SxH6QpgaNBS64iqPWrptiEA1GHQloqYTBBEJM0SgGgzaflEJahLIXhiGIxIsIlAlCIlgVnlbP7Dre1jGJV1WIPPAQhuxeVnEtb+RiECVAOsUr540rUfsNi/8+r41FHIYjayffkEEqiTGYwCVhXUUFFyjdHd2IIheBSpO4lzF4mQbighUWTiAygPLSz6b6XRu2O4rpKH0ZBKR78GuFFqinZMgVEWmdMMHhXPybAZ8sTzA3BTJhN90REOVxPYBDwLyVC5RJidv4HNrHCQFF8mEbyp5uvTmQTZcq4BMuUT1AwwmpdYwKXN3hrVb42jtd2scpU7ix8d31CIgMP/c3R3wuhT7d0UIfKMrL1K8JlrT5P4enaV6tosvnC3YzlXrq7RTr1AfPVfGULmbukgFru0qW6KZ5rOv77FkpWrw+6VNRtN+7UFSGNlfovl76O8euC6/z232IHgADVJQv0QeWKXU3G424HFt45p3YvKIqKFkhQiTEQSjpCc21y4qlfLU7hH0ggiTFmIDqhh+3ZM83ZRcGzOvg91pv8o7O5UlFaIw2c4n3R6oaoshFawndyUpvPsGvgDbmfs2AVPrPuxQLKDnj5vfPYIS2/6mcJ1Pg7G/idafJ4+P/6dq1y+2399zr4s2Zvh92eb/QB7A1ju8NtuNp9M/qAFkN5fj702a6FwnrQi8xt8wwbHgHHWC4F2pzelcw8XTIqrU7h6xtbVvm+WndilLOlRoFd6VpmBNPwzsinlOS7m+4940R9pamhrQ5WjOpPvoc734FHYDiKIddH00vackxrIPFZoK6KYIl+0FUf2ivbeoBbKvbrVZ0kmU1rhuym4FlE7mtGbhXlmoXJ/uU1zIjufFmN01zwmXs9MH1GKsRkk0VWUX3W37OXM4uAt666uVF66/1XyJl3Etg7cJ2mgZudtSO6107TxXtf6Y1jR0G4tBoNvq3IBQ4TtU+fmtoPI1yZhgXpJz7UD2KKzLaKI2WoZ1VCxTOPgx3W4O654Nfm6kjB0teDag9hFVuV+t9aLCk+VpYwCrBd1ApjoqfuffO7nOdnfHpmmjJSD9bHGoYosH7brt5UWkJmEaC2ib1konhqLmrDO/ztKJzplilcS95jVCnQN53t3dIiH6hYXdenNum7JuIsxebV1r2X1yM17O7I7wi0jXsemsTRmt5NZphTxNdhMC91nqXp84TfSLt5ha3iMd1wJ+hlkcyvr07+8R60B+1ohagN2lPAgOUTXKAa/TTqdzVSouUC8Y0AO+3VMo0cB3SHd6T1pz/VDoWmTMMd+ec8zjw6LvZn8DpY45DoPd4U/nn8d15fN6E44VBsa8QTkIx2vwvihAPEf5BZ93Qx5jN/gM/z489G3cUusjfM+6YkZ14a7DG5V54CwguuWAa+4kzAaBwXnCg2WAxoscbP4aPz62rk4HJgN/9kP+O8L9gAXJuFZgJhE4ROKR1Dmy/7tqWQgePxahIBEVtGaufRgC7jg2NmbIQjX0LUDpd+GbPQRdXXB/tGlClCV13liBgvrnGeyCB+FbajnwEPLoO+DBOOC7lzwjfm16tnDBiD9SvV6nd+I4/h9u+dzjdGLh1/pUx3e3Wdz39wNowKwAIVOen7701lm3QcB857H2RaV3NMoEPOwgsUasSTUzCRsmXJjEWAj2ZwMQF4M1ElsIN1QB6cRihYsHN0xJvsZXPOhHOzs7ozGzyuu5z9vTrP2s6RgEUTbtjK2byzo1YNPAmhipYVagsLCdJnlim0oiXEphkA1Q56KS0u3acgqtFRDHA9Ti8MA+qHMGh/mlUftDtIsNCNCcEms2k9b9LEKp3qyjE453uZo43jjTMkh+P5z/ooRnHpSz8O+7xwrpvbLFaHF8iDv0QoALntAHAmYhtBcKyZK11w1m8DJC5sy3CAM4LWRzQmwFiN9jyL/1d2rGIJyZjTAZTafzWsXx3+zc+Ss9QFqEPY/TTtaZp+DuY4Ea8g/6nV4mKCbb1XHct+suzMxsxlBm9p5l0fNj8MAp9LvLNMg3yWwfpdWfdv2SLMJHHaIrmcU3F5uBzyZwqpAUxyG+sf3+YRPLKUqCYGeEWRt3eNKJfjsCwhME49B53WQ2f1lYU1qpb3E21CQbDwvC6jyZBFHX1pGCsClkhOn3XEcRKEHIjyuUfTrLHyaf7JEqCLmJaEmua2hTUrRGlF0W1ILwPKNlTwaUdP9sZcq8IDSNoExDekEQFuCjS48gvET+A018sSfmymgmAAAAAElFTkSuQmCC",nd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACTSURBVHgB7ZPRDURAGIR/l3u/6+CuFCqhBB2gAkqgAyqgBCXQgRLMn+yDMBskJCQm+V5mduffZHdFriZnJf8TbzBsLqotRep5oJmab7LwC2LggnyWVSb3txRF4AcCMiAFGdljPVEJCpKFJl/oJQfpKTqnyBXysvcW6dW3IJkHjmWifo+OZOp5xLf+NZ38IX4vt9EIDO8SDiEAyWwAAAAASUVORK5CYII=",Xg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADPSURBVHgB7ZHdDYIwFIUPNSa+gRuwgboBOoEb6CaIS/iqkygTGDfg0SfDBNRbCElTWpL+PPZLGnrT9jvcFohEfEkQgLzElgFPDrQ0dk2Fdlxj8GSU0zSjv83JuJHXvQJkuag7jktTopb3OF+RVn5Fpe5jhsMZAsgFiSqmg28x7RjO1O7DRz7pYCkeaRhgHe55hZOPXLCQi1+Nb7rv2yr69jiO6QFN+8LHRT4JEJCsVkPWBRKqb7ZybYAuBMN3ZSs3BhhCrOWzAWqIizwSCcMf07deIhKvvRsAAAAASUVORK5CYII=",rS=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},sS={computed:{wordCount(){return this.text.split(" ").length}},data(){return{text:"",done1:!1,done2:!1,done3:!1,done4:!1,guestName:"",isOpenVideo:!1}},methods:{copyText(t,e){window.navigator.clipboard.writeText(t).then(()=>{this[`done${e}`]=!0,setTimeout(()=>{this.done1=!1,this.done2=!1,this.done3=!1,this.done4=!1},5e3)})},addPost(){this.text.trim()&&this.guestName.trim()?td("posts",{text:this.text,name:this.guestName}).then(()=>{alert(this.$t("sendComplete")),this.text="",this.guestName=""}):alert(this.$t("nameContentRequired"))}},created(){Hv().then(n=>{td("visitors",n)});let e=new URL(document.location).searchParams.get("video");this.isOpenVideo=!!e},watch:{"$i18n.locale":t=>{document.documentElement.lang=t}}},iS={style:{"margin-bottom":"2rem"}},oS={class:"top"},aS={class:"container"},lS={class:"italic t-45"},cS={class:"pre",style:{color:"#555"}},uS={class:"italic t-45"},hS={class:"pre",style:{color:"#555"}},fS={class:"keyword"},dS={class:"pre"},mS={key:0,class:"container"},pS={class:"container"},gS={class:"keyword"},_S={class:"small pre",style:{"margin-top":"8px"}},yS={class:"container"},ES={class:"medium"},TS={class:"pre"},vS={class:"bankaccounts"},AS={class:"sans-serif bank-card"},IS={class:"family"},wS={class:"role",style:{"background-color":"#99e2ff"}},bS={class:"bank-row"},RS={key:1,src:Xg,alt:"",class:"inflex"},SS={class:"sans-serif bank-card"},CS={class:"family"},PS={class:"role",style:{"background-color":"#ff99b9"}},NS={class:"bank-row"},DS={key:1,src:Xg,alt:"",class:"inflex"},OS={class:"container"},LS={class:"square"},VS={class:"edit-top"},kS={class:"input-name-box square"},xS={for:"guest_name"};function MS(t,e,n,r,s,i){return hr(),Vr("div",null,[te("article",iS,[te("div",oS,[e[7]||(e[7]=te("img",{src:YR,alt:""},null,-1)),Ua(te("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>t.$i18n.locale=o)},e[6]||(e[6]=[te("option",{value:"en"},"English",-1),te("option",{value:"id"},"Bahasa Indonesia",-1),te("option",{value:"ko"},"",-1)]),512),[[sT,t.$i18n.locale]])]),e[8]||(e[8]=te("img",{src:XR,style:{"margin-top":"-4rem"}},null,-1))]),te("article",aS,[te("h2",null,Ne(t.$t("weddingOf")),1),te("section",null,[te("div",lS,Ne(t.$t("groom")),1),te("div",cS,Ne(t.$t("groomFamily")),1)]),e[9]||(e[9]=te("div",{class:"italic t-45"},"&",-1)),te("section",null,[te("div",uS,Ne(t.$t("bride")),1),te("div",hS,Ne(t.$t("brideFamily")),1)]),e[10]||(e[10]=te("div",{class:"space"},null,-1)),te("section",null,[te("div",null,Ne(t.$t("invited")),1),te("div",fS,Ne(t.$t("weddingDate")),1),te("div",dS,Ne(t.$t("weddingMessage")),1)])]),s.isOpenVideo?(hr(),Vr("article",mS,[te("h2",null,Ne(t.$t("loveStory")),1),e[11]||(e[11]=te("video",{controls:"",width:"320",poster:JR,src:ZR,type:"video/mp4"},null,-1))])):SE("",!0),te("article",pS,[e[14]||(e[14]=te("h2",null,'"Our Journey Begins Here"',-1)),te("section",null,[e[12]||(e[12]=te("img",{src:eS,alt:""},null,-1)),te("h3",null,Ne(t.$t("weddingTime")),1),te("div",gS,Ne(t.$t("eventTime")),1),te("div",null,Ne(t.$t("eventMessage")),1)]),e[15]||(e[15]=te("div",{class:"space"},null,-1)),te("section",null,[te("h3",null,Ne(t.$t("weddingLocation")),1),e[13]||(e[13]=te("img",{src:tS,alt:""},null,-1)),te("div",_S,Ne(t.$t("weddingLocationDetails")),1)])]),te("article",yS,[e[22]||(e[22]=te("img",{src:nS,alt:""},null,-1)),te("h2",ES,Ne(t.$t("weddingGift")),1),te("div",TS,Ne(t.$t("giftMessage")),1),e[23]||(e[23]=te("div",{class:"space"},null,-1)),te("div",vS,[te("section",AS,[te("div",IS,Ne(t.$t("groomFamily")),1),te("span",wS,Ne(t.$t("groom_self")),1),Os(" "+Ne(t.$t("groom"))+" ",1),te("div",bS,[e[17]||(e[17]=te("span",{class:"bank-name"},"",-1)),e[18]||(e[18]=Os(" 1001 2328 3236 ")),s.done1?(hr(),Vr("img",RS)):(hr(),Vr("button",{key:0,class:"copy-btn",onClick:e[1]||(e[1]=o=>i.copyText("100123283236",1))},e[16]||(e[16]=[te("img",{src:nd,alt:""},null,-1)])))])]),te("section",SS,[te("div",CS,Ne(t.$t("brideFamily")),1),te("span",PS,Ne(t.$t("bride_self")),1),Os(" "+Ne(t.$t("bride"))+" ",1),te("div",NS,[e[20]||(e[20]=te("span",{class:"bank-name"},"BRI",-1)),e[21]||(e[21]=Os(" 62210 10338 67530 ")),s.done4?(hr(),Vr("img",DS)):(hr(),Vr("button",{key:0,class:"copy-btn",onClick:e[2]||(e[2]=o=>i.copyText("622101033867530",4))},e[19]||(e[19]=[te("img",{src:nd,alt:""},null,-1)])))])])])]),te("article",OS,[te("h3",null,Ne(t.$t("sendWishes")),1),te("div",LS,[te("div",VS,[te("div",null,Ne(t.$t("wishesLabel")),1),te("span",{class:"material-symbols-rounded heart",style:qo(`color:rgb(${i.wordCount*14},0, 0)`)},"favorite",4)]),Ua(te("textarea",{rows:"3","onUpdate:modelValue":e[3]||(e[3]=o=>s.text=o)},null,512),[[Oh,s.text]])]),te("div",kS,[te("label",xS,Ne(t.$t("nameLabel")),1),Ua(te("input",{id:"guest_name",type:"text","onUpdate:modelValue":e[4]||(e[4]=o=>s.guestName=o)},null,512),[[Oh,s.guestName]])]),te("button",{class:"send-btn square",onClick:e[5]||(e[5]=(...o)=>i.addPost&&i.addPost(...o))},Ne(t.$t("sendButton")),1)]),e[24]||(e[24]=te("div",{class:"space"},null,-1))])}const FS=rS(sS,[["render",MS]]);/*!
  * shared v11.1.1
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Uo=typeof window<"u",er=(t,e=!1)=>e?Symbol.for(t):Symbol(t),US=(t,e,n)=>BS({l:t,k:e,s:n}),BS=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ze=t=>typeof t=="number"&&isFinite(t),jS=t=>ru(t)==="[object Date]",ss=t=>ru(t)==="[object RegExp]",ga=t=>me(t)&&Object.keys(t).length===0,Ze=Object.assign,$S=Object.create,Ce=(t=null)=>$S(t);let rd;const gr=()=>rd||(rd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Ce());function sd(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const HS=Object.prototype.hasOwnProperty;function zt(t,e){return HS.call(t,e)}const Qe=Array.isArray,Ve=t=>typeof t=="function",re=t=>typeof t=="string",Ae=t=>typeof t=="boolean",Ie=t=>t!==null&&typeof t=="object",qS=t=>Ie(t)&&Ve(t.then)&&Ve(t.catch),Jg=Object.prototype.toString,ru=t=>Jg.call(t),me=t=>ru(t)==="[object Object]",WS=t=>t==null?"":Qe(t)||me(t)&&t.toString===Jg?JSON.stringify(t,null,2):String(t);function su(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function KS(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Yi=t=>!Ie(t)||Qe(t);function ho(t,e){if(Yi(t)||Yi(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:r,des:s}=n.pop();Object.keys(r).forEach(i=>{i!=="__proto__"&&(Ie(r[i])&&!Ie(s[i])&&(s[i]=Array.isArray(r[i])?[]:Ce()),Yi(s[i])||Yi(r[i])?s[i]=r[i]:n.push({src:r[i],des:s[i]}))})}}/*!
  * message-compiler v11.1.1
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function GS(t,e,n){return{line:t,column:e,offset:n}}function Wl(t,e,n){return{start:t,end:e}}const Se={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14},zS=17;function _a(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=t,l=new SyntaxError(String(o));return l.code=t,e&&(l.location=e),l.domain=r,l}function QS(t){throw t}const En=" ",YS="\r",vt=`
`,XS="\u2028",JS="\u2029";function ZS(t){const e=t;let n=0,r=1,s=1,i=0;const o=y=>e[y]===YS&&e[y+1]===vt,l=y=>e[y]===vt,c=y=>e[y]===JS,h=y=>e[y]===XS,f=y=>o(y)||l(y)||c(y)||h(y),m=()=>n,g=()=>r,I=()=>s,C=()=>i,D=y=>o(y)||c(y)||h(y)?vt:e[y],P=()=>D(n),b=()=>D(n+i);function x(){return i=0,f(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function U(){return o(n+i)&&i++,i++,e[n+i]}function V(){n=0,r=1,s=1,i=0}function q(y=0){i=y}function z(){const y=n+i;for(;y!==n;)x();i=0}return{index:m,line:g,column:I,peekOffset:C,charAt:D,currentChar:P,currentPeek:b,next:x,peek:U,reset:V,resetPeek:q,skipToPeek:z}}const kn=void 0,e0=".",id="'",t0="tokenizer";function n0(t,e={}){const n=e.location!==!1,r=ZS(t),s=()=>r.index(),i=()=>GS(r.line(),r.column(),r.index()),o=i(),l=s(),c={currentType:13,offset:l,startLoc:o,endLoc:o,lastType:13,lastOffset:l,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},h=()=>c,{onError:f}=e;function m(_,E,L,...F){const ee=h();if(E.column+=L,E.offset+=L,f){const W=n?Wl(ee.startLoc,E):null,O=_a(_,W,{domain:t0,args:F});f(O)}}function g(_,E,L){_.endLoc=i(),_.currentType=E;const F={type:E};return n&&(F.loc=Wl(_.startLoc,_.endLoc)),L!=null&&(F.value=L),F}const I=_=>g(_,13);function C(_,E){return _.currentChar()===E?(_.next(),E):(m(Se.EXPECTED_TOKEN,i(),0,E),"")}function D(_){let E="";for(;_.currentPeek()===En||_.currentPeek()===vt;)E+=_.currentPeek(),_.peek();return E}function P(_){const E=D(_);return _.skipToPeek(),E}function b(_){if(_===kn)return!1;const E=_.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E===95}function x(_){if(_===kn)return!1;const E=_.charCodeAt(0);return E>=48&&E<=57}function U(_,E){const{currentType:L}=E;if(L!==2)return!1;D(_);const F=b(_.currentPeek());return _.resetPeek(),F}function V(_,E){const{currentType:L}=E;if(L!==2)return!1;D(_);const F=_.currentPeek()==="-"?_.peek():_.currentPeek(),ee=x(F);return _.resetPeek(),ee}function q(_,E){const{currentType:L}=E;if(L!==2)return!1;D(_);const F=_.currentPeek()===id;return _.resetPeek(),F}function z(_,E){const{currentType:L}=E;if(L!==7)return!1;D(_);const F=_.currentPeek()===".";return _.resetPeek(),F}function y(_,E){const{currentType:L}=E;if(L!==8)return!1;D(_);const F=b(_.currentPeek());return _.resetPeek(),F}function T(_,E){const{currentType:L}=E;if(!(L===7||L===11))return!1;D(_);const F=_.currentPeek()===":";return _.resetPeek(),F}function v(_,E){const{currentType:L}=E;if(L!==9)return!1;const F=()=>{const W=_.currentPeek();return W==="{"?b(_.peek()):W==="@"||W==="|"||W===":"||W==="."||W===En||!W?!1:W===vt?(_.peek(),F()):N(_,!1)},ee=F();return _.resetPeek(),ee}function R(_){D(_);const E=_.currentPeek()==="|";return _.resetPeek(),E}function N(_,E=!0){const L=(ee=!1,W="")=>{const O=_.currentPeek();return O==="{"||O==="@"||!O?ee:O==="|"?!(W===En||W===vt):O===En?(_.peek(),L(!0,En)):O===vt?(_.peek(),L(!0,vt)):!0},F=L();return E&&_.resetPeek(),F}function k(_,E){const L=_.currentChar();return L===kn?kn:E(L)?(_.next(),L):null}function A(_){const E=_.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36}function nt(_){return k(_,A)}function Ut(_){const E=_.charCodeAt(0);return E>=97&&E<=122||E>=65&&E<=90||E>=48&&E<=57||E===95||E===36||E===45}function He(_){return k(_,Ut)}function Te(_){const E=_.charCodeAt(0);return E>=48&&E<=57}function pe(_){return k(_,Te)}function qe(_){const E=_.charCodeAt(0);return E>=48&&E<=57||E>=65&&E<=70||E>=97&&E<=102}function Bt(_){return k(_,qe)}function wt(_){let E="",L="";for(;E=pe(_);)L+=E;return L}function Fe(_){let E="";for(;;){const L=_.currentChar();if(L==="{"||L==="}"||L==="@"||L==="|"||!L)break;if(L===En||L===vt)if(N(_))E+=L,_.next();else{if(R(_))break;E+=L,_.next()}else E+=L,_.next()}return E}function Ue(_){P(_);let E="",L="";for(;E=He(_);)L+=E;return _.currentChar()===kn&&m(Se.UNTERMINATED_CLOSING_BRACE,i(),0),L}function rr(_){P(_);let E="";return _.currentChar()==="-"?(_.next(),E+=`-${wt(_)}`):E+=wt(_),_.currentChar()===kn&&m(Se.UNTERMINATED_CLOSING_BRACE,i(),0),E}function Zt(_){return _!==id&&_!==vt}function qt(_){P(_),C(_,"'");let E="",L="";for(;E=k(_,Zt);)E==="\\"?L+=Dt(_):L+=E;const F=_.currentChar();return F===vt||F===kn?(m(Se.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),F===vt&&(_.next(),C(_,"'")),L):(C(_,"'"),L)}function Dt(_){const E=_.currentChar();switch(E){case"\\":case"'":return _.next(),`\\${E}`;case"u":return en(_,E,4);case"U":return en(_,E,6);default:return m(Se.UNKNOWN_ESCAPE_SEQUENCE,i(),0,E),""}}function en(_,E,L){C(_,E);let F="";for(let ee=0;ee<L;ee++){const W=Bt(_);if(!W){m(Se.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${E}${F}${_.currentChar()}`);break}F+=W}return`\\${E}${F}`}function Nn(_){return _!=="{"&&_!=="}"&&_!==En&&_!==vt}function bt(_){P(_);let E="",L="";for(;E=k(_,Nn);)L+=E;return L}function pn(_){let E="",L="";for(;E=nt(_);)L+=E;return L}function w(_){const E=L=>{const F=_.currentChar();return F==="{"||F==="@"||F==="|"||F==="("||F===")"||!F||F===En?L:(L+=F,_.next(),E(L))};return E("")}function S(_){P(_);const E=C(_,"|");return P(_),E}function B(_,E){let L=null;switch(_.currentChar()){case"{":return E.braceNest>=1&&m(Se.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),_.next(),L=g(E,2,"{"),P(_),E.braceNest++,L;case"}":return E.braceNest>0&&E.currentType===2&&m(Se.EMPTY_PLACEHOLDER,i(),0),_.next(),L=g(E,3,"}"),E.braceNest--,E.braceNest>0&&P(_),E.inLinked&&E.braceNest===0&&(E.inLinked=!1),L;case"@":return E.braceNest>0&&m(Se.UNTERMINATED_CLOSING_BRACE,i(),0),L=Q(_,E)||I(E),E.braceNest=0,L;default:{let ee=!0,W=!0,O=!0;if(R(_))return E.braceNest>0&&m(Se.UNTERMINATED_CLOSING_BRACE,i(),0),L=g(E,1,S(_)),E.braceNest=0,E.inLinked=!1,L;if(E.braceNest>0&&(E.currentType===4||E.currentType===5||E.currentType===6))return m(Se.UNTERMINATED_CLOSING_BRACE,i(),0),E.braceNest=0,G(_,E);if(ee=U(_,E))return L=g(E,4,Ue(_)),P(_),L;if(W=V(_,E))return L=g(E,5,rr(_)),P(_),L;if(O=q(_,E))return L=g(E,6,qt(_)),P(_),L;if(!ee&&!W&&!O)return L=g(E,12,bt(_)),m(Se.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,L.value),P(_),L;break}}return L}function Q(_,E){const{currentType:L}=E;let F=null;const ee=_.currentChar();switch((L===7||L===8||L===11||L===9)&&(ee===vt||ee===En)&&m(Se.INVALID_LINKED_FORMAT,i(),0),ee){case"@":return _.next(),F=g(E,7,"@"),E.inLinked=!0,F;case".":return P(_),_.next(),g(E,8,".");case":":return P(_),_.next(),g(E,9,":");default:return R(_)?(F=g(E,1,S(_)),E.braceNest=0,E.inLinked=!1,F):z(_,E)||T(_,E)?(P(_),Q(_,E)):y(_,E)?(P(_),g(E,11,pn(_))):v(_,E)?(P(_),ee==="{"?B(_,E)||F:g(E,10,w(_))):(L===7&&m(Se.INVALID_LINKED_FORMAT,i(),0),E.braceNest=0,E.inLinked=!1,G(_,E))}}function G(_,E){let L={type:13};if(E.braceNest>0)return B(_,E)||I(E);if(E.inLinked)return Q(_,E)||I(E);switch(_.currentChar()){case"{":return B(_,E)||I(E);case"}":return m(Se.UNBALANCED_CLOSING_BRACE,i(),0),_.next(),g(E,3,"}");case"@":return Q(_,E)||I(E);default:{if(R(_))return L=g(E,1,S(_)),E.braceNest=0,E.inLinked=!1,L;if(N(_))return g(E,0,Fe(_));break}}return L}function Y(){const{currentType:_,offset:E,startLoc:L,endLoc:F}=c;return c.lastType=_,c.lastOffset=E,c.lastStartLoc=L,c.lastEndLoc=F,c.offset=s(),c.startLoc=i(),r.currentChar()===kn?g(c,13):G(r,c)}return{nextToken:Y,currentOffset:s,currentPosition:i,context:h}}const r0="parser",s0=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function i0(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}}function o0(t={}){const e=t.location!==!1,{onError:n}=t;function r(b,x,U,V,...q){const z=b.currentPosition();if(z.offset+=V,z.column+=V,n){const y=e?Wl(U,z):null,T=_a(x,y,{domain:r0,args:q});n(T)}}function s(b,x,U){const V={type:b};return e&&(V.start=x,V.end=x,V.loc={start:U,end:U}),V}function i(b,x,U,V){e&&(b.end=x,b.loc&&(b.loc.end=U))}function o(b,x){const U=b.context(),V=s(3,U.offset,U.startLoc);return V.value=x,i(V,b.currentOffset(),b.currentPosition()),V}function l(b,x){const U=b.context(),{lastOffset:V,lastStartLoc:q}=U,z=s(5,V,q);return z.index=parseInt(x,10),b.nextToken(),i(z,b.currentOffset(),b.currentPosition()),z}function c(b,x){const U=b.context(),{lastOffset:V,lastStartLoc:q}=U,z=s(4,V,q);return z.key=x,b.nextToken(),i(z,b.currentOffset(),b.currentPosition()),z}function h(b,x){const U=b.context(),{lastOffset:V,lastStartLoc:q}=U,z=s(9,V,q);return z.value=x.replace(s0,i0),b.nextToken(),i(z,b.currentOffset(),b.currentPosition()),z}function f(b){const x=b.nextToken(),U=b.context(),{lastOffset:V,lastStartLoc:q}=U,z=s(8,V,q);return x.type!==11?(r(b,Se.UNEXPECTED_EMPTY_LINKED_MODIFIER,U.lastStartLoc,0),z.value="",i(z,V,q),{nextConsumeToken:x,node:z}):(x.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,rn(x)),z.value=x.value||"",i(z,b.currentOffset(),b.currentPosition()),{node:z})}function m(b,x){const U=b.context(),V=s(7,U.offset,U.startLoc);return V.value=x,i(V,b.currentOffset(),b.currentPosition()),V}function g(b){const x=b.context(),U=s(6,x.offset,x.startLoc);let V=b.nextToken();if(V.type===8){const q=f(b);U.modifier=q.node,V=q.nextConsumeToken||b.nextToken()}switch(V.type!==9&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(V)),V=b.nextToken(),V.type===2&&(V=b.nextToken()),V.type){case 10:V.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(V)),U.key=m(b,V.value||"");break;case 4:V.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(V)),U.key=c(b,V.value||"");break;case 5:V.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(V)),U.key=l(b,V.value||"");break;case 6:V.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(V)),U.key=h(b,V.value||"");break;default:{r(b,Se.UNEXPECTED_EMPTY_LINKED_KEY,x.lastStartLoc,0);const q=b.context(),z=s(7,q.offset,q.startLoc);return z.value="",i(z,q.offset,q.startLoc),U.key=z,i(U,q.offset,q.startLoc),{nextConsumeToken:V,node:U}}}return i(U,b.currentOffset(),b.currentPosition()),{node:U}}function I(b){const x=b.context(),U=x.currentType===1?b.currentOffset():x.offset,V=x.currentType===1?x.endLoc:x.startLoc,q=s(2,U,V);q.items=[];let z=null;do{const v=z||b.nextToken();switch(z=null,v.type){case 0:v.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(v)),q.items.push(o(b,v.value||""));break;case 5:v.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(v)),q.items.push(l(b,v.value||""));break;case 4:v.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(v)),q.items.push(c(b,v.value||""));break;case 6:v.value==null&&r(b,Se.UNEXPECTED_LEXICAL_ANALYSIS,x.lastStartLoc,0,rn(v)),q.items.push(h(b,v.value||""));break;case 7:{const R=g(b);q.items.push(R.node),z=R.nextConsumeToken||null;break}}}while(x.currentType!==13&&x.currentType!==1);const y=x.currentType===1?x.lastOffset:b.currentOffset(),T=x.currentType===1?x.lastEndLoc:b.currentPosition();return i(q,y,T),q}function C(b,x,U,V){const q=b.context();let z=V.items.length===0;const y=s(1,x,U);y.cases=[],y.cases.push(V);do{const T=I(b);z||(z=T.items.length===0),y.cases.push(T)}while(q.currentType!==13);return z&&r(b,Se.MUST_HAVE_MESSAGES_IN_PLURAL,U,0),i(y,b.currentOffset(),b.currentPosition()),y}function D(b){const x=b.context(),{offset:U,startLoc:V}=x,q=I(b);return x.currentType===13?q:C(b,U,V,q)}function P(b){const x=n0(b,Ze({},t)),U=x.context(),V=s(0,U.offset,U.startLoc);return e&&V.loc&&(V.loc.source=b),V.body=D(x),t.onCacheKey&&(V.cacheKey=t.onCacheKey(b)),U.currentType!==13&&r(x,Se.UNEXPECTED_LEXICAL_ANALYSIS,U.lastStartLoc,0,b[U.offset]||""),i(V,x.currentOffset(),x.currentPosition()),V}return{parse:P}}function rn(t){if(t.type===13)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function a0(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function od(t,e){for(let n=0;n<t.length;n++)iu(t[n],e)}function iu(t,e){switch(t.type){case 1:od(t.cases,e),e.helper("plural");break;case 2:od(t.items,e);break;case 6:{iu(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function l0(t,e={}){const n=a0(t);n.helper("normalize"),t.body&&iu(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function c0(t){const e=t.body;return e.type===2?ad(e):e.cases.forEach(n=>ad(n)),t}function ad(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=su(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}function jr(t){switch(t.t=t.type,t.type){case 0:{const e=t;jr(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let r=0;r<n.length;r++)jr(n[r]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let r=0;r<n.length;r++)jr(n[r]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;jr(e.key),e.k=e.key,delete e.key,e.modifier&&(jr(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}}delete t.type}function u0(t,e){const{filename:n,breakLineCode:r,needIndent:s}=e,i=e.location!==!1,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:s,indentLevel:0};i&&t.loc&&(o.source=t.loc.source);const l=()=>o;function c(D,P){o.code+=D}function h(D,P=!0){const b=P?r:"";c(s?b+"  ".repeat(D):b)}function f(D=!0){const P=++o.indentLevel;D&&h(P)}function m(D=!0){const P=--o.indentLevel;D&&h(P)}function g(){h(o.indentLevel)}return{context:l,push:c,indent:f,deindent:m,newline:g,helper:D=>`_${D}`,needIndent:()=>o.needIndent}}function h0(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),is(t,e.key),e.modifier?(t.push(", "),is(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function f0(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(is(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function d0(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(is(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function m0(t,e){e.body?is(t,e.body):t.push("null")}function is(t,e){const{helper:n}=t;switch(e.type){case 0:m0(t,e);break;case 1:d0(t,e);break;case 2:f0(t,e);break;case 6:h0(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break}}const p0=(t,e={})=>{const n=re(e.mode)?e.mode:"normal",r=re(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,i=e.needIndent?e.needIndent:n!=="arrow",o=t.helpers||[],l=u0(t,{filename:r,breakLineCode:s,needIndent:i});l.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),l.indent(i),o.length>0&&(l.push(`const { ${su(o.map(f=>`${f}: _${f}`),", ")} } = ctx`),l.newline()),l.push("return "),is(l,t),l.deindent(i),l.push("}"),delete t.helpers;const{code:c,map:h}=l.context();return{ast:t,code:c,map:h?h.toJSON():void 0}};function g0(t,e={}){const n=Ze({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,l=o0(n).parse(t);return r?(i&&c0(l),s&&jr(l),{ast:l,code:""}):(l0(l,n),p0(l,n))}/*!
  * core-base v11.1.1
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function _0(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(gr().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(gr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function rl(t){return n=>y0(n,t)}function y0(t,e){const n=T0(e);if(n==null)throw hi(0);if(ou(n)===1){const i=A0(n);return t.plural(i.reduce((o,l)=>[...o,ld(t,l)],[]))}else return ld(t,n)}const E0=["b","body"];function T0(t){return tr(t,E0)}const v0=["c","cases"];function A0(t){return tr(t,v0,[])}function ld(t,e){const n=w0(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const r=R0(e).reduce((s,i)=>[...s,Kl(t,i)],[]);return t.normalize(r)}}const I0=["s","static"];function w0(t){return tr(t,I0)}const b0=["i","items"];function R0(t){return tr(t,b0,[])}function Kl(t,e){const n=ou(e);switch(n){case 3:return Xi(e,n);case 9:return Xi(e,n);case 4:{const r=e;if(zt(r,"k")&&r.k)return t.interpolate(t.named(r.k));if(zt(r,"key")&&r.key)return t.interpolate(t.named(r.key));throw hi(n)}case 5:{const r=e;if(zt(r,"i")&&ze(r.i))return t.interpolate(t.list(r.i));if(zt(r,"index")&&ze(r.index))return t.interpolate(t.list(r.index));throw hi(n)}case 6:{const r=e,s=N0(r),i=O0(r);return t.linked(Kl(t,i),s?Kl(t,s):void 0,t.type)}case 7:return Xi(e,n);case 8:return Xi(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const S0=["t","type"];function ou(t){return tr(t,S0)}const C0=["v","value"];function Xi(t,e){const n=tr(t,C0);if(n)return n;throw hi(e)}const P0=["m","modifier"];function N0(t){return tr(t,P0)}const D0=["k","key"];function O0(t){const e=tr(t,D0);if(e)return e;throw hi(6)}function tr(t,e,n){for(let r=0;r<e.length;r++){const s=e[r];if(zt(t,s)&&t[s]!=null)return t[s]}return n}function hi(t){return new Error(`unhandled node type: ${t}`)}const L0=t=>t;let Ji=Ce();function os(t){return Ie(t)&&ou(t)===0&&(zt(t,"b")||zt(t,"body"))}function V0(t,e={}){let n=!1;const r=e.onError||QS;return e.onError=s=>{n=!0,r(s)},{...g0(t,e),detectError:n}}function k0(t,e){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&re(t)){Ae(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||L0)(t),s=Ji[r];if(s)return s;const{ast:i,detectError:o}=V0(t,{...e,location:!1,jit:!0}),l=rl(i);return o?l:Ji[r]=l}else{const n=t.cacheKey;if(n){const r=Ji[n];return r||(Ji[n]=rl(t))}else return rl(t)}}let fi=null;function x0(t){fi=t}function M0(t,e,n){fi&&fi.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const F0=U0("function:translate");function U0(t){return e=>fi&&fi.emit(t,e)}const In={INVALID_ARGUMENT:zS,INVALID_DATE_ARGUMENT:18,INVALID_ISO_DATE_ARGUMENT:19,NOT_SUPPORT_LOCALE_PROMISE_VALUE:21,NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:22,NOT_SUPPORT_LOCALE_TYPE:23},B0=24;function wn(t){return _a(t,null,void 0)}function au(t,e){return e.locale!=null?cd(e.locale):cd(t.locale)}let sl;function cd(t){if(re(t))return t;if(Ve(t)){if(t.resolvedOnce&&sl!=null)return sl;if(t.constructor.name==="Function"){const e=t();if(qS(e))throw wn(In.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return sl=e}else throw wn(In.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw wn(In.NOT_SUPPORT_LOCALE_TYPE)}function j0(t,e,n){return[...new Set([n,...Qe(e)?e:Ie(e)?Object.keys(e):re(e)?[e]:[n]])]}function Zg(t,e,n){const r=re(n)?n:di,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Qe(o);)o=ud(i,o,e);const l=Qe(e)||!me(e)?e:e.default?e.default:null;o=re(l)?[l]:l,Qe(o)&&ud(i,o,!1),s.__localeChainCache.set(r,i)}return i}function ud(t,e,n){let r=!0;for(let s=0;s<e.length&&Ae(r);s++){const i=e[s];re(i)&&(r=$0(t,e[s],n))}return r}function $0(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=H0(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function H0(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Qe(n)||me(n))&&n[s]&&(r=n[s])}return r}const nr=[];nr[0]={w:[0],i:[3,0],"[":[4],o:[7]};nr[1]={w:[1],".":[2],"[":[4],o:[7]};nr[2]={w:[2],i:[3,0],0:[3,0]};nr[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};nr[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};nr[5]={"'":[4,0],o:8,l:[5,0]};nr[6]={'"':[4,0],o:8,l:[6,0]};const q0=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function W0(t){return q0.test(t)}function K0(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function G0(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function z0(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:W0(e)?K0(e):"*"+e}function Q0(t){const e=[];let n=-1,r=0,s=0,i,o,l,c,h,f,m;const g=[];g[0]=()=>{o===void 0?o=l:o+=l},g[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},g[2]=()=>{g[0](),s++},g[3]=()=>{if(s>0)s--,r=4,g[0]();else{if(s=0,o===void 0||(o=z0(o),o===!1))return!1;g[1]()}};function I(){const C=t[n+1];if(r===5&&C==="'"||r===6&&C==='"')return n++,l="\\"+C,g[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&I())){if(c=G0(i),m=nr[r],h=m[c]||m.l||8,h===8||(r=h[0],h[1]!==void 0&&(f=g[h[1]],f&&(l=i,f()===!1))))return;if(r===7)return e}}const hd=new Map;function Y0(t,e){return Ie(t)?t[e]:null}function X0(t,e){if(!Ie(t))return null;let n=hd.get(e);if(n||(n=Q0(e),n&&hd.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=s[n[i]];if(o===void 0||Ve(s))return null;s=o,i++}return s}const J0="11.1.1",ya=-1,di="en-US",fd="",dd=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function Z0(){return{upper:(t,e)=>e==="text"&&re(t)?t.toUpperCase():e==="vnode"&&Ie(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&re(t)?t.toLowerCase():e==="vnode"&&Ie(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&re(t)?dd(t):e==="vnode"&&Ie(t)&&"__v_isVNode"in t?dd(t.children):t}}let e_;function eC(t){e_=t}let t_;function tC(t){t_=t}let n_;function nC(t){n_=t}let r_=null;const rC=t=>{r_=t},sC=()=>r_;let s_=null;const md=t=>{s_=t},iC=()=>s_;let pd=0;function oC(t={}){const e=Ve(t.onWarn)?t.onWarn:KS,n=re(t.version)?t.version:J0,r=re(t.locale)||Ve(t.locale)?t.locale:di,s=Ve(r)?di:r,i=Qe(t.fallbackLocale)||me(t.fallbackLocale)||re(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,o=me(t.messages)?t.messages:il(s),l=me(t.datetimeFormats)?t.datetimeFormats:il(s),c=me(t.numberFormats)?t.numberFormats:il(s),h=Ze(Ce(),t.modifiers,Z0()),f=t.pluralRules||Ce(),m=Ve(t.missing)?t.missing:null,g=Ae(t.missingWarn)||ss(t.missingWarn)?t.missingWarn:!0,I=Ae(t.fallbackWarn)||ss(t.fallbackWarn)?t.fallbackWarn:!0,C=!!t.fallbackFormat,D=!!t.unresolving,P=Ve(t.postTranslation)?t.postTranslation:null,b=me(t.processor)?t.processor:null,x=Ae(t.warnHtmlMessage)?t.warnHtmlMessage:!0,U=!!t.escapeParameter,V=Ve(t.messageCompiler)?t.messageCompiler:e_,q=Ve(t.messageResolver)?t.messageResolver:t_||Y0,z=Ve(t.localeFallbacker)?t.localeFallbacker:n_||j0,y=Ie(t.fallbackContext)?t.fallbackContext:void 0,T=t,v=Ie(T.__datetimeFormatters)?T.__datetimeFormatters:new Map,R=Ie(T.__numberFormatters)?T.__numberFormatters:new Map,N=Ie(T.__meta)?T.__meta:{};pd++;const k={version:n,cid:pd,locale:r,fallbackLocale:i,messages:o,modifiers:h,pluralRules:f,missing:m,missingWarn:g,fallbackWarn:I,fallbackFormat:C,unresolving:D,postTranslation:P,processor:b,warnHtmlMessage:x,escapeParameter:U,messageCompiler:V,messageResolver:q,localeFallbacker:z,fallbackContext:y,onWarn:e,__meta:N};return k.datetimeFormats=l,k.numberFormats=c,k.__datetimeFormatters=v,k.__numberFormatters=R,__INTLIFY_PROD_DEVTOOLS__&&M0(k,n,N),k}const il=t=>({[t]:Ce()});function lu(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const l=i(t,n,e,s);return re(l)?l:e}else return e}function Ns(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function aC(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function lC(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let r=n+1;r<e.length;r++)if(aC(t,e[r]))return!0;return!1}function gd(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:l}=t,[c,h,f,m]=Gl(...e),g=Ae(f.missingWarn)?f.missingWarn:t.missingWarn;Ae(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const I=!!f.part,C=au(t,f),D=o(t,s,C);if(!re(c)||c==="")return new Intl.DateTimeFormat(C,m).format(h);let P={},b,x=null;const U="datetime format";for(let z=0;z<D.length&&(b=D[z],P=n[b]||{},x=P[c],!me(x));z++)lu(t,c,b,g,U);if(!me(x)||!re(b))return r?ya:c;let V=`${b}__${c}`;ga(m)||(V=`${V}__${JSON.stringify(m)}`);let q=l.get(V);return q||(q=new Intl.DateTimeFormat(b,Ze({},x,m)),l.set(V,q)),I?q.formatToParts(h):q.format(h)}const i_=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Gl(...t){const[e,n,r,s]=t,i=Ce();let o=Ce(),l;if(re(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw wn(In.INVALID_ISO_DATE_ARGUMENT);const h=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();l=new Date(h);try{l.toISOString()}catch{throw wn(In.INVALID_ISO_DATE_ARGUMENT)}}else if(jS(e)){if(isNaN(e.getTime()))throw wn(In.INVALID_DATE_ARGUMENT);l=e}else if(ze(e))l=e;else throw wn(In.INVALID_ARGUMENT);return re(n)?i.key=n:me(n)&&Object.keys(n).forEach(c=>{i_.includes(c)?o[c]=n[c]:i[c]=n[c]}),re(r)?i.locale=r:me(r)&&(o=r),me(s)&&(o=s),[i.key||"",l,i,o]}function _d(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function yd(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:l}=t,[c,h,f,m]=zl(...e),g=Ae(f.missingWarn)?f.missingWarn:t.missingWarn;Ae(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn;const I=!!f.part,C=au(t,f),D=o(t,s,C);if(!re(c)||c==="")return new Intl.NumberFormat(C,m).format(h);let P={},b,x=null;const U="number format";for(let z=0;z<D.length&&(b=D[z],P=n[b]||{},x=P[c],!me(x));z++)lu(t,c,b,g,U);if(!me(x)||!re(b))return r?ya:c;let V=`${b}__${c}`;ga(m)||(V=`${V}__${JSON.stringify(m)}`);let q=l.get(V);return q||(q=new Intl.NumberFormat(b,Ze({},x,m)),l.set(V,q)),I?q.formatToParts(h):q.format(h)}const o_=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function zl(...t){const[e,n,r,s]=t,i=Ce();let o=Ce();if(!ze(e))throw wn(In.INVALID_ARGUMENT);const l=e;return re(n)?i.key=n:me(n)&&Object.keys(n).forEach(c=>{o_.includes(c)?o[c]=n[c]:i[c]=n[c]}),re(r)?i.locale=r:me(r)&&(o=r),me(s)&&(o=s),[i.key||"",l,i,o]}function Ed(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}const cC=t=>t,uC=t=>"",hC="text",fC=t=>t.length===0?"":su(t),dC=WS;function Td(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function mC(t){const e=ze(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ze(t.named.count)||ze(t.named.n))?ze(t.named.count)?t.named.count:ze(t.named.n)?t.named.n:e:e}function pC(t,e){e.count||(e.count=t),e.n||(e.n=t)}function gC(t={}){const e=t.locale,n=mC(t),r=Ie(t.pluralRules)&&re(e)&&Ve(t.pluralRules[e])?t.pluralRules[e]:Td,s=Ie(t.pluralRules)&&re(e)&&Ve(t.pluralRules[e])?Td:void 0,i=b=>b[r(n,b.length,s)],o=t.list||[],l=b=>o[b],c=t.named||Ce();ze(t.pluralIndex)&&pC(n,c);const h=b=>c[b];function f(b,x){const U=Ve(t.messages)?t.messages(b,!!x):Ie(t.messages)?t.messages[b]:!1;return U||(t.parent?t.parent.message(b):uC)}const m=b=>t.modifiers?t.modifiers[b]:cC,g=me(t.processor)&&Ve(t.processor.normalize)?t.processor.normalize:fC,I=me(t.processor)&&Ve(t.processor.interpolate)?t.processor.interpolate:dC,C=me(t.processor)&&re(t.processor.type)?t.processor.type:hC,P={list:l,named:h,plural:i,linked:(b,...x)=>{const[U,V]=x;let q="text",z="";x.length===1?Ie(U)?(z=U.modifier||z,q=U.type||q):re(U)&&(z=U||z):x.length===2&&(re(U)&&(z=U||z),re(V)&&(q=V||q));const y=f(b,!0)(P),T=q==="vnode"&&Qe(y)&&z?y[0]:y;return z?m(z)(T,q):T},message:f,type:C,interpolate:I,normalize:g,values:Ze(Ce(),o,c)};return P}const vd=()=>"",$t=t=>Ve(t);function Ad(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:l}=t,[c,h]=Ql(...e),f=Ae(h.missingWarn)?h.missingWarn:t.missingWarn,m=Ae(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn,g=Ae(h.escapeParameter)?h.escapeParameter:t.escapeParameter,I=!!h.resolvedMessage,C=re(h.default)||Ae(h.default)?Ae(h.default)?i?c:()=>c:h.default:n?i?c:()=>c:null,D=n||C!=null&&(re(C)||Ve(C)),P=au(t,h);g&&_C(h);let[b,x,U]=I?[c,P,l[P]||Ce()]:a_(t,c,P,o,m,f),V=b,q=c;if(!I&&!(re(V)||os(V)||$t(V))&&D&&(V=C,q=V),!I&&(!(re(V)||os(V)||$t(V))||!re(x)))return s?ya:c;let z=!1;const y=()=>{z=!0},T=$t(V)?V:l_(t,c,x,V,q,y);if(z)return V;const v=TC(t,x,U,h),R=gC(v),N=yC(t,T,R),k=r?r(N,c):N;if(__INTLIFY_PROD_DEVTOOLS__){const A={timestamp:Date.now(),key:re(c)?c:$t(V)?V.key:"",locale:x||($t(V)?V.locale:""),format:re(V)?V:$t(V)?V.source:"",message:k};A.meta=Ze({},t.__meta,sC()||{}),F0(A)}return k}function _C(t){Qe(t.list)?t.list=t.list.map(e=>re(e)?sd(e):e):Ie(t.named)&&Object.keys(t.named).forEach(e=>{re(t.named[e])&&(t.named[e]=sd(t.named[e]))})}function a_(t,e,n,r,s,i){const{messages:o,onWarn:l,messageResolver:c,localeFallbacker:h}=t,f=h(t,r,n);let m=Ce(),g,I=null;const C="translate";for(let D=0;D<f.length&&(g=f[D],m=o[g]||Ce(),(I=c(m,e))===null&&(I=m[e]),!(re(I)||os(I)||$t(I)));D++)if(!lC(g,f)){const P=lu(t,e,g,i,C);P!==e&&(I=P)}return[I,g,m]}function l_(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:l}=t;if($t(r)){const h=r;return h.locale=h.locale||n,h.key=h.key||e,h}if(o==null){const h=()=>r;return h.locale=n,h.key=e,h}const c=o(r,EC(t,n,s,r,l,i));return c.locale=n,c.key=e,c.source=r,c}function yC(t,e,n){return e(n)}function Ql(...t){const[e,n,r]=t,s=Ce();if(!re(e)&&!ze(e)&&!$t(e)&&!os(e))throw wn(In.INVALID_ARGUMENT);const i=ze(e)?String(e):($t(e),e);return ze(n)?s.plural=n:re(n)?s.default=n:me(n)&&!ga(n)?s.named=n:Qe(n)&&(s.list=n),ze(r)?s.plural=r:re(r)?s.default=r:me(r)&&Ze(s,r),[i,s]}function EC(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>US(e,n,o)}}function TC(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:l,fallbackWarn:c,missingWarn:h,fallbackContext:f}=t,g={locale:e,modifiers:s,pluralRules:i,messages:(I,C)=>{let D=o(n,I);if(D==null&&(f||C)){const[,,P]=a_(f||t,I,e,l,c,h);D=o(P,I)}if(re(D)||os(D)){let P=!1;const x=l_(t,I,e,D,I,()=>{P=!0});return P?vd:x}else return $t(D)?D:vd}};return t.processor&&(g.processor=t.processor),r.list&&(g.list=r.list),r.named&&(g.named=r.named),ze(r.plural)&&(g.pluralIndex=r.plural),g}_0();/*!
  * vue-i18n v11.1.1
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const vC="11.1.1";function AC(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(gr().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(gr().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(gr().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(gr().__INTLIFY_PROD_DEVTOOLS__=!1)}const Nt={UNEXPECTED_RETURN_TYPE:B0,INVALID_ARGUMENT:25,MUST_BE_CALL_SETUP_TOP:26,NOT_INSTALLED:27,REQUIRED_VALUE:28,INVALID_VALUE:29,NOT_INSTALLED_WITH_PROVIDE:31,UNEXPECTED_ERROR:32};function Ft(t,...e){return _a(t,null,void 0)}const Yl=er("__translateVNode"),Xl=er("__datetimeParts"),Jl=er("__numberParts"),c_=er("__setPluralRules"),u_=er("__injectWithOption"),Zl=er("__dispose");function mi(t){if(!Ie(t))return t;for(const e in t)if(zt(t,e))if(!e.includes("."))Ie(t[e])&&mi(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]in s||(s[n[o]]=Ce()),!Ie(s[n[o]])){i=!0;break}s=s[n[o]]}i||(s[n[r]]=t[e],delete t[e]),Ie(s[n[r]])&&mi(s[n[r]])}return t}function cu(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=me(n)?n:Qe(r)?Ce():{[t]:Ce()};if(Qe(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:c,resource:h}=l;c?(o[c]=o[c]||Ce(),ho(h,o[c])):ho(h,o)}else re(l)&&ho(JSON.parse(l),o)}),s==null&&i)for(const l in o)zt(o,l)&&mi(o[l]);return o}function h_(t){return t.type}function f_(t,e,n){let r=Ie(e.messages)?e.messages:Ce();"__i18nGlobal"in n&&(r=cu(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(Ie(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Ie(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function Id(t){return Ct(_i,null,t,0)}const wd="__INTLIFY_META__",bd=()=>[],IC=()=>!1;let Rd=0;function Sd(t){return(e,n,r,s)=>t(n,r,Js()||void 0,s)}const wC=()=>{const t=Js();let e=null;return t&&(e=h_(t)[wd])?{[wd]:e}:null};function uu(t={}){const{__root:e,__injectWithOption:n}=t,r=e===void 0,s=t.flatJson,i=Uo?vy:Ay;let o=Ae(t.inheritLocale)?t.inheritLocale:!0;const l=i(e&&o?e.locale.value:re(t.locale)?t.locale:di),c=i(e&&o?e.fallbackLocale.value:re(t.fallbackLocale)||Qe(t.fallbackLocale)||me(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:l.value),h=i(cu(l.value,t)),f=i(me(t.datetimeFormats)?t.datetimeFormats:{[l.value]:{}}),m=i(me(t.numberFormats)?t.numberFormats:{[l.value]:{}});let g=e?e.missingWarn:Ae(t.missingWarn)||ss(t.missingWarn)?t.missingWarn:!0,I=e?e.fallbackWarn:Ae(t.fallbackWarn)||ss(t.fallbackWarn)?t.fallbackWarn:!0,C=e?e.fallbackRoot:Ae(t.fallbackRoot)?t.fallbackRoot:!0,D=!!t.fallbackFormat,P=Ve(t.missing)?t.missing:null,b=Ve(t.missing)?Sd(t.missing):null,x=Ve(t.postTranslation)?t.postTranslation:null,U=e?e.warnHtmlMessage:Ae(t.warnHtmlMessage)?t.warnHtmlMessage:!0,V=!!t.escapeParameter;const q=e?e.modifiers:me(t.modifiers)?t.modifiers:{};let z=t.pluralRules||e&&e.pluralRules,y;y=(()=>{r&&md(null);const O={version:vC,locale:l.value,fallbackLocale:c.value,messages:h.value,modifiers:q,pluralRules:z,missing:b===null?void 0:b,missingWarn:g,fallbackWarn:I,fallbackFormat:D,unresolving:!0,postTranslation:x===null?void 0:x,warnHtmlMessage:U,escapeParameter:V,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};O.datetimeFormats=f.value,O.numberFormats=m.value,O.__datetimeFormatters=me(y)?y.__datetimeFormatters:void 0,O.__numberFormatters=me(y)?y.__numberFormatters:void 0;const j=oC(O);return r&&md(j),j})(),Ns(y,l.value,c.value);function v(){return[l.value,c.value,h.value,f.value,m.value]}const R=xr({get:()=>l.value,set:O=>{y.locale=O,l.value=O}}),N=xr({get:()=>c.value,set:O=>{y.fallbackLocale=O,c.value=O,Ns(y,l.value,O)}}),k=xr(()=>h.value),A=xr(()=>f.value),nt=xr(()=>m.value);function Ut(){return Ve(x)?x:null}function He(O){x=O,y.postTranslation=O}function Te(){return P}function pe(O){O!==null&&(b=Sd(O)),P=O,y.missing=b}const qe=(O,j,Z,se,he,We)=>{v();let xe;try{__INTLIFY_PROD_DEVTOOLS__,r||(y.fallbackContext=e?iC():void 0),xe=O(y)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(y.fallbackContext=void 0)}if(Z!=="translate exists"&&ze(xe)&&xe===ya||Z==="translate exists"&&!xe){const[Rt,rt]=j();return e&&C?se(e):he(Rt)}else{if(We(xe))return xe;throw Ft(Nt.UNEXPECTED_RETURN_TYPE)}};function Bt(...O){return qe(j=>Reflect.apply(Ad,null,[j,...O]),()=>Ql(...O),"translate",j=>Reflect.apply(j.t,j,[...O]),j=>j,j=>re(j))}function wt(...O){const[j,Z,se]=O;if(se&&!Ie(se))throw Ft(Nt.INVALID_ARGUMENT);return Bt(j,Z,Ze({resolvedMessage:!0},se||{}))}function Fe(...O){return qe(j=>Reflect.apply(gd,null,[j,...O]),()=>Gl(...O),"datetime format",j=>Reflect.apply(j.d,j,[...O]),()=>fd,j=>re(j))}function Ue(...O){return qe(j=>Reflect.apply(yd,null,[j,...O]),()=>zl(...O),"number format",j=>Reflect.apply(j.n,j,[...O]),()=>fd,j=>re(j))}function rr(O){return O.map(j=>re(j)||ze(j)||Ae(j)?Id(String(j)):j)}const qt={normalize:rr,interpolate:O=>O,type:"vnode"};function Dt(...O){return qe(j=>{let Z;const se=j;try{se.processor=qt,Z=Reflect.apply(Ad,null,[se,...O])}finally{se.processor=null}return Z},()=>Ql(...O),"translate",j=>j[Yl](...O),j=>[Id(j)],j=>Qe(j))}function en(...O){return qe(j=>Reflect.apply(yd,null,[j,...O]),()=>zl(...O),"number format",j=>j[Jl](...O),bd,j=>re(j)||Qe(j))}function Nn(...O){return qe(j=>Reflect.apply(gd,null,[j,...O]),()=>Gl(...O),"datetime format",j=>j[Xl](...O),bd,j=>re(j)||Qe(j))}function bt(O){z=O,y.pluralRules=z}function pn(O,j){return qe(()=>{if(!O)return!1;const Z=re(j)?j:l.value,se=B(Z),he=y.messageResolver(se,O);return os(he)||$t(he)||re(he)},()=>[O],"translate exists",Z=>Reflect.apply(Z.te,Z,[O,j]),IC,Z=>Ae(Z))}function w(O){let j=null;const Z=Zg(y,c.value,l.value);for(let se=0;se<Z.length;se++){const he=h.value[Z[se]]||{},We=y.messageResolver(he,O);if(We!=null){j=We;break}}return j}function S(O){const j=w(O);return j??(e?e.tm(O)||{}:{})}function B(O){return h.value[O]||{}}function Q(O,j){if(s){const Z={[O]:j};for(const se in Z)zt(Z,se)&&mi(Z[se]);j=Z[O]}h.value[O]=j,y.messages=h.value}function G(O,j){h.value[O]=h.value[O]||{};const Z={[O]:j};if(s)for(const se in Z)zt(Z,se)&&mi(Z[se]);j=Z[O],ho(j,h.value[O]),y.messages=h.value}function Y(O){return f.value[O]||{}}function _(O,j){f.value[O]=j,y.datetimeFormats=f.value,_d(y,O,j)}function E(O,j){f.value[O]=Ze(f.value[O]||{},j),y.datetimeFormats=f.value,_d(y,O,j)}function L(O){return m.value[O]||{}}function F(O,j){m.value[O]=j,y.numberFormats=m.value,Ed(y,O,j)}function ee(O,j){m.value[O]=Ze(m.value[O]||{},j),y.numberFormats=m.value,Ed(y,O,j)}Rd++,e&&Uo&&(Kr(e.locale,O=>{o&&(l.value=O,y.locale=O,Ns(y,l.value,c.value))}),Kr(e.fallbackLocale,O=>{o&&(c.value=O,y.fallbackLocale=O,Ns(y,l.value,c.value))}));const W={id:Rd,locale:R,fallbackLocale:N,get inheritLocale(){return o},set inheritLocale(O){o=O,O&&e&&(l.value=e.locale.value,c.value=e.fallbackLocale.value,Ns(y,l.value,c.value))},get availableLocales(){return Object.keys(h.value).sort()},messages:k,get modifiers(){return q},get pluralRules(){return z||{}},get isGlobal(){return r},get missingWarn(){return g},set missingWarn(O){g=O,y.missingWarn=g},get fallbackWarn(){return I},set fallbackWarn(O){I=O,y.fallbackWarn=I},get fallbackRoot(){return C},set fallbackRoot(O){C=O},get fallbackFormat(){return D},set fallbackFormat(O){D=O,y.fallbackFormat=D},get warnHtmlMessage(){return U},set warnHtmlMessage(O){U=O,y.warnHtmlMessage=O},get escapeParameter(){return V},set escapeParameter(O){V=O,y.escapeParameter=O},t:Bt,getLocaleMessage:B,setLocaleMessage:Q,mergeLocaleMessage:G,getPostTranslationHandler:Ut,setPostTranslationHandler:He,getMissingHandler:Te,setMissingHandler:pe,[c_]:bt};return W.datetimeFormats=A,W.numberFormats=nt,W.rt=wt,W.te=pn,W.tm=S,W.d=Fe,W.n=Ue,W.getDateTimeFormat=Y,W.setDateTimeFormat=_,W.mergeDateTimeFormat=E,W.getNumberFormat=L,W.setNumberFormat=F,W.mergeNumberFormat=ee,W[u_]=n,W[Yl]=Dt,W[Xl]=Nn,W[Jl]=en,W}function bC(t){const e=re(t.locale)?t.locale:di,n=re(t.fallbackLocale)||Qe(t.fallbackLocale)||me(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=Ve(t.missing)?t.missing:void 0,s=Ae(t.silentTranslationWarn)||ss(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=Ae(t.silentFallbackWarn)||ss(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ae(t.fallbackRoot)?t.fallbackRoot:!0,l=!!t.formatFallbackMessages,c=me(t.modifiers)?t.modifiers:{},h=t.pluralizationRules,f=Ve(t.postTranslation)?t.postTranslation:void 0,m=re(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,g=!!t.escapeParameterHtml,I=Ae(t.sync)?t.sync:!0;let C=t.messages;if(me(t.sharedMessages)){const q=t.sharedMessages;C=Object.keys(q).reduce((y,T)=>{const v=y[T]||(y[T]={});return Ze(v,q[T]),y},C||{})}const{__i18n:D,__root:P,__injectWithOption:b}=t,x=t.datetimeFormats,U=t.numberFormats,V=t.flatJson;return{locale:e,fallbackLocale:n,messages:C,flatJson:V,datetimeFormats:x,numberFormats:U,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:l,modifiers:c,pluralRules:h,postTranslation:f,warnHtmlMessage:m,escapeParameter:g,messageResolver:t.messageResolver,inheritLocale:I,__i18n:D,__root:P,__injectWithOption:b}}function ec(t={}){const e=uu(bC(t)),{__extender:n}=t,r={id:e.id,get locale(){return e.locale.value},set locale(s){e.locale.value=s},get fallbackLocale(){return e.fallbackLocale.value},set fallbackLocale(s){e.fallbackLocale.value=s},get messages(){return e.messages.value},get datetimeFormats(){return e.datetimeFormats.value},get numberFormats(){return e.numberFormats.value},get availableLocales(){return e.availableLocales},get missing(){return e.getMissingHandler()},set missing(s){e.setMissingHandler(s)},get silentTranslationWarn(){return Ae(e.missingWarn)?!e.missingWarn:e.missingWarn},set silentTranslationWarn(s){e.missingWarn=Ae(s)?!s:s},get silentFallbackWarn(){return Ae(e.fallbackWarn)?!e.fallbackWarn:e.fallbackWarn},set silentFallbackWarn(s){e.fallbackWarn=Ae(s)?!s:s},get modifiers(){return e.modifiers},get formatFallbackMessages(){return e.fallbackFormat},set formatFallbackMessages(s){e.fallbackFormat=s},get postTranslation(){return e.getPostTranslationHandler()},set postTranslation(s){e.setPostTranslationHandler(s)},get sync(){return e.inheritLocale},set sync(s){e.inheritLocale=s},get warnHtmlInMessage(){return e.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){e.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return e.escapeParameter},set escapeParameterHtml(s){e.escapeParameter=s},get pluralizationRules(){return e.pluralRules||{}},__composer:e,t(...s){return Reflect.apply(e.t,e,[...s])},rt(...s){return Reflect.apply(e.rt,e,[...s])},te(s,i){return e.te(s,i)},tm(s){return e.tm(s)},getLocaleMessage(s){return e.getLocaleMessage(s)},setLocaleMessage(s,i){e.setLocaleMessage(s,i)},mergeLocaleMessage(s,i){e.mergeLocaleMessage(s,i)},d(...s){return Reflect.apply(e.d,e,[...s])},getDateTimeFormat(s){return e.getDateTimeFormat(s)},setDateTimeFormat(s,i){e.setDateTimeFormat(s,i)},mergeDateTimeFormat(s,i){e.mergeDateTimeFormat(s,i)},n(...s){return Reflect.apply(e.n,e,[...s])},getNumberFormat(s){return e.getNumberFormat(s)},setNumberFormat(s,i){e.setNumberFormat(s,i)},mergeNumberFormat(s,i){e.mergeNumberFormat(s,i)}};return r.__extender=n,r}function RC(t,e,n){return{beforeCreate(){const r=Js();if(!r)throw Ft(Nt.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=Cd(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=ec(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=Cd(t,s);else{this.$i18n=ec({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&f_(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Js();if(!r)throw Ft(Nt.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function Cd(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[c_](e.pluralizationRules||t.pluralizationRules);const n=cu(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const hu={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function SC({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===Kt?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},Ce())}function d_(){return Kt}const CC=_c({name:"i18n-t",props:Ze({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ze(t)||!isNaN(t)}},hu),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||fu({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(m=>m!=="_"),o=Ce();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=re(t.plural)?+t.plural:t.plural);const l=SC(e,i),c=s[Yl](t.keypath,l,o),h=Ze(Ce(),r),f=re(t.tag)||Ie(t.tag)?t.tag:d_();return Um(f,h,c)}}}),Pd=CC;function PC(t){return Qe(t)&&!re(t[0])}function m_(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let l=Ce();t.locale&&(o.locale=t.locale),re(t.format)?o.key=t.format:Ie(t.format)&&(re(t.format.key)&&(o.key=t.format.key),l=Object.keys(t.format).reduce((g,I)=>n.includes(I)?Ze(Ce(),g,{[I]:t.format[I]}):g,Ce()));const c=r(t.value,o,l);let h=[o.key];Qe(c)?h=c.map((g,I)=>{const C=s[g.type],D=C?C({[g.type]:g.value,index:I,parts:c}):[g.value];return PC(D)&&(D[0].key=`${g.type}-${I}`),D}):re(c)&&(h=[c]);const f=Ze(Ce(),i),m=re(t.tag)||Ie(t.tag)?t.tag:d_();return Um(m,f,h)}}const NC=_c({name:"i18n-n",props:Ze({value:{type:Number,required:!0},format:{type:[String,Object]}},hu),setup(t,e){const n=t.i18n||fu({useScope:t.scope,__useComponent:!0});return m_(t,e,o_,(...r)=>n[Jl](...r))}}),Nd=NC;function DC(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function OC(t){const e=o=>{const{instance:l,value:c}=o;if(!l||!l.$)throw Ft(Nt.UNEXPECTED_ERROR);const h=DC(t,l.$),f=Dd(c);return[Reflect.apply(h.t,h,[...Od(f)]),h]};return{created:(o,l)=>{const[c,h]=e(l);Uo&&t.global===h&&(o.__i18nWatcher=Kr(h.locale,()=>{l.instance&&l.instance.$forceUpdate()})),o.__composer=h,o.textContent=c},unmounted:o=>{Uo&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:l})=>{if(o.__composer){const c=o.__composer,h=Dd(l);o.textContent=Reflect.apply(c.t,c,[...Od(h)])}},getSSRProps:o=>{const[l]=e(o);return{textContent:l}}}}function Dd(t){if(re(t))return{path:t};if(me(t)){if(!("path"in t))throw Ft(Nt.REQUIRED_VALUE,"path");return t}else throw Ft(Nt.INVALID_VALUE)}function Od(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},l=r||{};return re(n)&&(o.locale=n),ze(s)&&(o.plural=s),ze(i)&&(o.plural=i),[e,l,o]}function LC(t,e,...n){const r=me(n[0])?n[0]:{};(Ae(r.globalInstall)?r.globalInstall:!0)&&([Pd.name,"I18nT"].forEach(i=>t.component(i,Pd)),[Nd.name,"I18nN"].forEach(i=>t.component(i,Nd)),[Vd.name,"I18nD"].forEach(i=>t.component(i,Vd))),t.directive("t",OC(e))}const VC=er("global-vue-i18n");function kC(t={}){const e=__VUE_I18N_LEGACY_API__&&Ae(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=Ae(t.globalInjection)?t.globalInjection:!0,r=new Map,[s,i]=xC(t,e),o=er("");function l(m){return r.get(m)||null}function c(m,g){r.set(m,g)}function h(m){r.delete(m)}const f={get mode(){return __VUE_I18N_LEGACY_API__&&e?"legacy":"composition"},async install(m,...g){if(m.__VUE_I18N_SYMBOL__=o,m.provide(m.__VUE_I18N_SYMBOL__,f),me(g[0])){const D=g[0];f.__composerExtend=D.__composerExtend,f.__vueI18nExtend=D.__vueI18nExtend}let I=null;!e&&n&&(I=qC(m,f.global)),__VUE_I18N_FULL_INSTALL__&&LC(m,f,...g),__VUE_I18N_LEGACY_API__&&e&&m.mixin(RC(i,i.__composer,f));const C=m.unmount;m.unmount=()=>{I&&I(),f.dispose(),C()}},get global(){return i},dispose(){s.stop()},__instances:r,__getInstance:l,__setInstance:c,__deleteInstance:h};return f}function fu(t={}){const e=Js();if(e==null)throw Ft(Nt.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ft(Nt.NOT_INSTALLED);const n=MC(e),r=UC(n),s=h_(e),i=FC(t,s);if(i==="global")return f_(r,t,s),r;if(i==="parent"){let c=BC(n,e,t.__useComponent);return c==null&&(c=r),c}const o=n;let l=o.__getInstance(e);if(l==null){const c=Ze({},t);"__i18n"in s&&(c.__i18n=s.__i18n),r&&(c.__root=r),l=uu(c),o.__composerExtend&&(l[Zl]=o.__composerExtend(l)),$C(o,e,l),o.__setInstance(e,l)}return l}function xC(t,e){const n=Z_(),r=__VUE_I18N_LEGACY_API__&&e?n.run(()=>ec(t)):n.run(()=>uu(t));if(r==null)throw Ft(Nt.UNEXPECTED_ERROR);return[n,r]}function MC(t){const e=$s(t.isCE?VC:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ft(t.isCE?Nt.NOT_INSTALLED_WITH_PROVIDE:Nt.UNEXPECTED_ERROR);return e}function FC(t,e){return ga(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function UC(t){return t.mode==="composition"?t.global:t.global.__composer}function BC(t,e,n=!1){let r=null;const s=e.root;let i=jC(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const l=o.__getInstance(i);l!=null&&(r=l.__composer,n&&r&&!r[u_]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function jC(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function $C(t,e,n){gm(()=>{},e),yc(()=>{const r=n;t.__deleteInstance(e);const s=r[Zl];s&&(s(),delete r[Zl])},e)}const HC=["locale","fallbackLocale","availableLocales"],Ld=["t","rt","d","n","tm","te"];function qC(t,e){const n=Object.create(null);return HC.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw Ft(Nt.UNEXPECTED_ERROR);const o=lt(i.value)?{get(){return i.value.value},set(l){i.value.value=l}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,Ld.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw Ft(Nt.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,Ld.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}const WC=_c({name:"i18n-d",props:Ze({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},hu),setup(t,e){const n=t.i18n||fu({useScope:t.scope,__useComponent:!0});return m_(t,e,i_,(...r)=>n[Xl](...r))}}),Vd=WC;AC();eC(k0);tC(X0);nC(Zg);if(__INTLIFY_PROD_DEVTOOLS__){const t=gr();t.__INTLIFY__=!0,x0(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const KC={weddingOf:"THE WEDDING OF",bride:"  P",brideFamily:"    ",groom_self:"",bride_self:"",groom:"",groomFamily:"  ",invited:"    ",weddingDate:"2025 4 8",weddingTime:" ",weddingMessage:`  
     `,loveStory:" ",eventTime:" 3 30 ~ 5",eventMessage:"    .",weddingLocation:" ",weddingLocationDetails:`WILTOP HOTEL JAMBI - INDONESIA
SKY CAFE & BALCONY`,weddingGift:" ",giftMessage:`     
  .`,sendWishes:" ",wishesLabel:"  :",nameLabel:" :",sendButton:"",sendComplete:" .",nameContentRequired:"   ."},GC={weddingOf:"THE WEDDING OF",bride:"Yosie Ananda P",brideFamily:`Daughter of Mr Priyo Purnomo &
 Mrs Siti Aminah`,groom_self:"groom",bride_self:"bride",groom:"Eunsung Lee",groomFamily:`Son of Mr Daesok Lee &
 Mrs Insook Jeong`,invited:"Invited you to celebrate for our Wedding",weddingDate:"April 8, 2025",weddingTime:"WEDDING TIME",weddingMessage:"With love and gratitude, we are ready to take the next step together in marriage",loveStory:"LOVE STORY",eventTime:"15:30 - 17:00",eventMessage:"Your presence completes our happiness",weddingLocation:"WEDDING LOCATION",weddingLocationDetails:`WILTOP HOTEL JAMBI - INDONESIA
SKY CAFE & BALCONY`,weddingGift:"WEDDING GIFT",giftMessage:`We sincerely thank those who celebrate
 our new beginning with us.`,sendWishes:"WISHES",wishesLabel:"Wishes / Message :",nameLabel:"Name :",sendButton:"SEND",sendComplete:"The submission has been completed.",nameContentRequired:"Please fill in both your name and message completely."},zC={weddingOf:"THE WEDDING OF",bride:"Yosie Ananda P",brideFamily:`Putri dari Bapak Priyo Purnomo &
 Ibu Siti Aminah`,groom_self:"groom",bride_self:"bride",groom:"Lee Eunsung",groomFamily:`Putra dari Bapak Daesok Lee &
 Ibu Insook Jeong`,invited:"Invited you to celebrate for our Wedding",weddingDate:"08 . 04 . 2025",weddingTime:"WAKTU ACARA",weddingMessage:"Dengan penuh cinta dan syukur kami siap melangkah bersama dalam ikatan pernikahan",loveStory:"LOVE STORY",eventTime:"15.30 - 17.00",eventMessage:"Hadirmu melengkapi kebahagiaan kami",weddingLocation:"LOKASI PERNIKAHAN",weddingLocationDetails:`WILTOP HOTEL JAMBI - INDONESIA
SKY CAFE & BALCONY`,weddingGift:"WEDDING GIFT",giftMessage:"Terima kasih yang sebesar-besarnya kepada mereka yang turut merayakan awal baru kami.",sendWishes:"UCAPAN / HARAPAN",wishesLabel:"Ucapan / Harapan :",nameLabel:"Nama :",sendButton:"KIRIM",sendComplete:"Pengiriman berhasil.",nameContentRequired:"Harap isi nama dan pesan Anda dengan lengkap."};QR("posts").then(t=>{console.log(t)});const p_=navigator.language.substring(0,2);document.documentElement.lang=p_;const QC=kC({locale:p_||"en",fallbackLocale:"en",messages:{ko:KC,en:GC,id:zC}}),g_=aT(FS);g_.use(QC);g_.mount("#app");
